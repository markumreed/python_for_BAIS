<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>14&nbsp; Deep Dive Tutorial on the diagrams Python Module for Creating Architectural Diagrams Programmatically – Python for Business Analytics and Informaton Systems</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./14_foundations_of_data_comm.html" rel="next">
<link href="./12_python_adv_concepts.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./13_python_lib_for_sys_design.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Deep Dive Tutorial on the <code>diagrams</code> Python Module for Creating Architectural Diagrams Programmatically</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Python for Business Analytics and Informaton Systems</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_python_install_env_setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Installing Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_python_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to Python Programming Basics for Business</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_python_control_structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Python Control Structures for Business Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_python_functions_modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Python Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_python_data_handling_file_io.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Data Handling and File I/O in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_python_error_handling_debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduction to Error Handling and Debugging in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_python_oop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction to Object-Oriented Programming with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_python_database_interaction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Deep Dive Tutorial on SQLite3 for Interacting with SQLite Databases in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_python_api_interaction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to API Interactions with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_python_automated_sys_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Automating System Tasks with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_python_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Deep Dive into the <code>unittest</code> Module with Business Examples</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_python_adv_concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Deep Dive into <code>asyncio</code> for Asynchronous Programming in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_python_lib_for_sys_design.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Deep Dive Tutorial on the <code>diagrams</code> Python Module for Creating Architectural Diagrams Programmatically</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_foundations_of_data_comm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Foundations of Data Communication with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_network_architecture_protocols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Network Architecture and Protocols with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16_network_services_mgmt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Network Services and Management with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17_adv_network_concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Advanced Networking Concepts with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18_modern_network_practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Modern Network Practices with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A1_version_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Introduction to Version Control</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A2_docker.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Using Docker</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#table-of-contents" id="toc-table-of-contents" class="nav-link active" data-scroll-target="#table-of-contents"><span class="header-section-number">14.0.1</span> Table of Contents</a></li>
  <li><a href="#introduction-to-the-diagrams-module" id="toc-introduction-to-the-diagrams-module" class="nav-link" data-scroll-target="#introduction-to-the-diagrams-module"><span class="header-section-number">14.0.2</span> 1. Introduction to the <code>diagrams</code> Module</a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">14.0.3</span> 2. Installation</a></li>
  <li><a href="#basic-usage" id="toc-basic-usage" class="nav-link" data-scroll-target="#basic-usage"><span class="header-section-number">14.0.4</span> 3. Basic Usage</a></li>
  <li><a href="#creating-business-architecture-diagrams" id="toc-creating-business-architecture-diagrams" class="nav-link" data-scroll-target="#creating-business-architecture-diagrams"><span class="header-section-number">14.0.5</span> 4. Creating Business Architecture Diagrams</a></li>
  <li><a href="#advanced-features" id="toc-advanced-features" class="nav-link" data-scroll-target="#advanced-features"><span class="header-section-number">14.0.6</span> 5. Advanced Features</a></li>
  <li><a href="#custom-node-example" id="toc-custom-node-example" class="nav-link" data-scroll-target="#custom-node-example"><span class="header-section-number">14.0.7</span> Custom Node Example</a></li>
  <li><a href="#steps-to-create-custom-nodes" id="toc-steps-to-create-custom-nodes" class="nav-link" data-scroll-target="#steps-to-create-custom-nodes"><span class="header-section-number">14.0.8</span> Steps to Create Custom Nodes</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes"><span class="header-section-number">14.0.9</span> Notes</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">14.0.10</span> 6. Conclusion</a></li>
  <li><a href="#deep-dive-tutorial-on-graphviz-for-creating-diagrams" id="toc-deep-dive-tutorial-on-graphviz-for-creating-diagrams" class="nav-link" data-scroll-target="#deep-dive-tutorial-on-graphviz-for-creating-diagrams"><span class="header-section-number">14.0.11</span> Deep Dive Tutorial on Graphviz for Creating Diagrams</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites"><span class="header-section-number">14.0.12</span> Prerequisites</a></li>
  <li><a href="#example-creating-a-network-architecture-diagram" id="toc-example-creating-a-network-architecture-diagram" class="nav-link" data-scroll-target="#example-creating-a-network-architecture-diagram"><span class="header-section-number">14.0.13</span> Example: Creating a Network Architecture Diagram</a></li>
  <li><a href="#step-1-import-graphviz" id="toc-step-1-import-graphviz" class="nav-link" data-scroll-target="#step-1-import-graphviz"><span class="header-section-number">14.0.14</span> Step 1: Import Graphviz</a></li>
  <li><a href="#step-2-initialize-the-graph" id="toc-step-2-initialize-the-graph" class="nav-link" data-scroll-target="#step-2-initialize-the-graph"><span class="header-section-number">14.0.15</span> Step 2: Initialize the Graph</a></li>
  <li><a href="#step-3-define-nodes" id="toc-step-3-define-nodes" class="nav-link" data-scroll-target="#step-3-define-nodes"><span class="header-section-number">14.0.16</span> Step 3: Define Nodes</a></li>
  <li><a href="#step-4-define-edges" id="toc-step-4-define-edges" class="nav-link" data-scroll-target="#step-4-define-edges"><span class="header-section-number">14.0.17</span> Step 4: Define Edges</a></li>
  <li><a href="#step-5-render-the-graph" id="toc-step-5-render-the-graph" class="nav-link" data-scroll-target="#step-5-render-the-graph"><span class="header-section-number">14.0.18</span> Step 5: Render the Graph</a></li>
  <li><a href="#full-example" id="toc-full-example" class="nav-link" data-scroll-target="#full-example"><span class="header-section-number">14.0.19</span> Full Example</a></li>
  <li><a href="#explanation" id="toc-explanation" class="nav-link" data-scroll-target="#explanation"><span class="header-section-number">14.0.20</span> Explanation</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Deep Dive Tutorial on the <code>diagrams</code> Python Module for Creating Architectural Diagrams Programmatically</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The <code>diagrams</code> module is a powerful tool for creating architectural diagrams programmatically. It is particularly useful for visualizing cloud infrastructure, business processes, and network systems. This tutorial will guide you through using the <code>diagrams</code> module with business-related examples.</p>
<section id="table-of-contents" class="level3" data-number="14.0.1">
<h3 data-number="14.0.1" class="anchored" data-anchor-id="table-of-contents"><span class="header-section-number">14.0.1</span> Table of Contents</h3>
<ol type="1">
<li>Introduction to the <code>diagrams</code> Module</li>
<li>Installation</li>
<li>Basic Usage</li>
<li>Creating Business Architecture Diagrams
<ul>
<li>Cloud Infrastructure Diagram</li>
<li>Business Process Flow Diagram</li>
<li>Network Architecture Diagram</li>
</ul></li>
<li>Advanced Features
<ul>
<li>Custom Nodes</li>
<li>Clustering</li>
<li>Styling</li>
</ul></li>
<li>Conclusion</li>
</ol>
</section>
<section id="introduction-to-the-diagrams-module" class="level3" data-number="14.0.2">
<h3 data-number="14.0.2" class="anchored" data-anchor-id="introduction-to-the-diagrams-module"><span class="header-section-number">14.0.2</span> 1. Introduction to the <code>diagrams</code> Module</h3>
<p>The <code>diagrams</code> module allows you to create architecture diagrams using Python code. It supports various cloud providers (AWS, Azure, GCP), on-premise platforms, and SaaS services.</p>
</section>
<section id="installation" class="level3" data-number="14.0.3">
<h3 data-number="14.0.3" class="anchored" data-anchor-id="installation"><span class="header-section-number">14.0.3</span> 2. Installation</h3>
<p>To use the <code>diagrams</code> module, you need to install it along with Graphviz.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install diagrams</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install graphviz  <span class="co"># On macOS</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># For other platforms, please refer to Graphviz installation documentation.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="basic-usage" class="level3" data-number="14.0.4">
<h3 data-number="14.0.4" class="anchored" data-anchor-id="basic-usage"><span class="header-section-number">14.0.4</span> 3. Basic Usage</h3>
<p>Let’s start with a simple example to understand the basic usage of the <code>diagrams</code> module.</p>
<div id="29ac2732" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Basic AWS Architecture"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    ELB(<span class="st">"Load Balancer"</span>) <span class="op">&gt;&gt;</span> EC2(<span class="st">"Web Server"</span>) <span class="op">&gt;&gt;</span> RDS(<span class="st">"Database"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code creates a basic AWS architecture diagram with a Load Balancer, Web Server, and Database.</p>
</section>
<section id="creating-business-architecture-diagrams" class="level3" data-number="14.0.5">
<h3 data-number="14.0.5" class="anchored" data-anchor-id="creating-business-architecture-diagrams"><span class="header-section-number">14.0.5</span> 4. Creating Business Architecture Diagrams</h3>
<section id="cloud-infrastructure-diagram" class="level4" data-number="14.0.5.1">
<h4 data-number="14.0.5.1" class="anchored" data-anchor-id="cloud-infrastructure-diagram"><span class="header-section-number">14.0.5.1</span> Cloud Infrastructure Diagram</h4>
<p>Let’s create a more detailed cloud infrastructure diagram for a business application.</p>
<div id="862cb1b6" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2, ECS</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB, Route53</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.storage <span class="im">import</span> S3</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Business Cloud Infrastructure"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    dns <span class="op">=</span> Route53(<span class="st">"DNS"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Web Tier"</span>):</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        web_servers <span class="op">=</span> [EC2(<span class="st">"Web1"</span>), EC2(<span class="st">"Web2"</span>), EC2(<span class="st">"Web3"</span>)]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Application Tier"</span>):</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        app_servers <span class="op">=</span> ECS(<span class="st">"App Cluster"</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Database Tier"</span>):</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        db <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    storage <span class="op">=</span> S3(<span class="st">"Static Files"</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    dns <span class="op">&gt;&gt;</span> lb <span class="op">&gt;&gt;</span> web_servers <span class="op">&gt;&gt;</span> app_servers <span class="op">&gt;&gt;</span> db</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    app_servers <span class="op">&gt;&gt;</span> storage</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="business-process-flow-diagram" class="level4" data-number="14.0.5.2">
<h4 data-number="14.0.5.2" class="anchored" data-anchor-id="business-process-flow-diagram"><span class="header-section-number">14.0.5.2</span> Business Process Flow Diagram</h4>
<p>Creating a business process flow diagram to visualize a sales process.</p>
<div id="ee6201fa" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.generic.blank <span class="im">import</span> Blank</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Sales Process Flow"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    start <span class="op">=</span> Blank(<span class="st">"Start"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    lead_gen <span class="op">=</span> Blank(<span class="st">"Lead Generation"</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    lead_qual <span class="op">=</span> Blank(<span class="st">"Lead Qualification"</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    proposal <span class="op">=</span> Blank(<span class="st">"Proposal"</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    negotiation <span class="op">=</span> Blank(<span class="st">"Negotiation"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    close <span class="op">=</span> Blank(<span class="st">"Close"</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    follow_up <span class="op">=</span> Blank(<span class="st">"Follow-Up"</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    start <span class="op">&gt;&gt;</span> lead_gen <span class="op">&gt;&gt;</span> lead_qual <span class="op">&gt;&gt;</span> proposal <span class="op">&gt;&gt;</span> negotiation <span class="op">&gt;&gt;</span> close <span class="op">&gt;&gt;</span> follow_up</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="network-architecture-diagram" class="level4" data-number="14.0.5.3">
<h4 data-number="14.0.5.3" class="anchored" data-anchor-id="network-architecture-diagram"><span class="header-section-number">14.0.5.3</span> Network Architecture Diagram</h4>
<p>Creating a network architecture diagram for a corporate network.</p>
<div id="03117078" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> InternetGateway</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> VPC</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.general <span class="im">import</span> Client</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.security <span class="im">import</span> Shield</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Corporate Network Architecture"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    internet <span class="op">=</span> InternetGateway(<span class="st">"Internet"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    shield <span class="op">=</span> Shield(<span class="st">"Firewall"</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Corporate VPC"</span>):</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        vpc <span class="op">=</span> VPC(<span class="st">"Corporate Network"</span>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> Cluster(<span class="st">"Public Subnet"</span>):</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>            web_server <span class="op">=</span> EC2(<span class="st">"Web Server"</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> Cluster(<span class="st">"Private Subnet"</span>):</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>            app_server <span class="op">=</span> EC2(<span class="st">"Application Server"</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>            database <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    clients <span class="op">=</span> Client(<span class="st">"Clients"</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    internet <span class="op">&gt;&gt;</span> shield <span class="op">&gt;&gt;</span> vpc</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    vpc <span class="op">&gt;&gt;</span> web_server <span class="op">&gt;&gt;</span> app_server <span class="op">&gt;&gt;</span> database</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    clients <span class="op">&gt;&gt;</span> internet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this example:</p>
<ul>
<li><code>InternetGateway</code> represents the internet gateway.</li>
<li><code>Shield</code> represents the firewall.</li>
<li><code>VPC</code> represents the virtual private cloud.</li>
<li><code>EC2</code> represents the web and application servers.</li>
<li><code>RDS</code> represents the database server.</li>
<li><code>Client</code> represents the clients accessing the network.</li>
</ul>
<p>The diagram shows the flow from clients accessing the internet, passing through a firewall, into the corporate VPC which contains both public and private subnets housing the web server, application server, and database. The show=True parameter in the Diagram function call will automatically open the generated diagram image. This setup provides a clear visualization of the corporate network architecture.</p>
</section>
</section>
<section id="advanced-features" class="level3" data-number="14.0.6">
<h3 data-number="14.0.6" class="anchored" data-anchor-id="advanced-features"><span class="header-section-number">14.0.6</span> 5. Advanced Features</h3>
<section id="custom-nodes" class="level4" data-number="14.0.6.1">
<h4 data-number="14.0.6.1" class="anchored" data-anchor-id="custom-nodes"><span class="header-section-number">14.0.6.1</span> Custom Nodes</h4>
<p>Creating custom nodes to represent specific components in your architecture can enhance the clarity and specificity of your diagrams. Below is an example of how to create a custom node in the <code>diagrams</code> library to represent a specific service or component in your architecture.</p>
</section>
</section>
<section id="custom-node-example" class="level3" data-number="14.0.7">
<h3 data-number="14.0.7" class="anchored" data-anchor-id="custom-node-example"><span class="header-section-number">14.0.7</span> Custom Node Example</h3>
<p>In this example, we’ll create a custom node to represent a specific service in our architecture.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Node</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> CustomNode(Node):</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    _provider <span class="op">=</span> <span class="st">"custom"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    _icon_dir <span class="op">=</span> <span class="st">"path/to/icons"</span>  <span class="co"># Replace with the actual path to your custom icons</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    fontcolor <span class="op">=</span> <span class="st">"#ffffff"</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    color <span class="op">=</span> <span class="st">"#2E86C1"</span>  <span class="co"># Background color for the custom node</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, label, <span class="op">**</span>kwargs):</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>().<span class="fu">__init__</span>(label, <span class="op">**</span>kwargs)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure you have the path to your custom icon correctly set</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>custom_icon_path <span class="op">=</span> <span class="st">"path/to/icons/custom_service.png"</span>  <span class="co"># Provide the correct path to your custom icon</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Custom Node Example"</span>, show<span class="op">=</span><span class="va">True</span>, filename<span class="op">=</span><span class="st">"custom_node_example"</span>):</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    custom_node <span class="op">=</span> CustomNode(<span class="st">"Custom Service"</span>, icon_path<span class="op">=</span>custom_icon_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="steps-to-create-custom-nodes" class="level3" data-number="14.0.8">
<h3 data-number="14.0.8" class="anchored" data-anchor-id="steps-to-create-custom-nodes"><span class="header-section-number">14.0.8</span> Steps to Create Custom Nodes</h3>
<ol type="1">
<li><p><strong>Define Custom Node Class</strong>: Create a subclass of <code>Node</code> and define the <code>_provider</code> and <code>_icon_dir</code> attributes. Set <code>fontcolor</code> and any other visual attributes as needed.</p></li>
<li><p><strong>Icon Path</strong>: Specify the path to your custom icon in <code>_icon_dir</code>.</p></li>
<li><p><strong>Instantiate Custom Node</strong>: Create an instance of the custom node within a <code>Diagram</code> context.</p></li>
</ol>
</section>
<section id="notes" class="level3" data-number="14.0.9">
<h3 data-number="14.0.9" class="anchored" data-anchor-id="notes"><span class="header-section-number">14.0.9</span> Notes</h3>
<ul>
<li><strong>Icon Directory</strong>: Ensure that the <code>path/to/icons</code> directory exists and contains the custom icons you want to use. Replace <code>"path/to/icons"</code> with the actual path to your icons.</li>
<li><strong>Icon Path</strong>: Provide the correct path to your custom icon when instantiating the <code>CustomNode</code>.</li>
</ul>
<p>By following these steps, you can create and use custom nodes to represent specific components in your diagrams, making your architectural representations more intuitive and aligned with your specific needs. #### Clustering</p>
<p>Clustering allows you to group related components together for better visualization.</p>
<div id="9de6b26d" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Clustered Architecture"</span>, show<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Cluster 1"</span>):</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        ec2_1 <span class="op">=</span> EC2(<span class="st">"Instance 1"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        ec2_2 <span class="op">=</span> EC2(<span class="st">"Instance 2"</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Cluster 2"</span>):</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        rds_1 <span class="op">=</span> RDS(<span class="st">"Database 1"</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        rds_2 <span class="op">=</span> RDS(<span class="st">"Database 2"</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    ec2_1 <span class="op">&gt;&gt;</span> rds_1</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    ec2_2 <span class="op">&gt;&gt;</span> rds_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="styling" class="level4" data-number="14.0.9.1">
<h4 data-number="14.0.9.1" class="anchored" data-anchor-id="styling"><span class="header-section-number">14.0.9.1</span> Styling</h4>
<p>You can customize the appearance of nodes and edges to improve readability.</p>
<div id="caa3dda1" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>graph_attr <span class="op">=</span> {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"fontsize"</span>: <span class="st">"20"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bgcolor"</span>: <span class="st">"lightblue"</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>node_attr <span class="op">=</span> {</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"style"</span>: <span class="st">"filled"</span>,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"color"</span>: <span class="st">"lightgrey"</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"fontsize"</span>: <span class="st">"15"</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"fontcolor"</span>: <span class="st">"black"</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>edge_attr <span class="op">=</span> {</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"color"</span>: <span class="st">"blue"</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"style"</span>: <span class="st">"dashed"</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Styled Diagram"</span>, show<span class="op">=</span><span class="va">True</span>, graph_attr<span class="op">=</span>graph_attr, node_attr<span class="op">=</span>node_attr, edge_attr<span class="op">=</span>edge_attr):</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    ec2 <span class="op">=</span> EC2(<span class="st">"Web Server"</span>)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> ec2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="conclusion" class="level3" data-number="14.0.10">
<h3 data-number="14.0.10" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">14.0.10</span> 6. Conclusion</h3>
<p>The <code>diagrams</code> module is a versatile and powerful tool for creating architectural diagrams programmatically. It simplifies the process of visualizing complex systems and infrastructures, making it easier to understand and communicate your designs. By using the <code>diagrams</code> module, you can create clear and detailed diagrams for cloud infrastructures, business processes, and network architectures.</p>
<p>By mastering the <code>diagrams</code> module, you can enhance your ability to plan, document, and communicate your business architectures effectively.</p>
</section>
<section id="deep-dive-tutorial-on-graphviz-for-creating-diagrams" class="level3" data-number="14.0.11">
<h3 data-number="14.0.11" class="anchored" data-anchor-id="deep-dive-tutorial-on-graphviz-for-creating-diagrams"><span class="header-section-number">14.0.11</span> Deep Dive Tutorial on Graphviz for Creating Diagrams</h3>
<p>Graphviz is a powerful tool for creating diagrams programmatically. It provides a way to represent structural information as diagrams of abstract graphs and networks. In this tutorial, we will create a fully functional example using Graphviz to create a network architecture diagram for a corporate network.</p>
</section>
<section id="prerequisites" class="level3" data-number="14.0.12">
<h3 data-number="14.0.12" class="anchored" data-anchor-id="prerequisites"><span class="header-section-number">14.0.12</span> Prerequisites</h3>
<p>Ensure you have Graphviz installed. You can install it using the following command:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="example-creating-a-network-architecture-diagram" class="level3" data-number="14.0.13">
<h3 data-number="14.0.13" class="anchored" data-anchor-id="example-creating-a-network-architecture-diagram"><span class="header-section-number">14.0.13</span> Example: Creating a Network Architecture Diagram</h3>
<p>We will create a diagram that represents a basic corporate network structure with servers, workstations, and network devices.</p>
</section>
<section id="step-1-import-graphviz" class="level3" data-number="14.0.14">
<h3 data-number="14.0.14" class="anchored" data-anchor-id="step-1-import-graphviz"><span class="header-section-number">14.0.14</span> Step 1: Import Graphviz</h3>
<div id="c4354dc2" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-2-initialize-the-graph" class="level3" data-number="14.0.15">
<h3 data-number="14.0.15" class="anchored" data-anchor-id="step-2-initialize-the-graph"><span class="header-section-number">14.0.15</span> Step 2: Initialize the Graph</h3>
<div id="5fd539ab" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dot <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">'Network Architecture'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-3-define-nodes" class="level3" data-number="14.0.16">
<h3 data-number="14.0.16" class="anchored" data-anchor-id="step-3-define-nodes"><span class="header-section-number">14.0.16</span> Step 3: Define Nodes</h3>
<div id="46c4c35d" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define nodes with different shapes and labels</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Internet'</span>, <span class="st">'Internet'</span>, shape<span class="op">=</span><span class="st">'cloud'</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Router'</span>, <span class="st">'Router'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Firewall'</span>, <span class="st">'Firewall'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Switch'</span>, <span class="st">'Switch'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Server1'</span>, <span class="st">'Web Server'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Server2'</span>, <span class="st">'Database Server'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Workstation1'</span>, <span class="st">'Workstation 1'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Workstation2'</span>, <span class="st">'Workstation 2'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Workstation3'</span>, <span class="st">'Workstation 3'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-4-define-edges" class="level3" data-number="14.0.17">
<h3 data-number="14.0.17" class="anchored" data-anchor-id="step-4-define-edges"><span class="header-section-number">14.0.17</span> Step 4: Define Edges</h3>
<div id="2bcf425a" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define edges between nodes to represent connections</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Internet'</span>, <span class="st">'Router'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Router'</span>, <span class="st">'Firewall'</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Firewall'</span>, <span class="st">'Switch'</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Server1'</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Server2'</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Workstation1'</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Workstation2'</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Workstation3'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-5-render-the-graph" class="level3" data-number="14.0.18">
<h3 data-number="14.0.18" class="anchored" data-anchor-id="step-5-render-the-graph"><span class="header-section-number">14.0.18</span> Step 5: Render the Graph</h3>
<div id="70eee5a0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the graph to a file</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">'network_architecture.gv'</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: using box for unknown shape cloud</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>'network_architecture.gv.pdf'</code></pre>
</div>
</div>
</section>
<section id="full-example" class="level3" data-number="14.0.19">
<h3 data-number="14.0.19" class="anchored" data-anchor-id="full-example"><span class="header-section-number">14.0.19</span> Full Example</h3>
<p>Below is the complete code for creating a network architecture diagram using Graphviz:</p>
<div id="0d9bc766" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the Graph</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>dot <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">'Network Architecture'</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define nodes with different shapes and labels</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Internet'</span>, <span class="st">'Internet'</span>, shape<span class="op">=</span><span class="st">'cloud'</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Router'</span>, <span class="st">'Router'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Firewall'</span>, <span class="st">'Firewall'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Switch'</span>, <span class="st">'Switch'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Server1'</span>, <span class="st">'Web Server'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Server2'</span>, <span class="st">'Database Server'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Workstation1'</span>, <span class="st">'Workstation 1'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Workstation2'</span>, <span class="st">'Workstation 2'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'Workstation3'</span>, <span class="st">'Workstation 3'</span>, shape<span class="op">=</span><span class="st">'ellipse'</span>)</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Define edges between nodes to represent connections</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Internet'</span>, <span class="st">'Router'</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Router'</span>, <span class="st">'Firewall'</span>)</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Firewall'</span>, <span class="st">'Switch'</span>)</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Server1'</span>)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Server2'</span>)</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Workstation1'</span>)</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Workstation2'</span>)</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'Switch'</span>, <span class="st">'Workstation3'</span>)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the graph to a file</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">'network_architecture.gv'</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: using box for unknown shape cloud</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>'network_architecture.gv.pdf'</code></pre>
</div>
</div>
</section>
<section id="explanation" class="level3" data-number="14.0.20">
<h3 data-number="14.0.20" class="anchored" data-anchor-id="explanation"><span class="header-section-number">14.0.20</span> Explanation</h3>
<ol type="1">
<li><strong>Import Graphviz</strong>: We import the <code>Digraph</code> class from the Graphviz module.</li>
<li><strong>Initialize the Graph</strong>: We create an instance of <code>Digraph</code> with a comment.</li>
<li><strong>Define Nodes</strong>: We define nodes using the <code>dot.node()</code> method, specifying different shapes and labels to represent different types of network components.</li>
<li><strong>Define Edges</strong>: We define edges using the <code>dot.edge()</code> method to represent connections between nodes.</li>
<li><strong>Render the Graph</strong>: We render the graph to a file using the <code>dot.render()</code> method, which generates a file with the diagram and optionally opens it for viewing.</li>
</ol>
<p>By following these steps, you can create a variety of diagrams using Graphviz, ranging from simple to complex structures, tailored to represent various business and technical processes.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./12_python_adv_concepts.html" class="pagination-link" aria-label="Deep Dive into `asyncio` for Asynchronous Programming in Python">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Deep Dive into <code>asyncio</code> for Asynchronous Programming in Python</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./14_foundations_of_data_comm.html" class="pagination-link" aria-label="Foundations of Data Communication with Python">
        <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Foundations of Data Communication with Python</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>