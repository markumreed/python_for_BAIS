<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>14&nbsp; Introduction to Python Libraries for System Design – Python for Business Analytics and Informaton Systems</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./14_foundations_of_data_comm.html" rel="next">
<link href="./12_python_adv_concepts.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./13_python_lib_for_sys_design.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction to Python Libraries for System Design</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Python for Business Analytics and Informaton Systems</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_python_install_env_setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Installing Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_python_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to Python Programming Basics for Business</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_python_control_structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Python Control Structures for Business Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_python_functions_modules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Python Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_python_data_handling_file_io.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Data Handling and File I/O in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_python_error_handling_debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Introduction to Error Handling and Debugging in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_python_oop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction to Object-Oriented Programming with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_python_database_interaction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction to Database Interaction with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_python_api_interaction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to API Interactions with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_python_automated_sys_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Automating System Tasks with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_python_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction to Testing in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_python_adv_concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Advanced Python Concepts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_python_lib_for_sys_design.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction to Python Libraries for System Design</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_foundations_of_data_comm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Foundations of Data Communication with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_network_architecture_protocols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Network Architecture and Protocols with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16_network_services_mgmt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Network Services and Management with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17_adv_network_concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Advanced Networking Concepts with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18_modern_network_practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Modern Network Practices with Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A1_version_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Introduction to Version Control</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A2_docker.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Using Docker</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#creating-architectural-diagrams-with-diagrams" id="toc-creating-architectural-diagrams-with-diagrams" class="nav-link active" data-scroll-target="#creating-architectural-diagrams-with-diagrams"><span class="header-section-number">14.0.1</span> Creating Architectural Diagrams with <code>diagrams</code></a></li>
  <li><a href="#generating-graph-based-diagrams-with-graphviz" id="toc-generating-graph-based-diagrams-with-graphviz" class="nav-link" data-scroll-target="#generating-graph-based-diagrams-with-graphviz"><span class="header-section-number">14.0.2</span> Generating Graph-Based Diagrams with <code>Graphviz</code></a></li>
  <li><a href="#example-combining-diagrams-and-graphviz-for-system-design" id="toc-example-combining-diagrams-and-graphviz-for-system-design" class="nav-link" data-scroll-target="#example-combining-diagrams-and-graphviz-for-system-design"><span class="header-section-number">14.0.3</span> Example: Combining <code>diagrams</code> and <code>Graphviz</code> for System Design</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">14.0.4</span> Conclusion</a></li>
  <li><a href="#deep-dive-into-the-diagrams-python-module" id="toc-deep-dive-into-the-diagrams-python-module" class="nav-link" data-scroll-target="#deep-dive-into-the-diagrams-python-module"><span class="header-section-number">15</span> Deep Dive into the <code>diagrams</code> Python Module</a>
  <ul class="collapse">
  <li><a href="#table-of-contents" id="toc-table-of-contents" class="nav-link" data-scroll-target="#table-of-contents"><span class="header-section-number">15.1</span> Table of Contents</a></li>
  <li><a href="#introduction-to-diagrams" id="toc-introduction-to-diagrams" class="nav-link" data-scroll-target="#introduction-to-diagrams"><span class="header-section-number">15.2</span> Introduction to <code>diagrams</code></a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation"><span class="header-section-number">15.3</span> Installation</a></li>
  <li><a href="#basic-usage" id="toc-basic-usage" class="nav-link" data-scroll-target="#basic-usage"><span class="header-section-number">15.4</span> Basic Usage</a></li>
  <li><a href="#creating-nodes" id="toc-creating-nodes" class="nav-link" data-scroll-target="#creating-nodes"><span class="header-section-number">15.5</span> Creating Nodes</a>
  <ul class="collapse">
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">15.5.1</span> Example</a></li>
  </ul></li>
  <li><a href="#connecting-nodes" id="toc-connecting-nodes" class="nav-link" data-scroll-target="#connecting-nodes"><span class="header-section-number">15.6</span> Connecting Nodes</a>
  <ul class="collapse">
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1"><span class="header-section-number">15.6.1</span> Example</a></li>
  </ul></li>
  <li><a href="#grouping-nodes" id="toc-grouping-nodes" class="nav-link" data-scroll-target="#grouping-nodes"><span class="header-section-number">15.7</span> Grouping Nodes</a>
  <ul class="collapse">
  <li><a href="#example-2" id="toc-example-2" class="nav-link" data-scroll-target="#example-2"><span class="header-section-number">15.7.1</span> Example</a></li>
  </ul></li>
  <li><a href="#customizing-diagrams-1" id="toc-customizing-diagrams-1" class="nav-link" data-scroll-target="#customizing-diagrams-1"><span class="header-section-number">15.8</span> Customizing Diagrams</a>
  <ul class="collapse">
  <li><a href="#example-3" id="toc-example-3" class="nav-link" data-scroll-target="#example-3"><span class="header-section-number">15.8.1</span> Example</a></li>
  </ul></li>
  <li><a href="#supported-providers-and-services" id="toc-supported-providers-and-services" class="nav-link" data-scroll-target="#supported-providers-and-services"><span class="header-section-number">15.9</span> Supported Providers and Services</a>
  <ul class="collapse">
  <li><a href="#aws" id="toc-aws" class="nav-link" data-scroll-target="#aws"><span class="header-section-number">15.9.1</span> AWS</a></li>
  <li><a href="#azure" id="toc-azure" class="nav-link" data-scroll-target="#azure"><span class="header-section-number">15.9.2</span> Azure</a></li>
  <li><a href="#gcp" id="toc-gcp" class="nav-link" data-scroll-target="#gcp"><span class="header-section-number">15.9.3</span> GCP</a></li>
  <li><a href="#generic" id="toc-generic" class="nav-link" data-scroll-target="#generic"><span class="header-section-number">15.9.4</span> Generic</a></li>
  </ul></li>
  <li><a href="#practical-examples" id="toc-practical-examples" class="nav-link" data-scroll-target="#practical-examples"><span class="header-section-number">15.10</span> Practical Examples</a>
  <ul class="collapse">
  <li><a href="#example-1-multi-cloud-architecture" id="toc-example-1-multi-cloud-architecture" class="nav-link" data-scroll-target="#example-1-multi-cloud-architecture"><span class="header-section-number">15.10.1</span> Example 1: Multi-Cloud Architecture</a></li>
  <li><a href="#example-2-complex-microservices-architecture" id="toc-example-2-complex-microservices-architecture" class="nav-link" data-scroll-target="#example-2-complex-microservices-architecture"><span class="header-section-number">15.10.2</span> Example 2: Complex Microservices Architecture</a></li>
  </ul></li>
  <li><a href="#best-practices" id="toc-best-practices" class="nav-link" data-scroll-target="#best-practices"><span class="header-section-number">15.11</span> Best Practices</a></li>
  <li><a href="#conclusion-1" id="toc-conclusion-1" class="nav-link" data-scroll-target="#conclusion-1"><span class="header-section-number">15.12</span> Conclusion</a></li>
  </ul></li>
  <li><a href="#deep-dive-into-the-graphviz-python-module" id="toc-deep-dive-into-the-graphviz-python-module" class="nav-link" data-scroll-target="#deep-dive-into-the-graphviz-python-module"><span class="header-section-number">16</span> Deep Dive into the <code>graphviz</code> Python Module</a>
  <ul class="collapse">
  <li><a href="#table-of-contents-1" id="toc-table-of-contents-1" class="nav-link" data-scroll-target="#table-of-contents-1"><span class="header-section-number">16.1</span> Table of Contents</a></li>
  <li><a href="#introduction-to-graphviz" id="toc-introduction-to-graphviz" class="nav-link" data-scroll-target="#introduction-to-graphviz"><span class="header-section-number">16.2</span> Introduction to Graphviz</a></li>
  <li><a href="#installation-1" id="toc-installation-1" class="nav-link" data-scroll-target="#installation-1"><span class="header-section-number">16.3</span> Installation</a></li>
  <li><a href="#basic-usage-1" id="toc-basic-usage-1" class="nav-link" data-scroll-target="#basic-usage-1"><span class="header-section-number">16.4</span> Basic Usage</a>
  <ul class="collapse">
  <li><a href="#example-4" id="toc-example-4" class="nav-link" data-scroll-target="#example-4"><span class="header-section-number">16.4.1</span> Example</a></li>
  </ul></li>
  <li><a href="#creating-graphs" id="toc-creating-graphs" class="nav-link" data-scroll-target="#creating-graphs"><span class="header-section-number">16.5</span> Creating Graphs</a>
  <ul class="collapse">
  <li><a href="#nodes" id="toc-nodes" class="nav-link" data-scroll-target="#nodes"><span class="header-section-number">16.5.1</span> Nodes</a></li>
  <li><a href="#example-5" id="toc-example-5" class="nav-link" data-scroll-target="#example-5"><span class="header-section-number">16.5.2</span> Example</a></li>
  <li><a href="#edges" id="toc-edges" class="nav-link" data-scroll-target="#edges"><span class="header-section-number">16.5.3</span> Edges</a></li>
  <li><a href="#example-6" id="toc-example-6" class="nav-link" data-scroll-target="#example-6"><span class="header-section-number">16.5.4</span> Example</a></li>
  <li><a href="#adding-multiple-edges" id="toc-adding-multiple-edges" class="nav-link" data-scroll-target="#adding-multiple-edges"><span class="header-section-number">16.5.5</span> Adding Multiple Edges</a></li>
  <li><a href="#example-7" id="toc-example-7" class="nav-link" data-scroll-target="#example-7"><span class="header-section-number">16.5.6</span> Example</a></li>
  </ul></li>
  <li><a href="#customizing-graphs-1" id="toc-customizing-graphs-1" class="nav-link" data-scroll-target="#customizing-graphs-1"><span class="header-section-number">16.6</span> Customizing Graphs</a>
  <ul class="collapse">
  <li><a href="#node-attributes" id="toc-node-attributes" class="nav-link" data-scroll-target="#node-attributes"><span class="header-section-number">16.6.1</span> Node Attributes</a></li>
  <li><a href="#example-8" id="toc-example-8" class="nav-link" data-scroll-target="#example-8"><span class="header-section-number">16.6.2</span> Example</a></li>
  <li><a href="#edge-attributes" id="toc-edge-attributes" class="nav-link" data-scroll-target="#edge-attributes"><span class="header-section-number">16.6.3</span> Edge Attributes</a></li>
  <li><a href="#example-9" id="toc-example-9" class="nav-link" data-scroll-target="#example-9"><span class="header-section-number">16.6.4</span> Example</a></li>
  <li><a href="#graph-attributes" id="toc-graph-attributes" class="nav-link" data-scroll-target="#graph-attributes"><span class="header-section-number">16.6.5</span> Graph Attributes</a></li>
  <li><a href="#example-10" id="toc-example-10" class="nav-link" data-scroll-target="#example-10"><span class="header-section-number">16.6.6</span> Example</a></li>
  </ul></li>
  <li><a href="#working-with-subgraphs" id="toc-working-with-subgraphs" class="nav-link" data-scroll-target="#working-with-subgraphs"><span class="header-section-number">16.7</span> Working with Subgraphs</a>
  <ul class="collapse">
  <li><a href="#example-11" id="toc-example-11" class="nav-link" data-scroll-target="#example-11"><span class="header-section-number">16.7.1</span> Example</a></li>
  </ul></li>
  <li><a href="#advanced-features" id="toc-advanced-features" class="nav-link" data-scroll-target="#advanced-features"><span class="header-section-number">16.8</span> Advanced Features</a>
  <ul class="collapse">
  <li><a href="#record-based-nodes" id="toc-record-based-nodes" class="nav-link" data-scroll-target="#record-based-nodes"><span class="header-section-number">16.8.1</span> Record-Based Nodes</a></li>
  <li><a href="#example-12" id="toc-example-12" class="nav-link" data-scroll-target="#example-12"><span class="header-section-number">16.8.2</span> Example</a></li>
  <li><a href="#html-like-labels" id="toc-html-like-labels" class="nav-link" data-scroll-target="#html-like-labels"><span class="header-section-number">16.8.3</span> HTML-Like Labels</a></li>
  <li><a href="#example-13" id="toc-example-13" class="nav-link" data-scroll-target="#example-13"><span class="header-section-number">16.8.4</span> Example</a></li>
  <li><a href="#changing-ranks" id="toc-changing-ranks" class="nav-link" data-scroll-target="#changing-ranks"><span class="header-section-number">16.8.5</span> Changing Ranks</a></li>
  <li><a href="#example-14" id="toc-example-14" class="nav-link" data-scroll-target="#example-14"><span class="header-section-number">16.8.6</span> Example</a></li>
  </ul></li>
  <li><a href="#practical-examples-1" id="toc-practical-examples-1" class="nav-link" data-scroll-target="#practical-examples-1"><span class="header-section-number">16.9</span> Practical Examples</a>
  <ul class="collapse">
  <li><a href="#example-1-organizational-chart" id="toc-example-1-organizational-chart" class="nav-link" data-scroll-target="#example-1-organizational-chart"><span class="header-section-number">16.9.1</span> Example 1: Organizational Chart</a></li>
  <li><a href="#example-2-network-topology" id="toc-example-2-network-topology" class="nav-link" data-scroll-target="#example-2-network-topology"><span class="header-section-number">16.9.2</span> Example 2: Network Topology</a></li>
  </ul></li>
  <li><a href="#exporting-and-rendering" id="toc-exporting-and-rendering" class="nav-link" data-scroll-target="#exporting-and-rendering"><span class="header-section-number">16.10</span> Exporting and Rendering</a>
  <ul class="collapse">
  <li><a href="#example-15" id="toc-example-15" class="nav-link" data-scroll-target="#example-15"><span class="header-section-number">16.10.1</span> Example</a></li>
  </ul></li>
  <li><a href="#best-practices-1" id="toc-best-practices-1" class="nav-link" data-scroll-target="#best-practices-1"><span class="header-section-number">16.11</span> Best Practices</a></li>
  <li><a href="#conclusion-2" id="toc-conclusion-2" class="nav-link" data-scroll-target="#conclusion-2"><span class="header-section-number">16.12</span> Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction to Python Libraries for System Design</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>System design involves creating architectural diagrams and generating documentation to illustrate the components and interactions within a system. Python offers several libraries to facilitate these tasks programmatically. This tutorial will cover using the <code>diagrams</code> library for creating architectural diagrams and <code>Graphviz</code> for generating graph-based diagrams like data flow diagrams.</p>
<section id="creating-architectural-diagrams-with-diagrams" class="level3" data-number="14.0.1">
<h3 data-number="14.0.1" class="anchored" data-anchor-id="creating-architectural-diagrams-with-diagrams"><span class="header-section-number">14.0.1</span> Creating Architectural Diagrams with <code>diagrams</code></h3>
<p>The <code>diagrams</code> library allows you to create system architecture diagrams programmatically. It provides a simple and intuitive way to visualize cloud infrastructure, data flows, and other components.</p>
<section id="installing-diagrams" class="level4" data-number="14.0.1.1">
<h4 data-number="14.0.1.1" class="anchored" data-anchor-id="installing-diagrams"><span class="header-section-number">14.0.1.1</span> Installing <code>diagrams</code></h4>
<p>First, you need to install the <code>diagrams</code> library. You can install it using pip:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install diagrams</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="basic-usage-of-diagrams" class="level4" data-number="14.0.1.2">
<h4 data-number="14.0.1.2" class="anchored" data-anchor-id="basic-usage-of-diagrams"><span class="header-section-number">14.0.1.2</span> Basic Usage of <code>diagrams</code></h4>
<p>You can create diagrams by defining nodes and edges within a context block.</p>
<section id="example-creating-a-simple-architecture-diagram" class="level5" data-number="14.0.1.2.1">
<h5 data-number="14.0.1.2.1" class="anchored" data-anchor-id="example-creating-a-simple-architecture-diagram"><span class="header-section-number">14.0.1.2.1</span> Example: Creating a Simple Architecture Diagram</h5>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the diagram</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Simple Architecture"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    web_server <span class="op">=</span> EC2(<span class="st">"Web Server"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    database <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web_server <span class="op">&gt;&gt;</span> database</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The above code creates a simple architecture diagram showing an ELB (Elastic Load Balancer) connected to an EC2 instance, which in turn is connected to an RDS (Relational Database Service) instance.</p>
</section>
</section>
<section id="customizing-diagrams" class="level4" data-number="14.0.1.3">
<h4 data-number="14.0.1.3" class="anchored" data-anchor-id="customizing-diagrams"><span class="header-section-number">14.0.1.3</span> Customizing Diagrams</h4>
<p>You can customize the appearance and structure of your diagrams by setting various parameters.</p>
<section id="example-customizing-diagram-attributes" class="level5" data-number="14.0.1.3.1">
<h5 data-number="14.0.1.3.1" class="anchored" data-anchor-id="example-customizing-diagram-attributes"><span class="header-section-number">14.0.1.3.1</span> Example: Customizing Diagram Attributes</h5>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the diagram</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Grouped Architecture"</span>, show<span class="op">=</span><span class="va">False</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Web Tier"</span>):</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        web_server1 <span class="op">=</span> EC2(<span class="st">"Web Server 1"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        web_server2 <span class="op">=</span> EC2(<span class="st">"Web Server 2"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Database Cluster"</span>):</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        primary_db <span class="op">=</span> RDS(<span class="st">"Primary DB"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        replica_db <span class="op">=</span> RDS(<span class="st">"Replica DB"</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web_server1</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web_server2</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    web_server1 <span class="op">&gt;&gt;</span> primary_db</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    web_server2 <span class="op">&gt;&gt;</span> replica_db</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="generating-graph-based-diagrams-with-graphviz" class="level3" data-number="14.0.2">
<h3 data-number="14.0.2" class="anchored" data-anchor-id="generating-graph-based-diagrams-with-graphviz"><span class="header-section-number">14.0.2</span> Generating Graph-Based Diagrams with <code>Graphviz</code></h3>
<p><code>Graphviz</code> is a powerful tool for creating graph-based diagrams such as data flow diagrams, dependency graphs, and more.</p>
<section id="installing-graphviz" class="level4" data-number="14.0.2.1">
<h4 data-number="14.0.2.1" class="anchored" data-anchor-id="installing-graphviz"><span class="header-section-number">14.0.2.1</span> Installing <code>Graphviz</code></h4>
<p>You need to install both the <code>graphviz</code> library and the Graphviz system package. You can install the Python library using pip:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You also need to install Graphviz system package. For example, on Ubuntu:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>On macOS using Homebrew:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="basic-usage-of-graphviz" class="level4" data-number="14.0.2.2">
<h4 data-number="14.0.2.2" class="anchored" data-anchor-id="basic-usage-of-graphviz"><span class="header-section-number">14.0.2.2</span> Basic Usage of <code>Graphviz</code></h4>
<p>You can create graphs by defining nodes and edges using the <code>graphviz</code> library.</p>
<section id="example-creating-a-simple-graph" class="level5" data-number="14.0.2.2.1">
<h5 data-number="14.0.2.2.1" class="anchored" data-anchor-id="example-creating-a-simple-graph"><span class="header-section-number">14.0.2.2.1</span> Example: Creating a Simple Graph</h5>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new directed graph</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>dot <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">"Simple Graph"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add nodes</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"A"</span>, <span class="st">"Node A"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"B"</span>, <span class="st">"Node B"</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"C"</span>, <span class="st">"Node C"</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add edges</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>dot.edges([<span class="st">"AB"</span>, <span class="st">"BC"</span>, <span class="st">"CA"</span>])</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the graph</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">"simple_graph"</span>, <span class="bu">format</span><span class="op">=</span><span class="st">"png"</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This code creates a simple directed graph with three nodes and edges between them.</p>
</section>
</section>
<section id="customizing-graphs" class="level4" data-number="14.0.2.3">
<h4 data-number="14.0.2.3" class="anchored" data-anchor-id="customizing-graphs"><span class="header-section-number">14.0.2.3</span> Customizing Graphs</h4>
<p>You can customize nodes and edges with different shapes, colors, and styles.</p>
<section id="example-customizing-nodes-and-edges" class="level5" data-number="14.0.2.3.1">
<h5 data-number="14.0.2.3.1" class="anchored" data-anchor-id="example-customizing-nodes-and-edges"><span class="header-section-number">14.0.2.3.1</span> Example: Customizing Nodes and Edges</h5>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new directed graph</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>dot <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">"Customized Graph"</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add customized nodes</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"A"</span>, <span class="st">"Node A"</span>, shape<span class="op">=</span><span class="st">"box"</span>, color<span class="op">=</span><span class="st">"blue"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"B"</span>, <span class="st">"Node B"</span>, shape<span class="op">=</span><span class="st">"ellipse"</span>, color<span class="op">=</span><span class="st">"green"</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"C"</span>, <span class="st">"Node C"</span>, shape<span class="op">=</span><span class="st">"diamond"</span>, color<span class="op">=</span><span class="st">"red"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add customized edges</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">"A"</span>, <span class="st">"B"</span>, label<span class="op">=</span><span class="st">"A to B"</span>, color<span class="op">=</span><span class="st">"black"</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">"B"</span>, <span class="st">"C"</span>, label<span class="op">=</span><span class="st">"B to C"</span>, color<span class="op">=</span><span class="st">"gray"</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">"C"</span>, <span class="st">"A"</span>, label<span class="op">=</span><span class="st">"C to A"</span>, color<span class="op">=</span><span class="st">"orange"</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the graph</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">"customized_graph"</span>, <span class="bu">format</span><span class="op">=</span><span class="st">"png"</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="example-combining-diagrams-and-graphviz-for-system-design" class="level3" data-number="14.0.3">
<h3 data-number="14.0.3" class="anchored" data-anchor-id="example-combining-diagrams-and-graphviz-for-system-design"><span class="header-section-number">14.0.3</span> Example: Combining <code>diagrams</code> and <code>Graphviz</code> for System Design</h3>
<p>Let’s create a more complex system design example by combining both <code>diagrams</code> and <code>Graphviz</code>.</p>
<section id="example-visualizing-a-multi-tier-application-with-diagrams-and-graphviz" class="level5" data-number="14.0.3.0.1">
<h5 data-number="14.0.3.0.1" class="anchored" data-anchor-id="example-visualizing-a-multi-tier-application-with-diagrams-and-graphviz"><span class="header-section-number">14.0.3.0.1</span> Example: Visualizing a Multi-Tier Application with <code>diagrams</code> and <code>Graphviz</code></h5>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.client <span class="im">import</span> User</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the architecture diagram using `diagrams`</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Multi-Tier Application"</span>, show<span class="op">=</span><span class="va">False</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    user <span class="op">=</span> User(<span class="st">"User"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Web Tier"</span>):</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        web_server1 <span class="op">=</span> EC2(<span class="st">"Web Server 1"</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        web_server2 <span class="op">=</span> EC2(<span class="st">"Web Server 2"</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Application Tier"</span>):</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        app_server <span class="op">=</span> EC2(<span class="st">"App Server"</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Database Cluster"</span>):</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        primary_db <span class="op">=</span> RDS(<span class="st">"Primary DB"</span>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        replica_db <span class="op">=</span> RDS(<span class="st">"Replica DB"</span>)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    user <span class="op">&gt;&gt;</span> ELB(<span class="st">"Load Balancer"</span>) <span class="op">&gt;&gt;</span> [web_server1, web_server2] <span class="op">&gt;&gt;</span> app_server <span class="op">&gt;&gt;</span> primary_db</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    app_server <span class="op">&gt;&gt;</span> replica_db</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the data flow diagram using `Graphviz`</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>dot <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">"Data Flow Diagram"</span>)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"A"</span>, <span class="st">"User"</span>)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"B"</span>, <span class="st">"Load Balancer"</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"C"</span>, <span class="st">"Web Server 1"</span>)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"D"</span>, <span class="st">"Web Server 2"</span>)</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"E"</span>, <span class="st">"App Server"</span>)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"F"</span>, <span class="st">"Primary DB"</span>)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">"G"</span>, <span class="st">"Replica DB"</span>)</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>dot.edges([<span class="st">"AB"</span>, <span class="st">"BC"</span>, <span class="st">"BD"</span>, <span class="st">"CE"</span>, <span class="st">"DE"</span>, <span class="st">"EF"</span>, <span class="st">"EG"</span>])</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the data flow diagram</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">"data_flow_diagram"</span>, <span class="bu">format</span><span class="op">=</span><span class="st">"png"</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="conclusion" class="level3" data-number="14.0.4">
<h3 data-number="14.0.4" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">14.0.4</span> Conclusion</h3>
<p>Python libraries like <code>diagrams</code> and <code>Graphviz</code> provide powerful tools for creating architectural diagrams and graph-based visualizations programmatically. By mastering these libraries, you can enhance your system design tasks, making it easier to visualize, document, and communicate complex architectures and data flows.</p>
</section>
<section id="deep-dive-into-the-diagrams-python-module" class="level1" data-number="15">
<h1 data-number="15"><span class="header-section-number">15</span> Deep Dive into the <code>diagrams</code> Python Module</h1>
<p>The <code>diagrams</code> module in Python is a powerful tool for creating cloud system architecture diagrams and other diagrams related to infrastructure and operations. It provides a high-level interface for creating diagrams using a simple and intuitive syntax. The module supports various cloud providers, including AWS, Azure, Google Cloud, and others, as well as general system components.</p>
<section id="table-of-contents" class="level2" data-number="15.1">
<h2 data-number="15.1" class="anchored" data-anchor-id="table-of-contents"><span class="header-section-number">15.1</span> Table of Contents</h2>
<ol type="1">
<li><a href="#introduction-to-diagrams">Introduction to <code>diagrams</code></a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#creating-nodes">Creating Nodes</a></li>
<li><a href="#connecting-nodes">Connecting Nodes</a></li>
<li><a href="#grouping-nodes">Grouping Nodes</a></li>
<li><a href="#customizing-diagrams">Customizing Diagrams</a></li>
<li><a href="#supported-providers-and-services">Supported Providers and Services</a></li>
<li><a href="#practical-examples">Practical Examples</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
</section>
<section id="introduction-to-diagrams" class="level2" data-number="15.2">
<h2 data-number="15.2" class="anchored" data-anchor-id="introduction-to-diagrams"><span class="header-section-number">15.2</span> Introduction to <code>diagrams</code></h2>
<p>The <code>diagrams</code> module simplifies the process of creating visual representations of cloud architectures, network layouts, and other system configurations. It uses a graph description language called <code>Graphviz</code> under the hood to render the diagrams.</p>
</section>
<section id="installation" class="level2" data-number="15.3">
<h2 data-number="15.3" class="anchored" data-anchor-id="installation"><span class="header-section-number">15.3</span> Installation</h2>
<p>To install the <code>diagrams</code> module, you need to have Python installed on your system. You can then install it using <code>pip</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install diagrams</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Additionally, you need to have <code>Graphviz</code> installed. Depending on your operating system, you can install it using the following commands:</p>
<ul>
<li><p><strong>For Ubuntu/Debian:</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>For macOS:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>For Windows:</strong></p>
<p>Download and install Graphviz from <a href="https://graphviz.gitlab.io/download/">here</a>.</p></li>
</ul>
</section>
<section id="basic-usage" class="level2" data-number="15.4">
<h2 data-number="15.4" class="anchored" data-anchor-id="basic-usage"><span class="header-section-number">15.4</span> Basic Usage</h2>
<p>Creating a simple diagram with <code>diagrams</code> is straightforward. Here’s a basic example that demonstrates how to create a simple architecture diagram:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Simple Diagram"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    ELB(<span class="st">"load balancer"</span>) <span class="op">&gt;&gt;</span> EC2(<span class="st">"web server"</span>) <span class="op">&gt;&gt;</span> RDS(<span class="st">"database"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This code snippet creates a simple diagram with a load balancer connected to a web server, which in turn is connected to a database. The <code>show=False</code> parameter is used to prevent the diagram from opening automatically after being generated.</p>
</section>
<section id="creating-nodes" class="level2" data-number="15.5">
<h2 data-number="15.5" class="anchored" data-anchor-id="creating-nodes"><span class="header-section-number">15.5</span> Creating Nodes</h2>
<p>Nodes represent different components in the diagram. Each node corresponds to a specific service or component from a cloud provider or a generic category. Nodes can be created by importing the appropriate classes from the <code>diagrams</code> module.</p>
<section id="example" class="level3" data-number="15.5.1">
<h3 data-number="15.5.1" class="anchored" data-anchor-id="example"><span class="header-section-number">15.5.1</span> Example</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating nodes</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>load_balancer <span class="op">=</span> ELB(<span class="st">"load balancer"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>web_server <span class="op">=</span> EC2(<span class="st">"web server"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>database <span class="op">=</span> RDS(<span class="st">"database"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="connecting-nodes" class="level2" data-number="15.6">
<h2 data-number="15.6" class="anchored" data-anchor-id="connecting-nodes"><span class="header-section-number">15.6</span> Connecting Nodes</h2>
<p>Nodes can be connected using the <code>&gt;&gt;</code> operator, which denotes a directional connection between components.</p>
<section id="example-1" class="level3" data-number="15.6.1">
<h3 data-number="15.6.1" class="anchored" data-anchor-id="example-1"><span class="header-section-number">15.6.1</span> Example</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Web Service"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    ELB(<span class="st">"load balancer"</span>) <span class="op">&gt;&gt;</span> EC2(<span class="st">"web server"</span>) <span class="op">&gt;&gt;</span> RDS(<span class="st">"database"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This creates a diagram where the load balancer is connected to the web server, which is connected to the database.</p>
</section>
</section>
<section id="grouping-nodes" class="level2" data-number="15.7">
<h2 data-number="15.7" class="anchored" data-anchor-id="grouping-nodes"><span class="header-section-number">15.7</span> Grouping Nodes</h2>
<p>Nodes can be grouped using clusters, which are used to visually organize nodes into logical groups.</p>
<section id="example-2" class="level3" data-number="15.7.1">
<h3 data-number="15.7.1" class="anchored" data-anchor-id="example-2"><span class="header-section-number">15.7.1</span> Example</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Cluster, Diagram</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Grouped Diagram"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Web Cluster"</span>):</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        web1 <span class="op">=</span> EC2(<span class="st">"web1"</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        web2 <span class="op">=</span> EC2(<span class="st">"web2"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        web3 <span class="op">=</span> EC2(<span class="st">"web3"</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">=</span> ELB(<span class="st">"load balancer"</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    database <span class="op">=</span> RDS(<span class="st">"database"</span>)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web1</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web2</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web3</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    web1 <span class="op">&gt;&gt;</span> database</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    web2 <span class="op">&gt;&gt;</span> database</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    web3 <span class="op">&gt;&gt;</span> database</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this example, the web servers are grouped into a cluster called “Web Cluster”.</p>
</section>
</section>
<section id="customizing-diagrams-1" class="level2" data-number="15.8">
<h2 data-number="15.8" class="anchored" data-anchor-id="customizing-diagrams-1"><span class="header-section-number">15.8</span> Customizing Diagrams</h2>
<p>Diagrams can be customized by setting various attributes, such as the output format, the direction of the graph, and other styling options.</p>
<section id="example-3" class="level3" data-number="15.8.1">
<h3 data-number="15.8.1" class="anchored" data-anchor-id="example-3"><span class="header-section-number">15.8.1</span> Example</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Custom Diagram"</span>, show<span class="op">=</span><span class="va">False</span>, direction<span class="op">=</span><span class="st">"TB"</span>):</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Web Cluster"</span>):</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>        web1 <span class="op">=</span> EC2(<span class="st">"web1"</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        web2 <span class="op">=</span> EC2(<span class="st">"web2"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>        web3 <span class="op">=</span> EC2(<span class="st">"web3"</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">=</span> ELB(<span class="st">"load balancer"</span>)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    database <span class="op">=</span> RDS(<span class="st">"database"</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web1</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web2</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    load_balancer <span class="op">&gt;&gt;</span> web3</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    web1 <span class="op">&gt;&gt;</span> database</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    web2 <span class="op">&gt;&gt;</span> database</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    web3 <span class="op">&gt;&gt;</span> database</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this example, the direction of the graph is set to top-to-bottom (<code>"TB"</code>).</p>
</section>
</section>
<section id="supported-providers-and-services" class="level2" data-number="15.9">
<h2 data-number="15.9" class="anchored" data-anchor-id="supported-providers-and-services"><span class="header-section-number">15.9</span> Supported Providers and Services</h2>
<p>The <code>diagrams</code> module supports various cloud providers and generic components. Each provider has its own set of services and components that can be used to create diagrams.</p>
<section id="aws" class="level3" data-number="15.9.1">
<h3 data-number="15.9.1" class="anchored" data-anchor-id="aws"><span class="header-section-number">15.9.1</span> AWS</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="azure" class="level3" data-number="15.9.2">
<h3 data-number="15.9.2" class="anchored" data-anchor-id="azure"><span class="header-section-number">15.9.2</span> Azure</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.compute <span class="im">import</span> VM</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.database <span class="im">import</span> SQLDatabase</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.network <span class="im">import</span> LoadBalancer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="gcp" class="level3" data-number="15.9.3">
<h3 data-number="15.9.3" class="anchored" data-anchor-id="gcp"><span class="header-section-number">15.9.3</span> GCP</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.compute <span class="im">import</span> GCE</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.database <span class="im">import</span> SQL</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.network <span class="im">import</span> LoadBalancing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="generic" class="level3" data-number="15.9.4">
<h3 data-number="15.9.4" class="anchored" data-anchor-id="generic"><span class="header-section-number">15.9.4</span> Generic</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.generic.compute <span class="im">import</span> Server</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.generic.database <span class="im">import</span> SQL</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.generic.network <span class="im">import</span> Firewall</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For a full list of supported providers and services, refer to the <a href="https://diagrams.mingrammer.com/docs/nodes">official documentation</a>.</p>
</section>
</section>
<section id="practical-examples" class="level2" data-number="15.10">
<h2 data-number="15.10" class="anchored" data-anchor-id="practical-examples"><span class="header-section-number">15.10</span> Practical Examples</h2>
<section id="example-1-multi-cloud-architecture" class="level3" data-number="15.10.1">
<h3 data-number="15.10.1" class="anchored" data-anchor-id="example-1-multi-cloud-architecture"><span class="header-section-number">15.10.1</span> Example 1: Multi-Cloud Architecture</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.azure.compute <span class="im">import</span> VM</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.gcp.compute <span class="im">import</span> GCE</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.network <span class="im">import</span> Internet</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Multi-Cloud Architecture"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    internet <span class="op">=</span> Internet(<span class="st">"Internet"</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"AWS"</span>):</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        aws_web <span class="op">=</span> EC2(<span class="st">"web server"</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Azure"</span>):</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>        azure_web <span class="op">=</span> VM(<span class="st">"web server"</span>)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"GCP"</span>):</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        gcp_web <span class="op">=</span> GCE(<span class="st">"web server"</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    internet <span class="op">&gt;&gt;</span> aws_web</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    internet <span class="op">&gt;&gt;</span> azure_web</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    internet <span class="op">&gt;&gt;</span> gcp_web</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="example-2-complex-microservices-architecture" class="level3" data-number="15.10.2">
<h3 data-number="15.10.2" class="anchored" data-anchor-id="example-2-complex-microservices-architecture"><span class="header-section-number">15.10.2</span> Example 2: Complex Microservices Architecture</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams <span class="im">import</span> Diagram, Cluster</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.compute <span class="im">import</span> EC2</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.database <span class="im">import</span> RDS</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.aws.network <span class="im">import</span> ELB</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> diagrams.onprem.client <span class="im">import</span> User</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> Diagram(<span class="st">"Microservices Architecture"</span>, show<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    user <span class="op">=</span> User(<span class="st">"User"</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Load Balancer"</span>):</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        lb <span class="op">=</span> ELB(<span class="st">"Load Balancer"</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> Cluster(<span class="st">"Services"</span>):</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        svc1 <span class="op">=</span> EC2(<span class="st">"Service 1"</span>)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        svc2 <span class="op">=</span> EC2(<span class="st">"Service 2"</span>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        svc3 <span class="op">=</span> EC2(<span class="st">"Service 3"</span>)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    db <span class="op">=</span> RDS(<span class="st">"Database"</span>)</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    user <span class="op">&gt;&gt;</span> lb</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> svc1</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> svc2</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    lb <span class="op">&gt;&gt;</span> svc3</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    svc1 <span class="op">&gt;&gt;</span> db</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>    svc2 <span class="op">&gt;&gt;</span> db</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    svc3 <span class="op">&gt;&gt;</span> db</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="best-practices" class="level2" data-number="15.11">
<h2 data-number="15.11" class="anchored" data-anchor-id="best-practices"><span class="header-section-number">15.11</span> Best Practices</h2>
<ol type="1">
<li><strong>Organize Components</strong>: Use clusters to logically group related components.</li>
<li><strong>Use Descriptive Names</strong>: Label your nodes and clusters with meaningful names.</li>
<li><strong>Optimize Layout</strong>: Adjust the diagram direction and other settings to make the diagram clear and easy to understand.</li>
<li><strong>Document Your Diagram</strong>: Provide context and explanations for your diagram to help others understand it.</li>
</ol>
</section>
<section id="conclusion-1" class="level2" data-number="15.12">
<h2 data-number="15.12" class="anchored" data-anchor-id="conclusion-1"><span class="header-section-number">15.12</span> Conclusion</h2>
<p>The <code>diagrams</code> module in Python is a powerful tool for creating detailed and professional-looking diagrams for cloud architecture, network layouts, and other system configurations. With its simple and intuitive syntax, you can quickly create and customize diagrams to suit your needs. By leveraging the full range of features provided by <code>diagrams</code>, you can improve the clarity and effectiveness of your documentation and presentations.</p>
</section>
</section>
<section id="deep-dive-into-the-graphviz-python-module" class="level1" data-number="16">
<h1 data-number="16"><span class="header-section-number">16</span> Deep Dive into the <code>graphviz</code> Python Module</h1>
<p>The <code>graphviz</code> Python module is an interface for creating and rendering Graphviz graphs. Graphviz is an open-source graph visualization software that allows you to create diagrams and visual representations of graphs using the DOT language. This tutorial will cover the installation, basic usage, and advanced features of the <code>graphviz</code> module.</p>
<section id="table-of-contents-1" class="level2" data-number="16.1">
<h2 data-number="16.1" class="anchored" data-anchor-id="table-of-contents-1"><span class="header-section-number">16.1</span> Table of Contents</h2>
<ol type="1">
<li><a href="#introduction-to-graphviz">Introduction to Graphviz</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#creating-graphs">Creating Graphs</a></li>
<li><a href="#customizing-graphs">Customizing Graphs</a></li>
<li><a href="#working-with-subgraphs">Working with Subgraphs</a></li>
<li><a href="#advanced-features">Advanced Features</a></li>
<li><a href="#practical-examples">Practical Examples</a></li>
<li><a href="#exporting-and-rendering">Exporting and Rendering</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
</section>
<section id="introduction-to-graphviz" class="level2" data-number="16.2">
<h2 data-number="16.2" class="anchored" data-anchor-id="introduction-to-graphviz"><span class="header-section-number">16.2</span> Introduction to Graphviz</h2>
<p>Graphviz is a graph visualization software that provides a way to represent structural information as diagrams of abstract graphs and networks. The <code>graphviz</code> Python module provides a way to interface with the Graphviz software, allowing you to create and manipulate graphs directly from Python code.</p>
</section>
<section id="installation-1" class="level2" data-number="16.3">
<h2 data-number="16.3" class="anchored" data-anchor-id="installation-1"><span class="header-section-number">16.3</span> Installation</h2>
<p>To install the <code>graphviz</code> module, you need to have Python installed on your system. You can then install it using <code>pip</code>:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Additionally, you need to have the Graphviz software installed. Depending on your operating system, you can install it using the following commands:</p>
<ul>
<li><p><strong>For Ubuntu/Debian:</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>For macOS:</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install graphviz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>For Windows:</strong></p>
<p>Download and install Graphviz from <a href="https://graphviz.gitlab.io/download/">here</a>.</p></li>
</ul>
</section>
<section id="basic-usage-1" class="level2" data-number="16.4">
<h2 data-number="16.4" class="anchored" data-anchor-id="basic-usage-1"><span class="header-section-number">16.4</span> Basic Usage</h2>
<p>To create a basic graph using the <code>graphviz</code> module, you need to import the <code>Graph</code> or <code>Digraph</code> class from the <code>graphviz</code> module. A <code>Graph</code> is an undirected graph, while a <code>Digraph</code> is a directed graph.</p>
<section id="example-4" class="level3" data-number="16.4.1">
<h3 data-number="16.4.1" class="anchored" data-anchor-id="example-4"><span class="header-section-number">16.4.1</span> Example</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>dot <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">'My First Graph'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'A'</span>, <span class="st">'Node A'</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'B'</span>, <span class="st">'Node B'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'A'</span>, <span class="st">'B'</span>, label<span class="op">=</span><span class="st">'Edge from A to B'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(dot.source)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">'output/first_graph'</span>, <span class="bu">format</span><span class="op">=</span><span class="st">'png'</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This code snippet creates a simple directed graph with two nodes and an edge between them. The <code>render</code> method saves the graph to a file and optionally opens it for viewing.</p>
</section>
</section>
<section id="creating-graphs" class="level2" data-number="16.5">
<h2 data-number="16.5" class="anchored" data-anchor-id="creating-graphs"><span class="header-section-number">16.5</span> Creating Graphs</h2>
<section id="nodes" class="level3" data-number="16.5.1">
<h3 data-number="16.5.1" class="anchored" data-anchor-id="nodes"><span class="header-section-number">16.5.1</span> Nodes</h3>
<p>Nodes represent the vertices of the graph. You can add nodes to the graph using the <code>node</code> method.</p>
</section>
<section id="example-5" class="level3" data-number="16.5.2">
<h3 data-number="16.5.2" class="anchored" data-anchor-id="example-5"><span class="header-section-number">16.5.2</span> Example</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'A'</span>, <span class="st">'Node A'</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'B'</span>, <span class="st">'Node B'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="edges" class="level3" data-number="16.5.3">
<h3 data-number="16.5.3" class="anchored" data-anchor-id="edges"><span class="header-section-number">16.5.3</span> Edges</h3>
<p>Edges represent the connections between nodes. You can add edges to the graph using the <code>edge</code> method.</p>
</section>
<section id="example-6" class="level3" data-number="16.5.4">
<h3 data-number="16.5.4" class="anchored" data-anchor-id="example-6"><span class="header-section-number">16.5.4</span> Example</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'A'</span>, <span class="st">'B'</span>, label<span class="op">=</span><span class="st">'Edge from A to B'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="adding-multiple-edges" class="level3" data-number="16.5.5">
<h3 data-number="16.5.5" class="anchored" data-anchor-id="adding-multiple-edges"><span class="header-section-number">16.5.5</span> Adding Multiple Edges</h3>
<p>You can add multiple edges at once using the <code>edges</code> method.</p>
</section>
<section id="example-7" class="level3" data-number="16.5.6">
<h3 data-number="16.5.6" class="anchored" data-anchor-id="example-7"><span class="header-section-number">16.5.6</span> Example</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>dot.edges([<span class="st">'AC'</span>, <span class="st">'BD'</span>, <span class="st">'CD'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="customizing-graphs-1" class="level2" data-number="16.6">
<h2 data-number="16.6" class="anchored" data-anchor-id="customizing-graphs-1"><span class="header-section-number">16.6</span> Customizing Graphs</h2>
<section id="node-attributes" class="level3" data-number="16.6.1">
<h3 data-number="16.6.1" class="anchored" data-anchor-id="node-attributes"><span class="header-section-number">16.6.1</span> Node Attributes</h3>
<p>You can customize the appearance of nodes using various attributes such as <code>color</code>, <code>shape</code>, and <code>style</code>.</p>
</section>
<section id="example-8" class="level3" data-number="16.6.2">
<h3 data-number="16.6.2" class="anchored" data-anchor-id="example-8"><span class="header-section-number">16.6.2</span> Example</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'A'</span>, <span class="st">'Node A'</span>, color<span class="op">=</span><span class="st">'lightblue'</span>, style<span class="op">=</span><span class="st">'filled'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="edge-attributes" class="level3" data-number="16.6.3">
<h3 data-number="16.6.3" class="anchored" data-anchor-id="edge-attributes"><span class="header-section-number">16.6.3</span> Edge Attributes</h3>
<p>You can customize the appearance of edges using attributes such as <code>color</code>, <code>style</code>, and <code>label</code>.</p>
</section>
<section id="example-9" class="level3" data-number="16.6.4">
<h3 data-number="16.6.4" class="anchored" data-anchor-id="example-9"><span class="header-section-number">16.6.4</span> Example</h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'A'</span>, <span class="st">'B'</span>, label<span class="op">=</span><span class="st">'Edge from A to B'</span>, color<span class="op">=</span><span class="st">'red'</span>, style<span class="op">=</span><span class="st">'dashed'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="graph-attributes" class="level3" data-number="16.6.5">
<h3 data-number="16.6.5" class="anchored" data-anchor-id="graph-attributes"><span class="header-section-number">16.6.5</span> Graph Attributes</h3>
<p>You can set global attributes for the graph, nodes, and edges using the <code>attr</code> method.</p>
</section>
<section id="example-10" class="level3" data-number="16.6.6">
<h3 data-number="16.6.6" class="anchored" data-anchor-id="example-10"><span class="header-section-number">16.6.6</span> Example</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>dot.attr(rankdir<span class="op">=</span><span class="st">'LR'</span>, size<span class="op">=</span><span class="st">'8,5'</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>dot.node_attr.update(style<span class="op">=</span><span class="st">'filled'</span>, color<span class="op">=</span><span class="st">'lightgrey'</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>dot.edge_attr.update(arrowsize<span class="op">=</span><span class="st">'2'</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="working-with-subgraphs" class="level2" data-number="16.7">
<h2 data-number="16.7" class="anchored" data-anchor-id="working-with-subgraphs"><span class="header-section-number">16.7</span> Working with Subgraphs</h2>
<p>Subgraphs allow you to group nodes and edges into clusters or logical groups.</p>
<section id="example-11" class="level3" data-number="16.7.1">
<h3 data-number="16.7.1" class="anchored" data-anchor-id="example-11"><span class="header-section-number">16.7.1</span> Example</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> dot.subgraph(name<span class="op">=</span><span class="st">'cluster_0'</span>) <span class="im">as</span> c:</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    c.attr(style<span class="op">=</span><span class="st">'filled'</span>, color<span class="op">=</span><span class="st">'lightgrey'</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    c.node_attr.update(style<span class="op">=</span><span class="st">'filled'</span>, color<span class="op">=</span><span class="st">'white'</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    c.node(<span class="st">'A'</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    c.node(<span class="st">'B'</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    c.edge(<span class="st">'A'</span>, <span class="st">'B'</span>, label<span class="op">=</span><span class="st">'Edge in Cluster'</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    c.attr(label<span class="op">=</span><span class="st">'Cluster 0'</span>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'C'</span>, <span class="st">'Node C'</span>)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'B'</span>, <span class="st">'C'</span>, label<span class="op">=</span><span class="st">'Edge to C'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="advanced-features" class="level2" data-number="16.8">
<h2 data-number="16.8" class="anchored" data-anchor-id="advanced-features"><span class="header-section-number">16.8</span> Advanced Features</h2>
<section id="record-based-nodes" class="level3" data-number="16.8.1">
<h3 data-number="16.8.1" class="anchored" data-anchor-id="record-based-nodes"><span class="header-section-number">16.8.1</span> Record-Based Nodes</h3>
<p>Record-based nodes allow you to create nodes with multiple fields, which is useful for representing structured data.</p>
</section>
<section id="example-12" class="level3" data-number="16.8.2">
<h3 data-number="16.8.2" class="anchored" data-anchor-id="example-12"><span class="header-section-number">16.8.2</span> Example</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'struct1'</span>, label<span class="op">=</span><span class="st">'&lt;f0&gt; left|&lt;f1&gt; mid\ dle|&lt;f2&gt; right'</span>, shape<span class="op">=</span><span class="st">'record'</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'struct2'</span>, label<span class="op">=</span><span class="st">'one|two'</span>, shape<span class="op">=</span><span class="st">'record'</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'struct1:f1'</span>, <span class="st">'struct2'</span>, label<span class="op">=</span><span class="st">'Field Link'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="html-like-labels" class="level3" data-number="16.8.3">
<h3 data-number="16.8.3" class="anchored" data-anchor-id="html-like-labels"><span class="header-section-number">16.8.3</span> HTML-Like Labels</h3>
<p>You can use HTML-like labels to create more complex node labels.</p>
</section>
<section id="example-13" class="level3" data-number="16.8.4">
<h3 data-number="16.8.4" class="anchored" data-anchor-id="example-13"><span class="header-section-number">16.8.4</span> Example</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'html_node'</span>, label<span class="op">=</span><span class="st">'&lt;&lt;TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0"&gt;&lt;TR&gt;&lt;TD&gt;Cell 1&lt;/TD&gt;&lt;TD&gt;Cell 2&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="changing-ranks" class="level3" data-number="16.8.5">
<h3 data-number="16.8.5" class="anchored" data-anchor-id="changing-ranks"><span class="header-section-number">16.8.5</span> Changing Ranks</h3>
<p>You can change the rank of nodes to control their layout in the graph.</p>
</section>
<section id="example-14" class="level3" data-number="16.8.6">
<h3 data-number="16.8.6" class="anchored" data-anchor-id="example-14"><span class="header-section-number">16.8.6</span> Example</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>dot.attr(rankdir<span class="op">=</span><span class="st">'LR'</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'A'</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>dot.node(<span class="st">'B'</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'A'</span>, <span class="st">'B'</span>)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> dot.subgraph() <span class="im">as</span> s:</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    s.attr(rank<span class="op">=</span><span class="st">'same'</span>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    s.node(<span class="st">'C'</span>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    s.node(<span class="st">'D'</span>)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'B'</span>, <span class="st">'C'</span>)</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>dot.edge(<span class="st">'C'</span>, <span class="st">'D'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="practical-examples-1" class="level2" data-number="16.9">
<h2 data-number="16.9" class="anchored" data-anchor-id="practical-examples-1"><span class="header-section-number">16.9</span> Practical Examples</h2>
<section id="example-1-organizational-chart" class="level3" data-number="16.9.1">
<h3 data-number="16.9.1" class="anchored" data-anchor-id="example-1-organizational-chart"><span class="header-section-number">16.9.1</span> Example 1: Organizational Chart</h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>org_chart <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">'Organizational Chart'</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'CEO'</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'CTO'</span>)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'CFO'</span>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'COO'</span>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'Dev1'</span>)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'Dev2'</span>)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'Account1'</span>)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>org_chart.node(<span class="st">'Account2'</span>)</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>org_chart.edges([<span class="st">'CEOCTO'</span>, <span class="st">'CEOCFO'</span>, <span class="st">'CEOCMO'</span>, <span class="st">'CTODev1'</span>, <span class="st">'CTODev2'</span>, <span class="st">'CFOAccount1'</span>, <span class="st">'CFOAccount2'</span>])</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>org_chart.render(<span class="st">'output/org_chart'</span>, <span class="bu">format</span><span class="op">=</span><span class="st">'png'</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="example-2-network-topology" class="level3" data-number="16.9.2">
<h3 data-number="16.9.2" class="anchored" data-anchor-id="example-2-network-topology"><span class="header-section-number">16.9.2</span> Example 2: Network Topology</h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> graphviz <span class="im">import</span> Digraph</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>net_topo <span class="op">=</span> Digraph(comment<span class="op">=</span><span class="st">'Network Topology'</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>net_topo.node(<span class="st">'Router'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>net_topo.node(<span class="st">'Switch'</span>, shape<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>net_topo.node(<span class="st">'Server1'</span>, shape<span class="op">=</span><span class="st">'oval'</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>net_topo.node(<span class="st">'Server2'</span>, shape<span class="op">=</span><span class="st">'oval'</span>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>net_topo.node(<span class="st">'PC1'</span>, shape<span class="op">=</span><span class="st">'oval'</span>)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>net_topo.node(<span class="st">'PC2'</span>, shape<span class="op">=</span><span class="st">'oval'</span>)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>net_topo.edges([<span class="st">'RouterSwitch'</span>, <span class="st">'SwitchServer1'</span>, <span class="st">'SwitchServer2'</span>, <span class="st">'SwitchPC1'</span>, <span class="st">'SwitchPC2'</span>])</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>net_topo.render(<span class="st">'output/net_topo'</span>, <span class="bu">format</span><span class="op">=</span><span class="st">'png'</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="exporting-and-rendering" class="level2" data-number="16.10">
<h2 data-number="16.10" class="anchored" data-anchor-id="exporting-and-rendering"><span class="header-section-number">16.10</span> Exporting and Rendering</h2>
<p>You can export and render your graph to various formats, including PNG, PDF, and SVG.</p>
<section id="example-15" class="level3" data-number="16.10.1">
<h3 data-number="16.10.1" class="anchored" data-anchor-id="example-15"><span class="header-section-number">16.10.1</span> Example</h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>dot.render(<span class="st">'output/my_graph'</span>, <span class="bu">format</span><span class="op">=</span><span class="st">'png'</span>, view<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command saves the graph as a PNG file and opens it for viewing.</p>
</section>
</section>
<section id="best-practices-1" class="level2" data-number="16.11">
<h2 data-number="16.11" class="anchored" data-anchor-id="best-practices-1"><span class="header-section-number">16.11</span> Best Practices</h2>
<ol type="1">
<li><strong>Use Meaningful Labels</strong>: Label your nodes and edges with meaningful names to make the graph easier to understand.</li>
<li><strong>Organize with Subgraphs</strong>: Use subgraphs to logically group related nodes and edges.</li>
<li><strong>Customize for Clarity</strong>: Customize the appearance of nodes and edges to improve readability.</li>
<li><strong>Keep it Simple</strong>: Avoid overly complex graphs that are hard to read and understand.</li>
<li><strong>Document Your Graph</strong>: Provide context and explanations for your graph to help others understand it.</li>
</ol>
</section>
<section id="conclusion-2" class="level2" data-number="16.12">
<h2 data-number="16.12" class="anchored" data-anchor-id="conclusion-2"><span class="header-section-number">16.12</span> Conclusion</h2>
<p>The <code>graphviz</code> Python module is a powerful tool for creating and visualizing graphs. It provides a simple and intuitive interface for creating complex diagrams and supports various customization options to improve the clarity and readability of your graphs. By leveraging the full range of features provided by <code>graphviz</code>, you can create detailed and professional-looking diagrams for a wide range of applications.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./12_python_adv_concepts.html" class="pagination-link" aria-label="Advanced Python Concepts">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Advanced Python Concepts</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./14_foundations_of_data_comm.html" class="pagination-link" aria-label="Foundations of Data Communication with Python">
        <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Foundations of Data Communication with Python</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>